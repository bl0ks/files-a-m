(function(l){var h=window.AmazonUIPageJS||window.P,H=h._namespace||h.attributeErrors,D=H?H("PackageTrackingAssets",""):h;D.guardFatal?D.guardFatal(l)(D,window):D.execute(function(){l(D,window)})})(function(l,h,H){function D(a,c){return{action:a,trackingId:c.trackingId,csrfToken:c.csrfToken}}function M(a){return{deviceType:a.deviceType,feedbackSuccessHeading:a.feedbackSuccessHeading,feedbackSuccessMessage:a.feedbackSuccessMessage,optOutSuccessHeading:a.optOutSuccessHeading,optOutSuccessMessage:a.optOutSuccessMessage,
    feedbackErrorHeading:a.feedbackErrorHeading,feedbackErrorMessage:a.feedbackErrorMessage,optOutErrorHeading:a.optOutErrorHeading,optOutErrorMessage:a.optOutErrorMessage}}function B(a,c,e,f,g){c=c("#photoOnDelivery-alert");"1"===g?(c.heading(e),c.text(f),c.type("success")):(c.heading(e),c.text(f),c.type("error"));a("#photoOnDelivery-alert").css("display","block")}function P(a,c){l.when("a-secondary-view").execute(function(a){(a=a.get(c))&&a.hide()})}function K(a,c){l.when("a-modal").execute(function(a){(a=
    a.get(c))&&a.hide()})}function R(a){return!a||0===a.length||!a.trim()}"use strict";l.when("A","pt2-csm-metrics-utils","ready").register("emit-edd-in-the-past-csm-metrics",function(a,c){a=a.$;a("#pt2-get-refund-connection").length&&c.incrementCount("pt2-get-refund-connection-shown");a("#pt2-get-replacement-connection").length&&c.incrementCount("pt2-get-replacement-connection-shown");a("#pt2-get-replacement-or-refund-connection").length&&c.incrementCount("pt2-get-replacement-or-refund-connection-shown");
    a=a("#pt2-contact-us-connection");a.length&&c.incrementCount("pt2-contact-us-"+a.data("reason"))});"use strict";l.when("A","ready").register("page-load",function(a){var c=a.$;setTimeout(function(){c("#pageContainer").removeClass("fade-out")},300);return{loadedAt:(new Date).getTime()}});l.when("A","ready").register("iphone-x-fix",function(a){a=a.$;var c=/iPhone/.test(navigator.userAgent)&&!h.MSStream,e=h.devicePixelRatio||1,f=h.screen.width*e,e=h.screen.height*e;c&&1125==f&&2436===e&&a("#pageContainer").addClass("iphone-x")});
    "use strict";l.when("A","ready").register("pt2-page-utils",function(a){return{modifyPageScrollStatus:function(c){var e,f=a.$("#a-page"),g=a.$("body");c?(e=g.scrollTop(),a.requestAnimationFrame(function(){f.css({position:"fixed",top:"-"+e+"px"})},f[0])):a.requestAnimationFrame(function(){f.css({position:"",top:""});g.scrollTop(e)},f[0])},debounce:function(a,e,f){var g;return function(){var b=this,d=arguments,k=f&&!g;clearTimeout(g);g=setTimeout(function(){g=null;f||a.apply(b,d)},e);k&&a.apply(b,d)}}}});
    l.when("A","pt2-csm-metrics-utils","ready").register("sign-in-again-or-do",function(a,c){var e=-1!==h.location.host.indexOf("hp-shoppingportal")?"/portal/cstrac/progress-tracker/actions/is-authenticated":"/progress-tracker/package/actions/is-authenticated",f;return function(g,b,d,c,I){a.post(e,{params:{csrfToken:c.csrfToken},success:function(a){a.success&&a.value?I&&I():a.success?(a=g.$currentTarget,c.width=620>h.innerWidth?.75*h.innerWidth:600,c.name=d,c.dataStrategy="preload",f||(f=b.create(a,c)),
    f.update({header:c.header||""}).show()):console.log("service failed")},error:function(a){}})}});l.when("A","map-tracking-status","response-code","pt2-csm-metrics-utils","ready").register("map-tracking-memoization",function(a,c,e,f){var g=-1!==h.location.host.indexOf("hp-shoppingportal")?"/portal/cstrac/progress-tracker/actions/map-tracking/memoize":"/progress-tracker/package/actions/map-tracking/memoize";return function(b,d,c,e,u){function q(d){a.post(g,{params:m,success:function(a){f.stopWidgetTimer("map-tracking-memoization-ajax-call");
    f.incrementCount("map-tracking-memoization-succeeded");a.success&&a.value?e&&e(a.value):u&&u(a.responseCode)},error:function(a){3>d?(f.incrementCount("map-tracking-memoization-attempt-"+(d+2)),setTimeout(function(){q(d+1)},0)):(f.logError({feature:"map-tracking-memoization-ajax-call",message:a.responseCode}),f.incrementCount("map-tracking-memoization-failed"),u&&u(a.responseCode))}})}var m={trackingId:d.trackingId,status:b.status,csrfToken:h.csrfToken,numberOfMemoizations:c,isDriverPhotoPresent:!0===
    d.mapTracking.isDriverPhotoPresent,transporterId:d.mapTracking.transporterId,driverNameTitle:d.mapTracking.driverNameTitle};if(c=parseInt(b.stops,10))m.stops=c;d.timezone&&(m.timezone=d.timezone);d.customerId&&(m.customerId=d.customerId);d.visitTrigger&&(m.visitTrigger=d.visitTrigger);b.lastStopsRemainingDecreaseTime&&(m.lastStopsRemainingDecreaseTime=1E3*b.lastStopsRemainingDecreaseTime);f.startWidgetTimer("map-tracking-memoization-ajax-call");q(0)}});l.when("A","map-tracking-status","response-code",
    "pt2-csm-metrics-utils","ready").register("map-tracking-confirmation",function(a,c,e,f){var g=-1!==h.location.host.indexOf("hp-shoppingportal")?"/portal/cstrac/progress-tracker/actions/map-tracking/confirm":"/progress-tracker/package/actions/map-tracking/confirm";return function(b,d,e){function I(){function b(c){a.post(g,{params:u,success:function(a){f.stopWidgetTimer("map-tracking-confirmation-ajax-call");f.incrementCount("map-tracking-confirmation-succeeded");d&&d(a.value)},error:function(a){3>
    c?(f.incrementCount("map-tracking-confirmation-attempt-"+(c+2)),setTimeout(function(){b(c+1)},0)):(f.logError({feature:"map-tracking-confirmation-ajax-call",message:a.responseCode}),f.incrementCount("map-tracking-confirmation-failed"),e&&e(a.responseCode),setTimeout(I,3E5))}})}f.startWidgetTimer("map-tracking-confirmation-ajax-call");b(0)}var u={trackingId:b.trackingId,status:c.DELIVERED,csrfToken:h.csrfToken};b.timezone&&(u.timezone=b.timezone);b.customerId&&(u.customerId=b.customerId);b.visitTrigger&&
    (u.visitTrigger=b.visitTrigger);setTimeout(I,3E5)}});l.when("A","ready").register("map-tracking-status",function(a){return{RENDERED:"RENDERED",OUT_FOR_DELIVERY:"OUT_FOR_DELIVERY",PICKED_UP:"PICKED_UP",YOU_ARE_NEXT:"YOU_ARE_NEXT",DELIVERED:"DELIVERED",DELIVERED_CONFIRMED:"DELIVERED_CONFIRMED",ERROR:"ERROR",FATAL:"FATAL",ADDRESS_NOT_FOUND:"ADDRESS_NOT_FOUND",SKIPPED_STOP:"SKIPPED_STOP",DELIVERY_FAILED:"DELIVERY_FAILED",PARTIALLY_DELIVERED:"PARTIALLY_DELIVERED",DELIVERY_ATTEMPTED:"DELIVERY_ATTEMPTED",
    NOT_DELIVERED:"NOT_DELIVERED",REJECTED:"REJECTED",UNKNOWN:"UNKNOWN"}});l.when("A","ready").register("response-code",function(a){return{UNSTRUSTED_REQUEST:"UNSTRUSTED_REQUEST",INVALID_TOKEN:"INVALID_TOKEN",AUTHENTICATED:"AUTHENTICATED",NOT_AUTHENTICATED:"NOT_AUTHENTICATED",MISSING_INPUTS:"MISSING_INPUTS",SUCCESS:"SUCCESS",SERVICE_FAILED:"SERVICE_FAILED",UNKNOWN_ACTION:"UNKNOWN_ACTION"}});l.when("A","ready").register("cookie-monster",function(a){function c(a){return(decodeURIComponent(document.cookie).match(new RegExp(a+
    "\x3d([^;]+)"))||["",""])[1]}return{get:c,getJson:function(a){a=c(a);if(!a)return{};try{return JSON.parse(a)}catch(f){return{}}},set:function(a,c,g){if(a){if(g&&0<g){var b=new Date;b.setTime(b.getTime()+864E5*g);document.cookie=encodeURIComponent(a)+"\x3d"+encodeURIComponent(c)+"; expires\x3d"+b.toUTCString()+";path\x3d/"}else document.cookie=encodeURIComponent(a)+"\x3d"+encodeURIComponent(c)+";path\x3d/";return!0}return!1},remove:function(a){return a?(document.cookie=encodeURIComponent(a)+"\x3d; expires\x3dSat, 19 Jan 1974 01:00:00 GMT",
    !0):!1}}});l.when("A","ready").register("failsafe",function(a){function c(a){b=a;u=(new Date).getTime();h=setTimeout(function(){k=!0;d()},b)}function e(){h&&clearTimeout(h);h=null}var f,g,b,d,k=!1,h=null,u=null,q=null;return{init:function(a){a=a||{};f=a.initialDelay||3500;g=a.extension||500;d=a.onTimeout||function(){};q=(new Date).getTime();c(f)},reset:e,extend:function(){if(!k){var a=(new Date).getTime()-u,a=b-a+g;e();0<a&&c(a)}},hasFired:function(){return k},totalElapsedTime:function(){return(new Date).getTime()-
    q}}});l.when("A","ready").register("preload-images",function(a){function c(a){c.list||(c.list=[]);for(var f=c.list,g=0;g<a.length;g++){var b=new Image;b.onload=function(){var a=f.indexOf(this);-1!==a&&f.splice(a,1)};f.push(b);b.src=a[g]}}return{preloadImages:c}});"use strict";l.register("pt2-csm-metrics-utils",function(){var a,c;try{a=navigator.userAgent}catch(g){a=""}a&&(a=a.toLowerCase(),(a=a.match(/(chrome|firefox|safari|trident|ddge|opr|crios|fxios)/gi))&&0<a.length&&(-1<a.indexOf("safari")&&
    1<a.length?-1<a.indexOf("chrome")||-1<a.indexOf("crios")?c="chrome":-1<a.indexOf("fxios")&&(c="firefox"):c=a[0]));var e=[],f=function(a){h.ue&&h.uex&&uex("ld",a,{wb:1});a=e.indexOf(a);-1<a&&e.splice(a,1)};h.addEventListener("beforeunload",function(a){for(;0<e.length;)f(e[0])});return{setScope:function(a){h.ue&&h.uet&&h.uet("tc",a);return a},setPreAjax:function(a){h.ue&&h.ues&&h.ues("t0",a,new Date)},setPostAjax:function(a){h.ue&&h.uet&&h.uet("be",a)},sendAjaxMetrics:function(a){h.ue&&h.uex&&h.uex("ld",
    a)},recordReftag:function(a,b){a.ajax({type:"POST",url:"/gp/mobile/tag?"+b,success:function(a){console.log("record ref tag ajax call success: ",a)},error:function(a){console.log("ref tag ajax call error: ",a)}})},logFatal:function(a){if(h.ueLogError){var b=a.feature||"pt2-fatal-generic";h.ueLogError(a.error||{message:a.message||b},{logLevel:"FATAL",attribution:b})}},logError:function(a){if(h.ueLogError){var b=a.feature||"pt2-error-generic";h.ueLogError(a.error||{message:a.message||b},{logLevel:"ERROR",
    attribution:b})}},logWarn:function(a){if(h.ueLogError){var b=a.feature||"pt2-warn-generic";h.ueLogError(a.error||{message:a.message||b},{logLevel:"WARN",attribution:b})}},incrementCount:function(a,b){h.ue&&h.ue.count&&(h.ue.count(a,(h.ue.count(a)||0)+1),b&&b.browser&&c&&h.ue.count(a+"-"+c,(h.ue.count(a+"-"+c)||0)+1))},recordInterval:function(a,b,d){h.ue&&h.ue.count&&(h.ue.count(a,b),d&&d.browser&&c&&h.ue.count(a+"-"+c,b))},startWidgetTimer:function(a){h.ue&&h.uet&&0>e.indexOf(a)&&(uet("bb",a,{wb:1}),
    e.push(a))},stopWidgetTimer:f}});"use strict";l.when("A","ready").register("redirect-countdown-utils",function(a){var c=a.$,e=function(){a.interval(function(){var a=c("#pt-error-second-timer"),g=parseInt(a.data("seconds"));g--;a.data("seconds",g);0<=a.data("seconds")&&a.html(g)},1E3)};c("#pt-error-second-timer")&&e()});"use strict";l.when("A","pt2-csm-metrics-utils","a-tooltip","ready").register("pt2-tooltip",function(a,c,e){function f(a){c.incrementCount(a+"-total");k&&(c.incrementCount(a+"-unique"),
    k=!1)}function g(a){b("body").addClass("pt2-tooltip-style-override "+d.deviceType);b(".pt2-tooltip-trigger."+a).attr("title","")}var b=a.$,d=a.state("page-state")||{},k=!0,h=function(b){a.declarative("a-tooltip","mouseenter",function(a){g(b);f(b)})},u=function(c){a.declarative("a-tooltip","click",function(a){g(c);a=b(".pt2-tooltip-trigger."+c);a=e.get(a);a.isVisible()?a.hide():f(c)})};return function(a){"desktop"===d.deviceType?h(a):u(a)}});"use strict";l.when("A","ready").register("BarAnimationController",
    function(a){a=function(a){this.options=a||{};this.currentBarIndex=0;this.animationDuration=a.animationDuration||200;this.lastAnimationDuration=a.lastAnimationDuration||800;this.numberOfReached=a.numberOfReached;this.completionPercentage=a.completionPercentage||50;this.onAllBarsDone=a.onAllBarsDone};a.prototype.animateOneBar=function(){var a=this,e=a.currentBarIndex<a.numberOfReached-1?100:a.completionPercentage,f=a.currentBarIndex<a.numberOfReached-1?a.animationDuration:a.lastAnimationDuration*a.completionPercentage/
    100;a.options.renderOneBar&&a.options.renderOneBar({index:a.currentBarIndex,height:e,duration:f,lastReached:a.currentBarIndex===a.numberOfReached-1,onComplete:function(){if(a.currentBarIndex<a.numberOfReached-1)a.currentBarIndex++,a.animateOneBar();else if(a.onAllBarsDone)a.onAllBarsDone({index:a.currentBarIndex})}})};a.prototype.startAnimation=function(){this.animateOneBar()};return a});"use strict";l.when("A","milestone-selectors","BarAnimationController","ready").register("BarAnimation",function(a,
    c,e){var f=a.state("page-state")||{};if(f.progressTracker){var g=a.$,b=g(c.milestoneBars),d=g(c.milestoneMarkers),k=new e({numberOfReached:f.progressTracker.numberOfReachedMilestones,completionPercentage:f.progressTracker.lastTransitionPercentComplete,animationDuration:150,lastAnimationDuration:1500,renderOneBar:function(a){var c=g(d[a.index]),f=c.closest(".milestone");c.animate({opacity:.3},100,function(){f.removeClass("notReached").addClass("reached");a.lastReached&&f.addClass("lastReached");c.animate({opacity:1},
    200)});g(b[a.index]).animate({height:a.height+"%"},a.duration,"linear",function(){a.onComplete()})},onAllBarsDone:function(){}});setTimeout(function(){k.startAnimation()},1E3)}});"use strict";l.declare("milestone-selectors",{milestoneBars:".js-milestone-bar",milestoneMarkers:".milestone-marker"});"use strict";l.when("A","ready").register("stickyTop",function(a){function c(a){var d=g.offset().top;e(h).scrollTop()>d?b.hasClass(a)||b.addClass(a):b.hasClass(a)&&b.removeClass(a);setTimeout(function(){c(a)},
    10)}var e=a.$,f=a.state("page-state")||{},g=e("#stickyTop-container-wrapper"),b=e("#stickyTop-container"),d=b.height();"mobile"===f.deviceType&&a.on.load(function(){0!==b.length&&(e("#staticContent-container").css("margin-top",d),f.progressTracker&&c("sticky"),f.isLexicalExceptionMessagePresent&&c("sticky-lexical"),(!f.progressTracker&&!f.isLexicalExceptionMessagePresent||f.pickUpInformation||"DELIVERED"===f.lastReachedMilestone)&&b.addClass("no-progress"))})});"use strict";l.when("A","a-sheet","pt2-page-utils",
    "pt2-csm-metrics-utils","ready").register("configure-tracking-event-bsheet",function(a,c,e,f){var g=a.$,b;a.declarative("tracking-events-open-bottom-sheet",["click"],function(d){var k=d.$currentTarget.find("a").data("ref");b||(d=a.extend({},d.data),d.height=.75*h.innerHeight,d.preloadDomId="tracking-events-container",d.name="tracking-events-bottom-sheet",d.sheetType="web",d.closeType="icon",b=c.create(d));b.show();f.recordReftag(g,k)});a.on("a:sheet:beforeShow:tracking-events-bottom-sheet",function(a){e.modifyPageScrollStatus(!0)});
    a.on("a:sheet:beforeHide:tracking-events-bottom-sheet",function(a){e.modifyPageScrollStatus(!1)})});"use strict";l.when("A","a-modal","pt2-csm-metrics-utils","ready").register("configure-tracking-event-modal",function(a,c,e){var f=a.$,g;a.declarative("tracking-events-open-modal","click",function(b){var d=b.$currentTarget,k=d.find("a").data("ref");g||(b=a.extend({},b.data),b.width=620>h.innerWidth?.75*h.innerWidth:600,b.name="tracking-events-modal",b.dataStrategy="preload",b.padding="none",b.hideHeader=
    !0,g=c.create(d,b));g.show();e.recordReftag(f,k)})});"use strict";l.when("A","a-secondary-view","pt2-csm-metrics-utils","ready").register("configure-tracking-event-secondary-view",function(a,c,e){var f=a.$,g;a.declarative("tracking-events-open-secondary-view",["click","touchend"],function(b){var d=b.$currentTarget,k=d.find("a").data("ref");g||(b=a.extend({},b.data),b.name="tracking-events-secondary-view",b.dataStrategy="preload",g=c.create(d,b));g.show();e.recordReftag(f,k)})});"use strict";l.when("A",
    "a-modal","pt2-page-utils","pt2-csm-metrics-utils","ready").register("configure-tracking-event-popup",function(a,c,e,f){var g=a.$,b,d,k,I=a.state("page-state")||{};l.when("a-sheet").execute("initialize-aui-sheet",function(a){b=a});a.declarative("tracking-events-open-popup",["click"],function(e){var l=e.$currentTarget,m=l.find("a").data("ref");e=a.extend({},e.data);if("mobile"===I.deviceType)(l=d)||(e.height=.75*h.innerHeight,e.preloadDomId="tracking-events-container",e.name="tracking-events-bottom-sheet",
    e.sheetType="web",e.closeType="icon",l=b.create(e)),d=l,d.show();else{var N;(N=k)||(e.width=620>h.innerWidth?.75*h.innerWidth:600,e.name="tracking-events-modal",e.dataStrategy="preload",e.padding="none",e.hideHeader=!0,N=c.create(l,e));k=N;k.show()}f.recordReftag(g,m)});a.on("a:sheet:beforeShow:tracking-events-bottom-sheet",function(a){e.modifyPageScrollStatus(!0)});a.on("a:sheet:beforeHide:tracking-events-bottom-sheet",function(a){e.modifyPageScrollStatus(!1)})});"use strict";l.when("A","page-load",
    "map-tracking-memoization","map-tracking-confirmation","map-tracking-status","response-code","pt2-csm-metrics-utils","failsafe","maptracker-url","maptracker-icons","prime-day-cheer","ready").register("MapTracking",function(a,c,e,f,g,b,d,k,l,u,q){h.jQuery=a.$;var m=a.state("page-state")||{},N=m.distanceFromDeliveryCutoffTime;if(!document.querySelectorAll(".pt-persistent-map-layout").length&&m.mapTracking){var w=a.$("#mapTracking-container");if(0<w.length){var v={browser:!0};try{var x=a.$("#staticContent-behindMap"),
    F=a.$("#split-container"),J=a.$("#itemImages-container-forMapTracking"),z=a.$("#mapShowLink-container"),C=a.$("#mapTracking-unavailableMessage"),r=a.$("#mapTracking-freshness").length?a.$("#mapTracking-freshness"):{html:function(){d.incrementCount("map-tracking-error-freshness");d.logError({feature:"map-tracking-error",message:"#mapTracking-freshness does not exist for "+m.trackingId})}},t=a.$("#mapHideLink-container"),n=a.$("#primaryStatus"),y=a.$("#secondaryStatus").length?a.$("#secondaryStatus"):
    {html:function(){d.incrementCount("map-tracking-error-secondary-status");d.logError({feature:"map-tracking-error",message:"#secondaryStatus does not exist for "+m.trackingId})}},A=a.$("#nav-upnav"),G=a.$("header"),E=a.$("#stickyTop-container"),ha=a.$("#signInAgain-container .signInAgain-phrase-with-link"),oa=0<a.$("#lexicalProgressTracker-container").length,p=function(){d.incrementCount("map-tracking-error-map-tracker");d.logError({feature:"map-tracking-error",message:"#mapTracker does not exist for "+
    m.trackingId})},da=a.$("#mapTracker").length?a.$("#mapTracker"):{animate:p,css:p},ia=!1;if("mobile"===m.deviceType){p=0;0<A.length&&(p+=A.height());0<G.length&&(p+=G.height());0<E.length&&(p+=E.height());m.mapTracking.rendersSurveyLink&&(p+=30);var p=p+120,L=a.$("#pageContainer").hasClass("iphone-x")?a.$(h).height()-p+34:a.$(h).height()-p;150>L&&(L=150);da.css("height",L);r.addClass("mobile")}a.$.getScript(l||"https://do6e2c3moa96p.cloudfront.net/MapTracker.js",function(l,I,L){function p(){w.show();
    ia||(k.init({initialDelay:3500,extension:500,onTimeout:function(){V(!1);d.incrementCount("map-tracking-failsafed",v);d.logError({feature:"map-tracking-failsafed-log",message:"Map failsafed for tracking Id: "+m.trackingId})}}),d.incrementCount("map-tracking-map-initialized",v),h.MapTracker.init({container:"mapTracker",trackingId:m.trackingId,appId:"AMZL",onChange:A,sessionId:pa,deliveryAgentIcon:u.agent,holidayCheer:q}));ia=!0;"mobile"===m.deviceType?(x.length&&x.hide(),h.scrollTo(0,0)):(F.length&&
    F.hide(),J.length&&J.fadeIn("slow"));z.length&&z.hide();w.fadeIn("slow");fa?ba?E(ba):ca&&ka(ca):G(R)}function A(a){R=a;fa=!1;a&&a.message&&("string"===typeof a.message?d.logError({feature:"map-tracking-event-log",message:"Map event received for tracking Id: "+m.trackingId+" with message ["+a.message+"] and url ["+a.url+"]"}):"object"===typeof a.message&&a.message.statusText&&d.logError({feature:"map-tracking-event-log",message:"Map event received for tracking Id: "+m.trackingId+" with message ["+
    JSON.stringify(a.message)+"] and url ["+a.url+"]"}));switch(a.status){case g.RENDERED:Y=!0;k.hasFired()?(d.incrementCount("map-tracking-failsafed-prematurely",v),d.incrementCount("map-tracking-failsafed-latency-"+Math.floor(k.totalElapsedTime()/1E3),v),d.logError({feature:"map-tracking-failsafed-prematurely-log",message:"Map failsafed prematurely for tracking Id: "+m.trackingId})):k.reset();d.startWidgetTimer("map-tracking-map-dwell-time");d.incrementCount("map-tracking-map-rendered",v);break;case g.ERROR:Y?
    (d.incrementCount("map-tracking-error"),d.logError({feature:"map-tracking-error-log",message:"Map error for trackingId: "+m.trackingId+"with message ["+a.message+"] and url ["+a.url+"]"})):(k.extend(),d.incrementCount("map-tracking-error-pre-render",v),d.logError({feature:"map-tracking-error-pre-render-log",message:"Map error pre render for trackingId: "+m.trackingId+" with message ["+a.message+"] and url ["+a.url+"]"}));break;case g.FATAL:Y?(Q({secondaryStatus:""}),S({calloutMessage:""}),W(),Z(),
    d.incrementCount("map-tracking-fatal",v)):(k.reset(),V(!1),d.incrementCount("map-tracking-fatal-pre-render",v),d.logError({feature:"map-tracking-fatal-pre-render-log",message:"Map fatal pre render for trackingId: "+m.trackingId+"with message ["+a.message+"] and url ["+a.url+"]"}));O(!1);a.message&&("string"===typeof a.message?(d.incrementCount("map-tracking-fatal-"+a.message.toLowerCase().replace(/[\s_]+/g,"-"),v),d.logError({feature:"map-tracking-fatal-log",message:"Map received fatal message ["+
    a.message+"] with url ["+a.url+"] for tracking Id: "+m.trackingId})):"object"===typeof a.message&&a.message.statusText&&(d.incrementCount("map-tracking-fatal-"+a.message.statusText.toLowerCase().replace(/[\s_]+/g,"-"),v),d.logError({feature:"map-tracking-fatal-log",message:"Map received fatal message ["+JSON.stringify(a.message)+"] with url ["+a.url+"] for tracking Id: "+m.trackingId})));break;case g.ADDRESS_NOT_FOUND:Y?(Q({secondaryStatus:""}),S({calloutMessage:""}),O(!1),W(),Z(),d.incrementCount("map-tracking-address-not-found",
    v)):(k.reset(),V(!1),O(!1),d.incrementCount("map-tracking-address-not-found-pre-render",v));break;default:w.is(":visible")?G(a):d.incrementCount("map-tracking-memoization-skipped")}}function G(a){fa=!0;e(a,m,ma,E,ka)}function E(a){ma++;ba=a;ca=null;switch(a.status){case g.PICKED_UP:case g.YOU_ARE_NEXT:null!==T&&0>T&&d.incrementCount("map-tracking-skipped-stop-became_healthy");T=a.stops;Q(a);S(a);O(!0);aa=!1;break;case g.SKIPPED_STOP:null===T?d.incrementCount("map-tracking-skipped-stop-landing"):-1<
    T&&(d.incrementCount("map-tracking-skipped-after-[#]-stops".replace("[#]",T)),d.incrementCount("map-tracking-skipped-stop-after-healthy"),T=-1);Q(a);S(a);O(!0);aa=!1;break;case g.PARTIALLY_DELIVERED:case g.DELIVERY_ATTEMPTED:case g.NOT_DELIVERED:case g.REJECTED:D(a);Q(a);S(a);H();O(!1);W();Z();d.incrementCount("map-tracking-"+a.status.toLowerCase().replace(/_/g,"-"));break;case g.DELIVERED:D(a),Q(a),S(a),H(),O(!1),W(),null===aa?d.incrementCount("map-tracking-already-delivered"):!1===aa&&d.incrementCount("map-tracking-became-delivered"),
    aa=!0,f(m,function(){h.location.reload()},function(a){})}}function ka(a){ba=null;ca=a;switch(a){case b.NOT_AUTHENTICATED:K||(Q({secondaryStatus:0<ha.length?ha.html():"",emphasized:!0}),O(!1),W(),Z(),H(),K=!0,d.incrementCount("map-tracking-sign-in-again"));break;case b.INVALID_TOKEN:M||(Q({secondaryStatus:""}),S({calloutMessage:""}),O(!1),W(),Z(),M=!0,a=(((new Date).getTime()-c.loadedAt)/100).toFixed(1),d.incrementCount("map-tracking-invalid-token"),d.logError({feature:"map-tracking-invalid-token-log",
    message:"Invalid csrf token ("+h.csrfToken.length+":"+a+")"}))}}function V(a){"mobile"===m.deviceType?x.fadeIn("slow"):(F.fadeIn("slow"),J.attr("style","display: none !important"));a?z.length&&z.show():(z.length&&z.hide(),Y&&C.length&&C.show());w.hide();m.keepSecondaryUntouched||y.html(m.mapTracking.originalSecondaryStatus||"")}function D(a){(a.primaryStatus||""===a.primaryStatus)&&n.html(a.primaryStatus)}function Q(a){!w.is(":visible")||m.keepSecondaryUntouched||!a.secondaryStatus&&""!==a.secondaryStatus||
    (y.html(a.secondaryStatus),a.emphasized?y.addClass("text-emphasized"):y.removeClass("text-emphasized"))}function S(a){m.keepSecondaryUntouched&&null!==m.mapTracking&&null!==m.mapTracking.calloutMessage&&""!==m.mapTracking.calloutMessage&&(a.calloutMessage||""===a.calloutMessage)&&h.MapTracker.updateDeliveryAgentBubble({content:a.calloutMessage})}function B(){0===X?r.html(m.mapTracking.updatedNow):r.html(m.mapTracking.updatedPluralSecondsAgo.replace("[#]",X));X+=na;60<X?r.addClass("text-emphasized"):
    r.removeClass("text-emphasized");180<X&&V(!1)}function W(){0<r.length&&r.animate({opacity:0},1E3,function(){r.hide()})}function H(){0<t.length&&t.animate({opacity:0},1E3,function(){t.hide()})}function Z(){da.length&&da.animate({opacity:.2},1E3);d.startWidgetTimer("map-tracking-map-zombie-time")}function O(a){X=0;ga&&clearInterval(ga);a&&(B(),ga=setInterval(B,1E3*na))}function P(){setTimeout(function(){location.reload()},N+1E4)}var K=!1,M=!1,T=null,Y=!1,aa=null,fa=!0,R=null,ba=null,ca=null,ma=0,pa=
    m.mapTracking.mapSessionId||!1;oa?V(!0):p();0<N&&P();a.declarative("mapTracking-show-map","click",function(a){a=a.$currentTarget.find("a").data("ref");p();d.recordReftag(h.jQuery,a)});a.declarative("mapTracking-hide-map","click",function(a){a=a.$currentTarget.find("a").data("ref");V(!0);d.recordReftag(h.jQuery,a)});var X=0,na=10,ga=null;O(!0)})}catch(U){d.incrementCount("map-tracking-error-generic"),d.logError({error:U,feature:"map-tracking-error",message:"map tracking failed for "+m.trackingId})}}else d.incrementCount("map-tracking-warn-map-tracking-container"),
    d.logWarn({feature:"map-tracking-warn",message:"pageState.mapTracking exists but $mapContainer does not for "+m.trackingId})}});l.declare("maptracker-icons",{agent:"https://do6e2c3moa96p.cloudfront.net/StaticContent/da_pin.png"});"use strict";l.when("A","page-load").register("maptracker-url",function(a,c){a=a.state("page-state")||{};c="https://do6e2c3moa96p.cloudfront.net";a.mapTracker&&a.mapTracker.url&&(c=a.mapTracker.url);return c+"/MapTracker_variant_scripts/MapTracker_v3.1.js"});"use strict";
    l.when("A","page-load","pt2-csm-metrics-utils","ready").execute(function(a,c,e){a=a.$;0<a("#photoOnDelivery-container").length&&e.incrementCount("photo-on-delivery-container-present",{browser:!0})});l.when("A","a-modal","pt2-csm-metrics-utils","sign-in-again-or-do","ready").register("configure-photo-on-delivery-modal",function(a,c,e,f){var g=a.$;a.declarative("photo-on-delivery-open-modal","click",function(b){var d=a.extend({},b.data);f(b,c,"sign-in-again-modal",d,function(){var a=b.$currentTarget,
    f=a.find("a").data("ref");d.width=620>h.innerWidth?.75*h.innerWidth:600;d.name="photo-on-delivery-"+a.find("a").data("form")+"-modal";d.dataStrategy="preload";c.create(a,d).show();e.recordReftag(g,f)})})});l.when("A","a-secondary-view","pt2-csm-metrics-utils","sign-in-again-or-do","ready").register("configure-photo-on-delivery-secondary-view",function(a,c,e,f){var g=a.$;a.declarative("photo-on-delivery-open-sec-view","click",function(b){var d=a.extend({},b.data);f(b,c,"sign-in-again-secondary-view",
    d,function(){var a=b.$currentTarget,f=a.find("a").data("ref");d.name="photo-on-delivery-"+a.find("a").data("form")+"-secondary-view";d.dataStrategy="preload";c.create(a,d).show();e.recordReftag(g,f)})})});l.when("A","a-alert","a-button","pt2-csm-metrics-utils").execute(function(a,c,e,f){var g=a.$,b=g("#photoOnDelivery-feedback-textarea");g(document).keyup(function(a){a=e("#photoOnDelivery-feedback-submitBtn");var c=b.val();R(c)?a.disable():a.enable()});a.declarative("submit-photo-on-delivery-feedback",
    "click",function(d){d.$event.preventDefault();var k=M(d.data),h=g("#photoOnDelivery-feedback-secondary-view-trigger"),l=g("#photoOnDelivery-feedback-modal-trigger");if(!R(b.val())){var q=D("submit-photo-on-delivery-feedback",d.data);q.feedback=b.val();var m=f.setScope("pt2PodFeedbackAjaxLatencyScope");f.setPreAjax(m);d=d.$currentTarget.find("input").data("ref");a.post("/progress-tracker/package/actions/photo-on-delivery?"+d,{params:q,success:function(a){a.success&&a.value?(B(g,c,k.feedbackSuccessHeading,
    k.feedbackSuccessMessage,"1"),b.val(""),e("#photoOnDelivery-feedback-submitBtn").disable()):B(g,c,k.feedbackErrorHeading,k.feedbackErrorMessage,"0");"mobile"===k.deviceType?P(g,h):K(g,l);f.setPostAjax(m);f.sendAjaxMetrics(m)},error:function(a){B(g,c,k.feedbackErrorHeading,k.feedbackErrorMessage,"0");"mobile"===k.deviceType?P(g,h):K(g,l);f.setPostAjax(m);f.sendAjaxMetrics(m)}})}});a.declarative("submit-photo-on-delivery-optout","click",function(b){b.$event.preventDefault();var f=M(b.data),e=g("#photoOnDelivery-optout-secondary-view-trigger"),
    h=g("#photoOnDelivery-optout-modal-trigger"),l=D("submit-photo-on-delivery-optout",b.data);b=b.$currentTarget.find("input").data("ref");a.post("/progress-tracker/package/actions/photo-on-delivery?"+b,{params:l,dataType:"json",success:function(a){a.success&&a.value?(B(g,c,f.optOutSuccessHeading,f.optOutSuccessMessage,"1"),g("#photoOnDelivery-container").detach()):B(g,c,f.optOutErrorHeading,f.optOutErrorMessage,"0");"mobile"===f.deviceType?P(g,e):K(g,h)},error:function(a){B(g,c,f.optOutErrorHeading,
    f.optOutErrorMessage,"0");"mobile"===f.deviceType?P(g,e):K(g,h)}})})});"use strict";l.when("A","pt2-csm-metrics-utils","ready").register("pdw-update-customer-views",function(a,c){function e(a,d,e,l){a.post(f,{params:{trackingId:g.trackingId,updateReason:d,csrfToken:h.csrfToken},dataType:"json",success:function(a){a.success&&a.value?c.incrementCount(e):c.incrementCount(l)},error:function(a){c.incrementCount(l)}})}var f=-1!==h.location.host.indexOf("hp-shoppingportal")?"/portal/cstrac/progress-tracker/actions/predicted-delivery-window":
    "/progress-tracker/package/actions/predicted-delivery-window",g=a.state("page-state")||{};switch(g.promise?g.promise.secondaryPromiseIdentifier:"NONE"){case "PDW":e(a,"SHOWN","pt2-pdw-shown-updated","pt2-pdw-shown-not-updated");break;case "MISSED_PDW":e(a,"MISSED","pt2-pdw-missed-updated","pt2-pdw-missed-not-updated");break;case "NONE":c.incrementCount("pt2-pdw-no-secondary-promise")}});"use strict";l.when("A","pt2-tooltip","ready").register("pdw-tooltip",function(a,c){a=a.$;var e=a(".pt2-tooltip-trigger.pdw-tooltip-trigger");
    e.length&&(a("#secondaryStatus .nowrap").last().append(e),c("pdw-tooltip-trigger"))});"use strict";l.when("A","pt2-csm-metrics-utils","cookie-monster","ready").register("dataDiscrepancyLogger",function(a,c,e){function f(a,b,d,f){var g=a;if("PrimaryStatus"===a){var g=k(b),e=k(d),g=g!==e?-1<b.indexOf("-")&&-1<d.indexOf("-")?"PrimaryStatus:RangeValue":-1<b.indexOf("-")||-1<d.indexOf("-")?"PrimaryStatus:DateType":"PrimaryStatus:DateValue":"PrimaryStatus:MessageString";c.incrementCount(g+"Mismatch:"+t);
    c.incrementCount(a+"Mismatch:"+t)}else c.incrementCount(a+"Mismatch:"+t+":YO:"+b+":PT:"+d);c.logError({feature:f,message:g+"MismatchError: orderId\x3d"+q.orderId+", shipmentId\x3d"+m+", packageIndex\x3d"+N+", itemId\x3d"+w+", fulfillmentType\x3d"+t+', YO\x3d"'+b+'", PT\x3d"'+d+'"'})}function g(a){var b=/^([A-z\s]+) ([A-z\,]{4}) ([a-zA-Z0-9]+) ([a-zA-Z0-9]+)$/;return b.test(a)?a.replace(b,"$1 $3 $4"):a}function b(a){return"USAmazon"===v?d(a,x,J,C):"GBAmazon"===v?d(a,F,z,r):a}function d(a,b,d,c){return-1<
    a.indexOf("-")?b.test(a)?a.replace(b,"$1 $2 $3 - $4 $5"):a:d.test(a)?a.replace(d,"$1 $2 $3"):c.test(a)?a.replace(c,"$1 $3 $4"):a}function k(a){return"USAmazon"===v?h(a,x,J,C):"GBAmazon"===v?h(a,F,z,r):a}function h(a,b,d,c){return-1<a.indexOf("-")?b.test(a)?a.replace(b,"$2 $3 - $4 $5"):a:d.test(a)?a.replace(d,"$2 $3"):c.test(a)?a.replace(c,"$3 $4"):a}function l(){var a="GBAmazon"===v?"en-GB":"en-US",b=new Date;b.setDate(b.getDate()-1);return b.toLocaleDateString(a,{month:"short",day:"numeric"})}var q=
    a.state("page-state")||{},m=q.shipmentId||"",N=q.packageIndex||"",w=q.itemId||"",v=q.realm||"",x=/^([A-z\s]+) ([A-Z][a-z]{2})[a-z]* ([0-9]{1,2}) - ([A-Z][a-z]{2})[a-z]* ([0-9]{1,2})$/,F=/^([A-z\s]+) ([0-9]{1,2}) ([A-Z][a-z]{2})[a-z]* - ([0-9]{1,2}) ([A-Z][a-z]{2})[a-z]*$/,J=/^([A-z\s]+) ([A-Z][a-z]{2})[a-z]* ([0-9]{1,2})$/,z=/^([A-z\s]+) ([0-9]{1,2}) ([A-Z][a-z]{2})[a-z]*$/,C=/^([A-z\s]+) ([A-z\,]*) ([A-Z][a-z]{2})[a-z]* ([0-9]{1,2})$/,r=/^([A-z\s]+) ([A-z\,]*) ([0-9]{1,2}) ([A-Z][a-z]{2})[a-z]*$/;
    e=e.getJson("yoShipmentInfo");if(!a.$.isEmptyObject(e)){var t=q.isMfn?"MFN":"AFN";a=e.primaryStatus;var n=q.promise&&q.promise.promiseMessage?q.promise.promiseMessage:"";if(a&&n){var y=b(n).toLowerCase().replace(/\s/g,""),A=g(a).toLowerCase().replace(/\s/g,""),G=new RegExp(y),E=new RegExp(A);"deliveredyesterday"===A&&(A=A.replace(/yesterday/,l()).toLowerCase().replace(/\s/g,""));G.test(A)||E.test(y)||f("PrimaryStatus",a,n,"pt-primary-status-discrepancy-logger")}e=e.shortStatus;a=q.shortStatus;e&&
    a&&e!==a&&f("ShortStatus",e,a,"pt-short-status-discrepancy-logger")}});"use strict";l.when("A","a-modal","pt2-csm-metrics-utils","ready").register("configure-customer-delivery-profile-modal",function(a,c,e){var f=a.$;a.declarative("customer-delivery-profile-modal-link","click",function(g){g.$event.preventDefault();var b=a.extend({},g.data);g=g.$currentTarget;var d=g.find("a").data("ref");b.width=620>h.innerWidth?.75*h.innerWidth:600;b.url=g.find("a").attr("href");b.dataStrategy="ajax";c.create(g,
    b).show();e.recordReftag(f,d)})});l.when("A","a-secondary-view","pt2-csm-metrics-utils","ready").register("configure-customer-delivery-profile-sec-view",function(a,c,e){var f=a.$;a.declarative("customer-delivery-profile-sec-view-link",["click"],function(g){g.$event.preventDefault();var b=a.extend({},g.data);g=g.$currentTarget;var d=g.find("a").data("ref");b.url=g.find("a").attr("href");b.dataStrategy="ajax";c.create(g,b).show();e.recordReftag(f,d)})});"use strict";l.when("A","pt2-csm-metrics-utils",
    "ready").register("banner-metric-publisher",function(a,c){var e=a.$;e("body").delegate(".packageTrackerFooterBannerLink","click",function(){var a=e(this).data("clickMetricName");a&&c.incrementCount(a)})});"use strict";l.when("A","pt2-csm-metrics-utils","ready").register("Promise",function(a,c){function e(){setTimeout(function(){c.incrementCount("pt2-refresh-page-on-predicted-delivery-window-end");location.reload()},f+1E4)}var f=(a.state("page-state")||{}).timeUntilPredictedDeliveryWindowEnd;0<f&&
    e()});"use strict";l.when("A","pt2-csm-metrics-utils","share-tracking-confirmation","mash","response-code","a-sheet","ready").register("pt2-share-package-tracking-information",function(a,c,e,f,g,b){function d(a){a&&(l.execute("pt-hide-share-package-tracking-information-bottom-sheet",function(){var a=b.get("shareTracking-bottom-sheet");a&&a.hide()}),q||(c.recordReftag(I,u),e(a,function(){h.location.reload()},function(a){}),q=!0))}function k(a){return!a||0===a.length||!a.trim()}var I=a.$,u,q=!1;a.declarative("pt-share-package-tracking-information-click",
    ["click"],function(b){b.$event.preventDefault();var e=b.$currentTarget,l=a.extend({},b.data);b=a.state("page-state")||{};var q=l.message4096CharLimit,x=l.message160CharLimit,F=l.message140CharLimit,J=e.find("a").data("imageurl"),z=l.messageSubject,C=e.find("a").data("url"),r=e.find("a").data("sharetype"),l=e.find("a").data("clickref");u=e.find("a").data("shareref");c.recordReftag(I,l);if(q&&x&&F&&J&&C&&z){var t=q.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,
    "\x26quot;").replace(/'/g,"\x26apos;"),n={baseUrl:encodeURIComponent(C),orderId:b.orderId,csrfToken:h.csrfToken};b.shipmentId&&(n.shipmentId=b.shipmentId);b.itemId&&(n.itemId=b.itemId);b.packageIndex&&(n.packageIndex=b.packageIndex);a.post("/progress-tracker/package/actions/share-tracking-url",{params:n,success:function(b){a.state("page-state",{shareTrackingType:r});var e=b.value;if(!b.success&&(c.incrementCount("tiny-url-ajax-error"),b.value&&g.INVALID_TOKEN==b.responseCode)){e=b.value;b=a.state("page-state")||
    {};c.incrementCount("tiny-url-invalid-token-error");b=b.signInRedirectUrl.split("?");e=e+"?useRedirectOnSuccess\x3d1\x26path\x3d"+b[0]+"\x26query\x3d"+encodeURIComponent(b[1]);h.location.href=e;return}b={messagePlain160:x+" "+e,messagePlain140:F+" "+e,messageHTML:"\x3chtml\x3e\x3cbody\x3e"+t+'\x3ca href\x3d"'+e+'"\x3e '+e+"\x3c/a\x3e\x3c/body\x3e\x3c/html\x3e",messagePlain:q+" "+e,subject:z,url:e,imageURL:J,shareServiceSelectedCallback:d};var l=n.url;e&&50<e?c.incrementCount("non-tiny-url-passed-to-mash"):
    k(e)?(c.incrementCount("no-url-passed-to-mash"),c.logError({feature:"mash-share-url-error",message:"no url passed to mash share api for pt url: "+C+" , encoded url: "+l})):c.incrementCount("tiny-url-passed-to-mash");(k(b.messagePlain140)||k(b.messagePlain160)||k(b.messagePlain)||k(b.subject))&&c.incrementCount("missing-text-for-mash");f.share(b)},error:function(a){}})}})});l.when("A","a-sheet","pt2-csm-metrics-utils","ready").register("pt2-configure-share-package-tracking-bottomsheet",function(a,
    c,e){var f=a.$,g,b=f("#shareTracking-bottomSheet");a.declarative("pt-open-share-package-tracking-information-bottom-sheet",["click"],function(d){g||(d=a.extend({},d.data),e.recordReftag(f,d.ref),d.preloadDomId="shareTracking-bottomSheet",d.name="shareTracking-bottom-sheet",b.appendTo("body"),b.addClass("aok-offscreen"),b.removeClass("aok-hidden"),d.height=b.outerHeight(!0),b.addClass("aok-hidden"),b.removeClass("aok-offscreen"),d.sheetType="web",d.closeType="icon",g=c.create(d),a.capabilities.ios?
    f(".pt-share-icon").css("background-image","url('https://m.media-amazon.com/images/G/01/x-locale/cs/ship-track/pt2/share-ios.svg')"):f(".pt-share-icon").css("background-image","url('https://m.media-amazon.com/images/G/01/x-locale/cs/ship-track/pt2/share-android.svg')"));g.show()});a.on("a:sheet:beforeShow:shareTracking-bottom-sheet",function(a){b.parent().addClass("shareTracking-bottomSheet-container")})});l.when("A","ready").register("share-tracking-confirmation",function(a){return function(c){c=
    a.state("page-state")||{};var e={trackingId:c.trackingId,csrfToken:h.csrfToken};c.shareTrackingType&&(e.shareTrackingType=c.shareTrackingType);c.customerId&&(e.customerId=c.customerId);c.visitTrigger&&(e.visitTrigger=c.visitTrigger);setTimeout(function(){function c(g){a.post("/progress-tracker/package/actions/share-tracking",{params:e,success:function(a){},error:function(a){3>g&&setTimeout(function(){c(g+1)},1E3)}})}c(0)},0)}});l.when("A","huddles-chatbox","pt2-csm-metrics-utils","ready").execute(function(a,
    c,e){a.declarative("render-huddles-chat","click",function(f){var g=a.$,b=f.$currentTarget.find("a").data("ref");c.renderHuddleChat(a.$.extend({},f.data,{showEmbedded:!1}));e.recordReftag(g,b)})});"use strict";l.when("A","preload-images","ready").register("render-images-carousel",function(a,c){a=[];var e=document.getElementById("itemImagesCarousel-container");if(null!==e&&(e=e.querySelectorAll("img"),0<e.length))for(var f=0;f<e.length;f++){var g=e[f];g.src&&0<g.src.length&&a.push(g.src)}c.preloadImages(a)});
    "use strict";l.when("A","a-modal","ready").register("photo-on-delivery-modal",function(a,c){var e;a.declarative("pt-delivery-card-pod-popup","click",function(a){e||(e=c.create(a.$currentTarget,{"min-width":620>h.innerWidth?.7*h.innerWidth:300,name:"pt-delivery-card-pod-popup-content",header:a.data.header,dataStrategy:"preload",padding:"none"}));e.show()})});"use strict";l.when("A","ready").register("promise-product-carousel",function(a){var c=document.querySelector("#promise-card-asin-image-carousel .a-carousel-center");
    if(c){var e=function(){var a=document.querySelector("#promise-card-asin-image-carousel .a-carousel-left");a&&(c.style.margin="visible"!==a.style.visibility?"0 0":"0 40px")};e();a.on.resize(a.debounce(e,250))}});"use strict";l.when("page-load","ready").register("animate-status-card",function(a){function c(a,b,d,c){null!==a&&d&&setTimeout(function(){var b=a.querySelector(".pt-status-milestone-marker"),d=a.querySelector(".pt-status-milestone-marker-check"),e=a.querySelector(".pt-status-milestone-label");
    null!=b&&null!=d&&null!=e&&(b.style.transitionDuration=(250).toString()+"ms",b.className+=" active",d.style.transitionDuration=(250).toString()+"ms",d.className+=" active",e.style.transitionDuration=(250).toString()+"ms",e.className+=" active",c&&(e.className+=" current-label"))},b)}function e(a,b,d,c){null!==a&&setTimeout(function(){var b=a.querySelector(".pt-status-milestone-bar-progress");if(null!==b){var e=parseInt(d);0!==e&&(c||100>e?(b.style.transitionTimingFunction="ease-out",b.style.transitionDuration=
    (500+500*e/100).toString()+"ms"):b.style.transitionDuration=(500).toString()+"ms",b.style.width=d+"%")}},b)}a=document.querySelectorAll(".pt-status-milestone");if(0!==a.length){a=Array.prototype.slice.call(a);var f=a.shift();c(f,1E3,"true"===f.dataset.reached,"true"===f.dataset.lastReached);for(f=0;f<a.length;f++)e(a[f],500*f+1E3,a[f].dataset.percentComplete,f===a.length-1),c(a[f],500*(f+1)+1E3,"true"===a[f].dataset.reached,"true"===a[f].dataset.lastReached)}});"use strict";l.when("A","pt2-csm-metrics-utils",
    "ready").register("map-commons",function(a,c){var e={browser:!0};return{METRICS_FEATURE_MAP_TRACKING_ERROR:"persistent-map-tracking-error",METRICS_FEATURE_MAP_TRACKING_ERROR_SECONDARY_STATUS:"persistent-map-tracking-error-secondary-status",METRICS_FEATURE_MAP_TRACKING_ERROR_MAP_TRACKER:"persistent-map-tracking-error-map-tracker",METRICS_FEATURE_MAP_TRACKING_ERROR_GENERIC:"persistent-map-tracking-error-generic",METRICS_FEATURE_MAP_TRACKING_WARN:"persistent-map-tracking-warn",METRICS_FEATURE_MAP_INITIALIZED:"persistent-map-initialized",
    METRICS_FEATURE_MAP_ADDRESS_NOT_FOUND:"persistent-map-tracking-address-not-found",METRICS_FEATURE_MAP_ADDRESS_NOT_FOUND_PRE_RENDER:"persistent-map-tracking-address-not-found-pre-render",METRICS_FEATURE_MAP_ERROR_PRE_RENDER:"persistent-map-tracking-error-pre-render",METRICS_FEATURE_MAP_FATAL:"persistent-map-tracking-fatal",METRICS_FEATURE_MAP_FATAL_LOG:"persistent-map-tracking-fatal-log",METRICS_FEATURE_MAP_FATAL_PRE_RENDER:"persistent-map-tracking-fatal-pre-render",METRICS_FEATURE_MAP_RENDERED:"persistent-map-tracking-map-rendered",
    METRICS_FEATURE_MAP_DWELL_TIME:"persistent-map-tracking-map-dwell-time",METRICS_FEATURE_MAP_ZOMBIE_TIME:"persistent-map-tracking-map-zombie-time",METRICS_FEATURE_MAP_SIGN_IN_AGAIN:"persistent-map-tracking-sign-in-again",METRICS_FEATURE_MAP_INVALID_TOKEN:"persistent-map-tracking-invalid-token",METRICS_FEATURE_MAP_INVALID_TOKEN_LOG:"persistent-map-tracking-invalid-token-log",METRICS_FEATURE_MAP_DELIVERY_FAILED_PREFIX:"persistent-map-tracking-",METRICS_FEATURE_MAP_SKIPPED_STOP_AFTER_HEALTHY:"persistent-map-tracking-skipped-stop-after-healthy",
    METRICS_FEATURE_MAP_SKIPPED_AFTER_X_STOPS_PATTERN:"persistent-map-tracking-skipped-after-[#]-stops",METRICS_FEATURE_MAP_SKIPPED_STOP_LANDING:"persistent-map-tracking-skipped-stop-landing",METRICS_FEATURE_MAP_SKIPPED_STOP_BECAME_HEALTHY:"persistent-map-tracking-skipped-stop-became_healthy",METRICS_FEATURE_MAP_ALREADY_DELIVERED:"persistent-map-tracking-already-delivered",METRICS_FEATURE_MAP_BECAME_DELIVERED:"persistent-map-tracking-became-delivered",METRICS_FEATURE_MAP_MEMOIZATION_SKIPPED:"persistent-map-tracking-memoization-skipped",
    TEXT_EMPHASIZED:"text-emphasized",METRICS_FEATURE_MAP_EVENT_LOG:"persistent-map-tracking-event-log",METRICS_FEATURE_MAP_FAILSAFED:"persistent-map-tracking-failsafed",METRICS_FEATURE_MAP_FAILSAFED_LOG:"persistent-map-tracking-failsafed-log",METRICS_FEATURE_MAP_FAILSAFED_PREMATURELY:"persistent-map-tracking-failsafed-prematurely",METRICS_FEATURE_MAP_FAILSAFED_LATENCY_SUFFIX:"persistent-map-tracking-failsafed-latency-",METRICS_FEATURE_MAP_FAILSAFED_PREMATURELY_LOG:"persistent-map-tracking-failsafed-prematurely-log",
    METRICS_FEATURE_STATIC_MAP_COUNT:"persistent-map-type-static",METRICS_FEATURE_REAL_TIME_MAP_COUNT:"persistent-map-type-real-time",METRICS_FEATURE_NO_MAP_COUNT:"persistent-map-type-none",METRICS_FEATURE_PERSISTENT_MAP_STATIC_MAP_ERROR:"persistent-map-static-map-error",METRICS_FEATURE_PERSISTENT_MAP_GEOLOCATION_MISSING:"persistent-map-static-map-geolocation-missing",METRICS_FEATURE_PERSISTENT_MAP_REALTIME_FALLBACK_TO_STATIC_MAP:"persistent-map-realtime-fallback-to-static",METRICS_FEATURE_PERSISTENT_MAP_REALTIME_FALLBACK_TO_STATIC_MAP_ERROR:"persistent-map-realtime-fallback-to-static-error",
    METRICS_FEATURE_PERSISTENT_MAP_REAL_TIME_MAP_ERROR:"persistent-map-real-time-map-error",METRICS_FEATURE_PERSISTENT_MAP_LONG_ADDRESS_MODAL_OPEN:"persistent-map-long-address-modal-open",METRICS_FEATURE_PERSISTENT_MAP_FALLBACK_MESSAGE_LOST_SIGNAL:"persistent-map-fallback-message-lost-signal",MapFallbackReason:{LOST_SIGNAL:"LOST_SIGNAL",NONE:"NONE"},fallbackToNoMap:function(){var a=document.getElementById("pt-address-info"),g=document.querySelector(".pt-map-outer-container");if(g){g.classList.remove("pt-map-type-static");
    g.classList.remove("pt-map-type-realtime");g.classList.add("pt-map-type-nomap");if(a){a.style.display="block";var g=document.querySelector(".lineDivider-address-info"),b=(a=a.previousElementSibling)?a.previousElementSibling:H;g&&a&&b&&(a.classList.contains("delivery-card")||b.classList.contains("delivery-card"))&&(g.style.display="block")}c.incrementCount("persistent-map-type-nomap",e)}}}});"use strict";l.when("A","rex-maptracker","rex-maptracker-item","real-time-map","pt2-page-utils","pt2-csm-metrics-utils",
    "map-commons","preload-images","a-modal","ready").register("static-map",function(a,c,e,f,g,b,d,k,I){function u(a){"mobile"===z.deviceType?l.when("a-sheet").execute("initialize-aui-sheet",function(a){G||(G=m(a));G.show()}):(A||(A=q(a)),A.show());b.incrementCount(d.METRICS_FEATURE_PERSISTENT_MAP_LONG_ADDRESS_MODAL_OPEN,p)}function q(a){var b=N(!0),b={dataStrategy:"inline",inlineContent:b.innerHTML,height:b.innerHeight,width:b.innerWidth,header:document.querySelector("#pt-shipping-address-title-id").innerHTML};
    return I.create(a,b)}function m(b){var d=document.createElement("div");d.id="full-address-sheet-container";d.style.direction="row";var c=document.querySelector("#pt-shipping-address-title-id").cloneNode(!0);c.id="full-address-bottomsheet-title";c.classList.remove("pt-shipping-address-title");c.classList.add("full-address-title");d.appendChild(c);c=N(!1);c.id="full-address-bottomsheet-address";d.appendChild(c);d=b.create({name:"full-address-bottomsheet",inlineContent:d.innerHTML,height:300>h.screen.width?
    225:150,sheetType:"web",closeType:"icon"});a.on("a:sheet:afterShow:full-address-bottomsheet",function(a){E||(E=document.querySelector("#full-address-bottomsheet-title").offsetHeight+document.querySelector("#full-address-bottomsheet-address").offsetHeight+10);b.get("full-address-bottomsheet").changeHeight({height:E,duration:.15})});return d}function N(a){var b=document.createElement("div");a?b.classList.add("full-address-modal"):b.classList.add("full-address-bottomsheet");a=document.createElement("img");
    a.src="https://do6e2c3moa96p.cloudfront.net/StaticContent/pm_destination_pin.png";a.classList.add("full-address-icon-img");b.appendChild(a);a=document.querySelector(".pt-shipping-address").cloneNode(!0);a.classList.add("full-address-content");b.appendChild(a);return b}function w(){try{if(r.latitude&&r.longitude){y.init(K);var a=document.querySelector(".pt-shipping-address").cloneNode(!0);a.addEventListener("click",function(a){u(a.currentTarget)});n=new e("destination",r.latitude,r.longitude,a);y.addItem("destination",
    n);x();y.map.addObject(n.marker);y.setMapBounds();C===B.REAL_TIME_MAP?(a={mapTracker:y,mapItem:n},y.initialZoomTriggered=!1,f.loadRealTimeMap(a)):C===B.STATIC_MAP&&b.incrementCount(d.METRICS_FEATURE_STATIC_MAP_COUNT,p);h.addEventListener("resize",g.debounce(x,100))}else b.incrementCount(d.METRICS_FEATURE_PERSISTENT_MAP_GEOLOCATION_MISSING,p),d.fallbackToNoMap()}catch(c){y.destroy(),F(c)}}function v(a){setTimeout(function(){w()},a)}function x(){var a=document.querySelector(".pt-floating-map-card"),
    b=document.querySelector(".pt-map-container");if(a&&b){var a=a.getBoundingClientRect(),b=b.getBoundingClientRect(),d=0,c=0;.5<a.width/b.width?d=b.top+b.height-a.top:c=2*a.left+a.width;y.setPadding(0,0,d,c)}}function F(a){t++;3>=t?v(50):(b.incrementCount(d.METRICS_FEATURE_PERSISTENT_MAP_STATIC_MAP_ERROR,p),b.logError({error:a,feature:d.METRICS_FEATURE_PERSISTENT_MAP_STATIC_MAP_ERROR,message:"Static map failed to load for order Id "+z.orderId}),d.fallbackToNoMap())}function J(a,b){return isNaN(a)||
    isNaN(b)?!1:!H.some(function(d){return a===d.latitude&&b===d.longitude})}var z=a.state("page-state")||{},C,r={},t=0,n={},y={},A,G,E;k=document.querySelectorAll(".map-attributes");var D=document.querySelectorAll("#pt-address-info");document.getElementById("pt-address-info");var B={STATIC_MAP:"StaticMap",REAL_TIME_MAP:"RealTimeMap",NO_MAP:"None"},p={browser:!0},H=[{latitude:0,longitude:0},{latitude:38,longitude:-97}];if(0===k.length)0!==D.length&&d.fallbackToNoMap();else{var K=document.getElementById("pt-map-card");
    k=k[0].dataset;C=k.mapType;k&&(r.name=k.name,r.line1=k.line1,r.line2=k.line2,r.cityStateZip=k.cityStateZip,r.countryCode=k.countryCode,k.addressGeocodeLatitude&&k.addressGeocodeLongitude&&J(+k.addressGeocodeLatitude,+k.addressGeocodeLongitude)&&(r.latitude=k.addressGeocodeLatitude,r.longitude=k.addressGeocodeLongitude));y=new c({mapType:C});w()}});"use strict";l.when("A","page-load","map-tracking-confirmation","map-tracking-status","response-code","pt2-csm-metrics-utils","failsafe","map-commons",
    "rex-maptracker-data-source","ready").register("real-time-map",function(a,c,e,f,g,b,d,k,l){function u(a){b.incrementCount(k.METRICS_FEATURE_REAL_TIME_MAP_COUNT,t);l.startPolling(qa,a.mapTracker)}function q(c){c&&c.message&&("string"===typeof c.message?b.logError({feature:k.METRICS_FEATURE_MAP_EVENT_LOG,message:"Persistent Real Time Map event received for tracking Id: "+n.trackingId+" with message ["+c.message+"] and url ["+c.url+"]"}):"object"===typeof c.message&&c.message.statusText&&b.logError({feature:k.METRICS_FEATURE_MAP_EVENT_LOG,
    message:"Persistent Real Time Map event received for tracking Id: "+n.trackingId+" with message ["+JSON.stringify(c.message)+"] and url ["+c.url+"]"}));var e=c.packageLocationState&&c.packageLocationState.mapState;p=c.mapObject;switch(c.status){case f.RENDERED:U=!0;d.hasFired()?(b.incrementCount(k.METRICS_FEATURE_MAP_FAILSAFED_PREMATURELY,t),b.incrementCount(k.METRICS_FEATURE_MAP_FAILSAFED_LATENCY_SUFFIX+Math.floor(d.totalElapsedTime()/1E3),t),b.logError({feature:k.METRICS_FEATURE_MAP_FAILSAFED_PREMATURELY_LOG,
    message:"Persistent Real Time Map failsafed prematurely for tracking Id: "+n.trackingId})):d.reset();b.startWidgetTimer(k.METRICS_FEATURE_MAP_DWELL_TIME);b.incrementCount(k.METRICS_FEATURE_MAP_RENDERED,t);break;case f.ERROR:U?b.incrementCount(k.METRICS_FEATURE_MAP_ERROR):(d.extend(),b.incrementCount(k.METRICS_FEATURE_MAP_ERROR_PRE_RENDER,t));break;case f.FATAL:U?(w({secondaryStatus:""}),x({calloutMessage:""}),b.incrementCount(k.METRICS_FEATURE_MAP_FATAL,t)):(d.reset(),b.incrementCount(k.METRICS_FEATURE_MAP_FATAL_PRE_RENDER,
    t));c.message&&("string"===typeof c.message?(b.incrementCount(k.METRICS_FEATURE_MAP_FATAL+"-"+c.message.toLowerCase().replace(/[\s_]+/g,"-"),t),b.logError({feature:k.METRICS_FEATURE_MAP_FATAL_LOG,message:"Persistent Real Time Map received fatal message ["+c.message+"] with url ["+c.url+"] for tracking Id: "+n.trackingId})):"object"===typeof c.message&&c.message.statusText&&(b.incrementCount(METRICS_FEATURE_MAP_FATAL+"-"+c.message.statusText.toLowerCase().replace(/[\s_]+/g,"-"),t),b.logError({feature:k.METRICS_FEATURE_MAP_FATAL_LOG,
    message:"Persistent Real Time Map received fatal message ["+JSON.stringify(c.message)+"] with url ["+c.url+"] for tracking Id: "+n.trackingId})));break;case f.ADDRESS_NOT_FOUND:U?(w({secondaryStatus:""}),x({calloutMessage:""}),b.incrementCount(k.METRICS_FEATURE_MAP_ADDRESS_NOT_FOUND,t)):(d.reset(),b.incrementCount(k.METRICS_FEATURE_MAP_ADDRESS_NOT_FOUND_PRE_RENDER,t));r();break;default:a.$(G).is(":visible")?m(e):b.incrementCount(METRICS_FEATURE_MAP_MEMOIZATION_SKIPPED)}}function m(a){switch(a.status){case f.PICKED_UP:case f.YOU_ARE_NEXT:null!==
    L&&0>L&&b.incrementCount(k.METRICS_FEATURE_MAP_SKIPPED_STOP_BECAME_HEALTHY);L=a.stops;w(a);x(a);M=!1;break;case f.SKIPPED_STOP:null===L?b.incrementCount(k.METRICS_FEATURE_MAP_SKIPPED_STOP_LANDING):-1<L&&(b.incrementCount(k.METRICS_FEATURE_MAP_SKIPPED_AFTER_X_STOPS_PATTERN.replace("[#]",L)),b.incrementCount(k.METRICS_FEATURE_MAP_SKIPPED_STOP_AFTER_HEALTHY),L=-1);w(a);x(a);M=!1;break;case f.PARTIALLY_DELIVERED:case f.DELIVERY_ATTEMPTED:case f.NOT_DELIVERED:case f.REJECTED:v(a);w(a);x(a);b.incrementCount(k.METRICS_FEATURE_MAP_DELIVERY_FAILED_PREFIX+
    a.status.toLowerCase().replace(/_/g,"-"));r();break;case f.DELIVERED:v(a),w(a),x(a),null===M?b.incrementCount(k.METRICS_FEATURE_MAP_ALREADY_DELIVERED):!1===M&&b.incrementCount(k.METRICS_FEATURE_MAP_BECAME_DELIVERED),M=!0,e(n,function(){h.location.reload()},function(a){})}}function D(a){switch(a){case g.NOT_AUTHENTICATED:K||(w({secondaryStatus:0<$signInAgain.length?$signInAgain.html():"",emphasized:!0}),K=!0,b.incrementCount(k.METRICS_FEATURE_MAP_SIGN_IN_AGAIN),r());break;case g.INVALID_TOKEN:P||(w({secondaryStatus:""}),
    x({calloutMessage:""}),P=!0,a=(((new Date).getTime()-c.loadedAt)/100).toFixed(1),b.incrementCount(k.METRICS_FEATURE_MAP_INVALID_TOKEN),b.logError({feature:k.METRICS_FEATURE_MAP_INVALID_TOKEN_LOG,message:"Invalid csrf token ("+h.csrfToken.length+":"+a+")"}),r())}}function w(b){!a.$(G).is(":visible")||n.keepSecondaryUntouched||!b.secondaryStatus&&""!==b.secondaryStatus||(ea.textContent=b.secondaryStatus,b.emphasized?ea.classList.add(k.TEXT_EMPHASIZED):ea.classList.remove(k.TEXT_EMPHASIZED))}function v(a){if(a.primaryStatus||
    ""===a.primaryStatus)R.textContent=a.primaryStatus}function x(a){n.keepSecondaryUntouched&&F(a.calloutMessage)&&(E=a.calloutMessage)}function F(a){return!!a&&"string"===typeof a}function J(){setTimeout(function(){location.reload()},A+1E4)}function z(){var a=p.mapItems;if(a&&a.agent&&a.destination){var b=document.querySelector(".pt-map-container"),c=b.classList.contains("pt-agent-below-destination");(a=a.agent.latitude<a.destination.latitude)&&!c?b.classList.add("pt-agent-below-destination"):!a&&c&&
    b.classList.remove("pt-agent-below-destination")}p&&!1===p.initialZoomTriggered&&p.setMapBounds();p.mapItems.agent&&F(E)&&p.mapItems.agent.updateBubble(E)}function C(){var a=H.LOST_SIGNAL;r();switch(a){case H.LOST_SIGNAL:B&&(b.incrementCount(k.METRICS_FEATURE_PERSISTENT_MAP_FALLBACK_MESSAGE_LOST_SIGNAL,t),ja&&la&&B&&(la.textContent=B,ja.style.display="block"))}}function r(){b.incrementCount(k.METRICS_FEATURE_PERSISTENT_MAP_REALTIME_FALLBACK_TO_STATIC_MAP,t);try{if(p.mapItems.agent&&p.mapItems.agent.marker){var a=
    p.mapItems.agent.marker.getParentGroup();a&&(a.removeObject(p.mapItems.agent.marker),p.ui.removeBubble(p.mapItems.agent.bubble.instant))}}catch(c){b.incrementCount(k.METRICS_FEATURE_PERSISTENT_MAP_REALTIME_FALLBACK_TO_STATIC_MAP_ERROR,t),b.logError({error:c,feature:k.METRICS_FEATURE_PERSISTENT_MAP_REALTIME_FALLBACK_TO_STATIC_MAP_ERROR,message:"Persistent real time map fallback to static map failed for "+n.trackingId}),k.fallbackToNoMap()}}var t={browser:!0},n=a.state("page-state")||{},y=document.querySelectorAll(".map-attributes"),
    A=n.distanceFromDeliveryCutoffTime,G=document.getElementById("pt-map-card");if(0!==y.length&&n.mapTracking){var E,B=y[0].dataset.fallbackMessageLostSignal,H=k.MapFallbackReason,p={},K=!1,P=!1,L=null,U=!1,M=null,R=document.querySelector(".pt-promise-main-slot"),ea=document.querySelector(".pt-promise-details-slot"),ja=document.querySelector(".pt-map-fallback-message"),la=document.querySelector(".pt-map-fallback-message .a-alert-content"),qa={trackingId:n.trackingId,sessionId:n.mapTracking.mapSessionId||
    !1,timezone:n.timezone,customerId:n.customerId,visitTrigger:n.visitTrigger,isDriverPhotoPresent:!0===n.mapTracking.isDriverPhotoPresent,transporterId:n.mapTracking.transporterId,driverNameTitle:n.mapTracking.driverNameTitle,onDataReceived:q,onDataReceivedError:D,onDriverLostSignal:C,onLocationChange:z};0<A&&J();return{loadRealTimeMap:u}}});l.when("pt2-page-utils","page-load","ready").register("persistent-map-layout",function(a){function c(){var a=864>=Math.max(document.documentElement.clientWidth||
    0,h.innerWidth||0)?"narrow":"wide";if(a!==e){for(var b=document.querySelectorAll("[responsivebox][responsivelayout\x3d"+("narrow"==a?"wide":"narrow")+"]"),c=0;c<b.length;c++){var f=b[c],g=f.getAttribute("responsivebox");if(g=document.querySelector("[responsivebox\x3d"+g+"][responsivelayout\x3d"+a+"]"))for(;0<f.childNodes.length;)g.appendChild(f.childNodes[0])}e=a}if(a=document.querySelector("#pt-customer-controls-toolbar-carousel-desktop .a-carousel-center"))if(b=document.querySelector("#cstrac-customer-control-widget-desktop .scroller-content-pt"),
    c=document.querySelector("#pt-customer-controls-toolbar-carousel-desktop .a-carousel-left"))"hidden"===c.style.visibility?(a.style.margin="auto",b&&(b.style.display="block")):a.style.margin="0 0 0 50px"}var e="unknown",f=document.querySelector(".pt-sticky-top-container");f&&"function"===typeof IntersectionObserver&&"function"===typeof f.classList.toggle&&(new IntersectionObserver(function(a){for(var b=0;b<a.length;b++){var c=a[b];c.target.classList.toggle("stuck",1>c.intersectionRatio)}},{threshold:[1]})).observe(f);
    if(f=document.querySelector(".pt-floating-map-card .lineDivider.toolbarStyle_T1")){var g=f.nextElementSibling;g&&g.classList.contains("delivery-card")&&(f.style.display="block")}try{var b=new URL(h.location);b.searchParams.has("amzlMessageId")&&(b.searchParams.delete("amzlMessageId"),h.history.replaceState({},"",b))}catch(d){}h.addEventListener("resize",a.debounce(c,100));c()});"use strict";l.when("A").execute(function(a){a.declarative("pt-open-lens-verify-transparency",["click"],function(a){amazon.mash.navigate({url:"ssnap://www.amazon.com"+
    a.data.link})})});l.declare("holiday-cheer",{isEnabled:!1});l.declare("prime-day-cheer",{isEnabled:!1});"use strict";l.when("A","a-sheet","ready").register("pt2-do-not-enter-bottomsheet",function(a,c){var e=a.$,f,g=e("#do-not-enter-bottomsheet");a.declarative("pt-open-do-not-enter-bottom-sheet",["click"],function(b){f||(b=a.extend({},b.data),b.preloadDomId="do-not-enter-bottomsheet",b.name="do-not-enter-bottomsheet",g.appendTo("body"),g.addClass("aok-offscreen"),g.removeClass("aok-hidden"),b.height=
    g.outerHeight(!0),g.addClass("aok-hidden"),g.removeClass("aok-offscreen"),b.sheetType="web",b.closeType="message",f=c.create(b));f.show()});a.on("a:sheet:beforeShow:do-not-enter-bottomsheet",function(a){g.parent().addClass("do-not-enter-bottom-sheet-container")})});l.when("A","a-button","pt2-csm-metrics-utils").register("pt2-do-not-enter-confirm-switch",function(a,c,e){function f(a,c){var e=new URL(h.location.href);e.searchParams.set(a,c);return e.toString()}function g(b){l.now("mash").execute(function(c){c?
    a.capabilities.ios?c.navstack.begin().replace({url:b}).end():c.navstack.begin().back().replace({url:b}).end():h.location.replace(b)})}a.declarative("confirm-switch-dne","click",function(b){var d=e.setScope("DoNotEnterAjaxLatencyScope");e.setPreAjax(d);var h=c("#do-not-enter-confirm-button");if(h.isEnabled()){b.$event.preventDefault();h.disable();var l={action:b.data.action,csrfToken:b.data.csrfToken,addressId:b.data.addressId,destinationTimezoneId:b.data.destinationTimezoneId};a.post("/progress-tracker/package/actions/do-not-enter",
    {params:l,success:function(a){var b="confirm-switch-to-garage"===l.action?"21":"23",c="confirm-switch-to-garage"===l.action?"22":"24";a.success&&a.value?g(f("amzlMessageId",b)):g(f("amzlMessageId",c));e.setPostAjax(d);e.sendAjaxMetrics(d)},error:function(a){g(f("amzlMessageId","confirm-switch-to-garage"===l.action?"22":"24"));e.setPostAjax(d);e.sendAjaxMetrics(d)}})}})});l.when("A","a-modal","pt2-csm-metrics-utils","ready").register("pt2-do-not-enter-modal",function(a,c,e,f){var g=a.$;a.declarative("do-not-enter-open-modal",
    "click",function(b){var d=a.extend({},b.data);b=b.$currentTarget;var f=b.find("a").data("ref");d.width=620>h.innerWidth?.75*h.innerWidth:600;d.name="do-not-enter-modal";d.dataStrategy="preload";c.create(b,d).show();e.recordReftag(g,f)})})});