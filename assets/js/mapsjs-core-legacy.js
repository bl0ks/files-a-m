/**
 * The code below uses open source software. Please visit the URL below for an overview of the licenses:
 * http://js.api.here.com/v3/3.1.38.0/HERE_NOTICE
 */

H.util.eval("function $v(a,b){if(!a)throw new D($v,0,a);$v.l.constructor.call(this,a);this.b={};this.c=!(!b||!b.jc);this.f=aw++}u($v,wm);var aw=0;\n$v.prototype.T=function(a,b,c,d,e,f){var g=yd(d),h=this.bb,k=g+(c.exp-h.pixelProjection.exp),l=h.min,m=h.max;d=h.tileSize;var n=h.ka().g,q=this.ib,r=q.Oc();var v=q.sb().w;var w=c.w,z=c.x,J=c.y,I={};if(g<l||g>m)return uk.DONE;e=h.requestTiles(a,k,e,f,this.f);a=e.total;e=e.tiles;f=e.length;this.g=c;this.j=b;this.a=k;r!==n&&q.dc(n);c=d=d*w/(Ed(2,k)*d);this.c||(d%1&&(d=zd(d),w=c/d,z/=w,J/=w,w=Ed(2,k)*d),z=zd(z),J=zd(J));this.i=c;k=-d;g=v+d;for(h=0;h<f;h++){v=e[h];if((l=v.data)&&l.tagName){c=b.x-(z-v.x*\nd);n=b.y-(J-v.y*d);q.Jc(l,c,n,d,d);for(r=c;(r-=w)>k;)q.Jc(l,r,n,d,d);for(r=c;(r+=w)<g;)q.Jc(l,r,n,d,d)}I[this.a+\"_\"+v.x+\"_\"+v.y]=v}this.b=I;return f===a?uk.DONE:uk.PENDING};$v.prototype.Ba=function(a,b,c){var d=this.i,e=d/this.bb.tileSize,f=this.g,g=this.j,h;if(uc(this.a)&&f){a=f.x+(a-g.x);b=f.y+(b-g.y);var k=zd(f.w/d);var l=f=zd(a/d);g=zd(b/d);Bd(l)>=k&&(l%=k);0>l&&(l=k+l);(k=this.b[this.a+\"_\"+l+\"_\"+g])&&k.Ba&&(h=k.Ba((a-d*f)/e,(b-d*g)/e,c))}return h||hf};$v.prototype.Pd=function(){return\"2d\"};function bw(a,b){b=b||{};C(a,rl,bw,0);bw.l.constructor.call(this,a);this.jc=!!b.jc;this.c=b.cb||0;this.a=[];this.b={}}u(bw,wm);\nbw.prototype.T=function(a,b,c,d,e,f){var g,h=this.bb,k;d-=this.c;this.a.length=0;var l=this.b;this.b=g={};if(d>=h.min&&d<=h.max){var m=h.pd(a,d,e,f);var n=m.overlays;if(a=n.length)for(n.sort(ph),d=this.ib,e=this.jc,f=0;f<a;f++){h=n[f];var q=h.J();var r=c.fb(q.Ib());var v=c.fb(q.Eb());q=c.w;r.x>=v.x&&(r.x-=q);q=-((r.x+v.x)/q>>1)*q;r.x+=q;r.add(b);v.x+=q;v.add(b);e||(r.round(),v.round());(q=l[k=h.$a()])?delete l[k]:q={Tn:h};g[k]=q;var w=r.x;r=r.y;var z=v.x;v=v.y;var J=z-w;var I=v-r;d.dc(h.Oc());d.Jc(h.Lc(),\nw,r,J,I);q.Pg?q.Pg.set(w,r,z,v):q.Pg=new wk(w,r,z,v);this.a.push(q)}}return!m||m.requested&&m.requested===m.total||!m.requested&&n.length===m.total?uk.DONE:uk.PENDING};bw.prototype.Ba=function(a,b,c){for(var d=this.a,e=d.length,f,g,h;e--;)if(f=d[e],g=f.Pg,g.qf(a,b))if(f=f.Tn,h)h.push(f);else if(h=[f],c)break;return h||hf};bw.prototype.Pd=function(){return\"2d\"};bw.prototype.o=function(){delete this.a;bw.l.o.call(this)};bw.prototype.disposeInternal=bw.prototype.o;var cw={lookAt:{zoom:{min:-8,max:24},tilt:{min:0,max:0},incline:{min:0,max:0},heading:{min:180,max:180}},interaction:{ZOOM:Hl.ZOOM,COORD:Hl.COORD},capture:!0};t(\"H.map.render.p2d.capabilities\",cw);function dw(a,b){this.a=[];dw.l.constructor.apply(this,arguments)}u(dw,Am);p=dw.prototype;p.kj=function(){return this.bb.yc.apply(this.bb,arguments)};p.T=function(a,b,c,d,e,f,g){this.a=[];return dw.l.T.apply(this,arguments)};p.bk=1;p.Gk=function(a,b,c,d,e,f){var g=this.bk=d.Ua();e*=g;f*=g;var h=c.sb();b=h.w*g;h=h.h*g;var k=c.fd();this.jc?(e-=k.x*g,f-=k.y*g):(e=yd(e-k.x*g),f=yd(f-k.y*g));d.Jc(c.Lc(),e,f,b,h);a.detail?a.detail.set(e,f,e+b,f+h):a.detail=new wk(e,f,e+b,f+h);this.a.push(a)};\np.Ba=function(a,b,c){for(var d=this.a,e=d.length,f,g,h,k=hf,l=this.bk;e--&&!(f=d[e],g=f.detail,g.qf(a,b)&&(f=f.kk,(!(h=f.rb().c)||h.If((a-g.left)/l,(b-g.top)/l,0))&&0>k.indexOf(f)&&(k===hf&&(k=[]),k.push(f),c))););return k};p.Pd=function(){return\"2d\"};p.o=function(){this.a=[];dw.l.o.call(this)};dw.prototype.disposeInternal=dw.prototype.o;function Z(a,b,c,d){Z.l.constructor.call(this,a,b,c,d);this.K=new G(0,0);if(c=d.renderBaseBackground)this.Mn=c.lower,this.Ln=c.higher;this.xn=!!d.enableSubpixelRendering;this.Zc=ew;this.vf=0;this.Cd=this.ue=!1;this.g=new im;this.a=d=new qm;this.ad=A(this.ad,this);d.addEventListener(d.A.vg,this.ad);this.Aa=A(this.Aa,this);d=a.element;this.oa=a=d.ownerDocument.createElement(\"div\");a.style.position=\"absolute\";a.style.width=a.style.height=\"100%\";a.style.zIndex=0;d.insertBefore(a,d.firstChild);this.Lj=\nnew Nm(this.oa,this.na);this.s=[];fw(this);this.Ch=A(Z.prototype.Ch,this);this.V=gw;this.eg();this.zoom=hw(this,this.v.kb()+this.cb);this.zb();iw(this,b.gb().position,this.zoom);this.Wa();this.ea()}u(Z,Dl);t(\"H.map.render.p2d.RenderEngine\",Z);Z.prototype.type=Nl.P2D;var gw=2;Z.prototype.getState=function(){return this.V};Z.prototype.getState=Z.prototype.getState;function jw(a,b,c){b=c-b;return Bd(b)<a.b.w/2?b:b-a.b.w*c/Bd(c)}\nZ.prototype.Gg=function(a){var b=this,c=a.b,d=a.newValue,e=a.modifiers;a=d.position;var f=d.bounds,g,h=this.zoom,k=this.m,l=0;e&cj.POSITION&&(g=b.b.fb(a));if(e&cj.BOUNDS)d=kw(this,f.J(),e&cj.ZOOM?d.zoom:B,e&cj.POSITION?a:B),this.v.Qb(d,c);else{e&cj.POSITION||(g=b.b.fb(d.position));var m=g.x;var n=g.y;lw(this);this.K.set(0,0);d=mw(this,d);var q=d.zoom;var r=d.position;if(c){var v=q-h;var w={x:k.x,y:k.y};c=this.b.Xd(w).x;var z=this.b.projection.Kc(a);if(z.x!==this.m.x||z.y!==this.m.y||q!==this.zoom)m=\njw(this,c,m),nw(this,function(J){var I=J-l;if(q!==h){g=b.b.Xd(z);var Q=b.b.Xd(w);m=jw(b,Q.x,g.x);n=g.y-Q.y}l=J;ow(b,m*I,n*I);h+=v*I;pw(b,h);b.Wa();b.fa()},this.ya,function(){iw(b,r,q);pw(b,q);b.Wa(r);b.fa()},this.Ya)}else qw(this),iw(this,r,q),pw(this,q),this.Wa(r);this.fa()}};Z.prototype.ya=300;Z.prototype.ig=function(a){var b=Dc(a);if(!b||b&&0>a)throw new D(this.ig,1,\"positive number required\");this.ya=a};Z.prototype.setAnimationDuration=Z.prototype.ig;Z.prototype.Ug=function(){return this.ya};\nZ.prototype.getAnimationDuration=Z.prototype.Ug;Z.prototype.Ya=Zl;Z.prototype.jg=function(a){if(!Da(a))throw new D(this.jg,1,\"function required\");this.Ya=a};Z.prototype.setAnimationEase=Z.prototype.jg;Z.prototype.Vg=function(){return this.Ya};Z.prototype.getAnimationEase=Z.prototype.Vg;Z.prototype.eg=function(){this.Ya=Zl;this.ya=300};Z.prototype.resetAnimationDefaults=Z.prototype.eg;\nZ.prototype.Qh=function(a,b,c){var d;this.Yj=Jk();(d=this.N.ha.splice(a,1)[0])&&d.D&&d.D();(d=this.u.ha.splice(a,1)[0])&&d.D&&d.D();(d=this.ra.ha.splice(a,1)[0])&&d.D&&d.D();(d=this.Y.ha.splice(a,1)[0])&&d.D&&d.D();this.Rb=this.c.Ha();0===a&&(Il(this,b,!1),this.zb());this.s=Om(this.Lj,rw(this),sw(this));this.$d();c||this.fa()};function fw(a){var b=a.c.Ha(),c=0,d=b.length;[a.N={},a.u={},a.ra={},a.Y={}].forEach(function(e){e.Ic=[];e.ha=[]});for(a.Rb=a.c.Ha();c<d;c++)a.Le(c,b[c]);a.zb()}\nZ.prototype.Rh=function(){this.zb();this.fa()};Z.prototype.mh=function(a,b,c){var d,e,f,g;if(b){var h={jc:this.xn,cb:this.cb};b.T?C(b,ym)?e=new xm(b):C(b,Km)&&(g=new xm(b)):(b.requestOverlays&&(d=new bw(b,h)),b.requestTiles&&(e=new $v(b,h)),b.requestMarkers&&(f=new dw(b,h)),b.requestDomMarkers&&(g=new Dm(b,h)))}c=c||0;this.N.ha.splice(a,c,d);this.u.ha.splice(a,c,e);this.ra.ha.splice(a,c,f);this.Y.ha.splice(a,c,g);this.Rb=this.c.Ha();this.s=Om(this.Lj,rw(this),sw(this))};\nfunction sw(a){var b=[];b=b.concat(a.u.ha);b=b.concat(a.N.ha);b=b.concat(a.ra.ha);b=b.concat(a.Y.ha);return b=b.filter(uc)}function mw(a,b){var c=Jl(a,Jl(a,b.zoom)+a.cb);a=Kl(a,b);a.zoom=c;return a}function iw(a,b,c){var d=a.b;d.Ka(c);a.m=d.projection.Kc(b);d.x=d.w*a.m.x;d.y=d.h*a.m.y}Z.prototype.Ra=function(a,b){var c=this.f.center,d=this.na;return this.b.La((a-c.x)*d,(b-c.y)*d)};Z.prototype.screenToGeo=Z.prototype.Ra;Z.prototype.hg=function(a,b){a=this.Ra(a,b);b=this.v.gb();b.position=a;return b};\nZ.prototype.Aa=function(a){var b=this.na,c=this.f.center,d=c.x*b;c=c.y*b;a=this.b.fb(a);var e=this.b.w;return new G(yd((a.x-yd(a.x/e)*e+d)/b),yd((a.y+c)/b))};Z.prototype.geoToScreen=Z.prototype.Aa;Z.prototype.J=function(a,b){var c=this.ua[a||4];a=this.b;var d=c.left-b,e=a.La(d,c.top-b),f=c.right+b;b=a.La(f,c.bottom+b);f-d>=a.w&&(e.lng=-(b.lng=180));return sg(e,b)};\nZ.prototype.Ba=function(a,b,c,d){var e=[],f=this.na,g;a*=f;b*=f;f=[this.N,this.u,this.ra,this.Y];for(g=f.length;g--&&(!c||!e.length);){for(var h=e,k=f[g].ha,l=a,m=b,n=c,q=k.length;q--&&!((e=k[q])&&e.Ba&&(h=h.concat(e.Ba(l,m,n)),h.length&&n)););e=h}d(e)};Z.prototype.getObjectsAt=Z.prototype.Ba;Z.prototype.Gc=y;function rw(a){a=a.ua[2];return{w:a.right-a.left,h:a.bottom-a.top}}\nZ.prototype.ea=function(){var a=this.s.length,b;Z.l.ea.call(this);var c=rw(this);this.K.set(0,0);var d=c.w;for(b=c.h;a--;){c=this.s[a];var e=c.sb();e.w===d&&e.h===b||c.Ze(d,b)}this.Gc=new Ui(d,b);this.fa()};Z.prototype.getCapabilities=function(){return cw};Z.prototype.getCapabilities=Z.prototype.getCapabilities;function tw(a){a.i&&a.i.qa()||Jk()-a.Yj<a.Zc&&!a.yd?a.Un=Hk(a.Ch):(a.yd&&(a.$d(),uw(a)),a.V=gw)}p=Z.prototype;\np.$d=function(){this.N.Ic.length=0;this.u.Ic.length=0;this.ra.Ic.length=0;this.Y.Ic.length=0};\np.Ch=function(){var a;this.B&&this.B.before();var b=this.u.ha;var c=this.f.center.clone().scale(this.na).round();var d=this.J(1,0);var e=this.J(1,vw);var f=this.zoom;var g=f-this.cb;var h=this.b;var k=this.Mn;var l=this.Ln;var m=b[0];b=this.K;var n=this.s.length;var q=this.Rb;for(a=q.length;n--;){var r=this.s[n];C(r,vm)&&r.clear()}if(m){if(k)for(;k;)n=f-k,m.T(d,c,h,n,!0,b),--k;if(l&&this.Cd)for(r=1;r<=l&&(n=f+r,h.Ka(n),k=this.J(2,0),h.Ka(f),!m.T(k,c,h,n,!0,b));r++);}for(this.Zc=ew;a--;)h=q[a],C(h,\noj)&&h.ka()&&h.ka().Qe(e,g);d=this.ak(d,c,f,!1,b,ww,this.u,this.N);c=this.ak(e,c,g,!1,b,xw,this.ra,this.Y);this.yd=d&&c;this.i&&this.i.qa()&&this.wg();this.S||(this.S=this.v.gb());this.S.bounds=this.J(4,0);this.v.Wa(this.S);this.S=null;this.Gc&&(this.f.Wa(this.Gc),this.Gc=y);f<this.vf?this.Cd=!0:this.ue&&(this.Cd=!1);this.vf=f;this.ue=d;this.B&&this.B.after();tw(this)};\np.ak=function(a,b,c,d,e,f,g){var h=Array.prototype.slice.call(arguments,6),k=h.length,l=h[0].ha.length,m=k*l,n=!!m,q;for(q=0;q<m;q++){if(f===ww){var r=q%k;var v=Math.floor(q/k)}else r=Math.floor(q/l),v=q%l;var w=h[r].ha[v];r=h[r].Ic;w&&(w=w.T(a,b,this.b,c,d,e,this.Aa),w===uk.ACTIVE&&(this.Zc=Infinity),w!==uk.DONE||r[v]||(uw(this,this.Rb[v]),r[v]=!0),r[v]||(n=!1))}return n};function uw(a,b){a.dispatchEvent({type:a.A.Oi,target:b||a})}\np.o=function(){var a=this.c.Ha()[0],b=this.f;Ik(this.Un);qw(this,!0);a&&Il(this,a,!1);sw(this).forEach(function(c){c.D()});b.element&&b.element.removeChild(this.oa);this.oa=null;this.V=3;Z.l.o.call(this)};p.fa=function(){this.Yj=Jk();this.V===gw&&(this.yd=!1,this.V=1,tw(this))};function yw(a,b,c){ow(a,b*a.na,c*a.na);a.K.set(0,0);a.Wa();a.fa()}function ow(a,b,c){var d=a.b;a=a.m;d.x=Xd(d.x+b,d.w);d.y=xd(0,wd(d.w,d.y+c));a.x=d.x/d.w;a.y=d.y/d.h}\np.ud=function(a,b,c){a=Jl(this,Jl(this,a)+this.cb);pw(this,a,b,c)};Z.prototype.zoomAt=Z.prototype.ud;function pw(a,b,c,d){var e=a.na,f=a.f.center;c===+c&&d===+d?(c=(c-f.x)*e,d=(d-f.y)*e,a.K.set(c,d),ow(a,c,d),a.b.Ka(b),ow(a,-c,-d)):(a.K.set(0,0),a.b.Ka(b));a.zoom=b;a.Wa();a.fa()}\nfunction kw(a,b,c,d){var e=a.getCapabilities().lookAt.zoom.max,f=b.Za(),g=d||f;if(b.Kf()||c&&d)c=c===B?e:c;else{var h=new lj(a.b.projection);h.Ka(e);var k=h.fb(b.Ib()).round();var l=h.fb(b.Eb()).round();e=h.w;b.vb()&&(k.x-=e);d?(f=h.fb(g),b=2*xd(f.x-k.x,l.x-f.x),k=2*xd(f.y-k.y,l.y-f.y)):(b=l.x-k.x,k=l.y-k.y,g=f);c===B&&(f=a.ua[4],c=f.right-f.left,f=f.bottom-f.top,c=-8+wd(Cd(c/b*e)/Md,Cd(f/k*e)/Md)-a.cb,c=Jl(a,c))}return{zoom:zd(c),position:g}}\nfunction lw(a){qw(a,!0);a.a.qa()&&a.pb(!0);a.g.qa()&&a.qb(!0);qw(a,!0)}Z.prototype.gc=function(a,b){lw(this);zw(this,b);this.g.start(a,!!b)};Z.prototype.startInteraction=Z.prototype.gc;function zw(a,b){if(b){var c={};c.Pe=b.power;c.re=b.ease;c.duration=b.duration;a.j=c}}function hw(a,b){return Jl(a,Jl(a,b-a.cb)+a.cb)}\nZ.prototype.Yb=function(a,b,c,d,e){var f=!1;this.g.qa()&&(b=this.g.store(a,b,c,d,e),this.g.uc(Hl.COORD)&&(a=this.g.Ld(),0<hm(a)&&(yw(this,-a.x,-a.y),f=!0)),b&&this.g.uc(Hl.ZOOM)&&(a=this.g.wf(),b=this.g.xf(),b=Cd(Ed(2,this.zoom)*b)/Md,b!==this.zoom&&(b=hw(this,b),pw(this,b,a.x,a.y),f=!0)),f&&this.fa())};Z.prototype.interaction=Z.prototype.Yb;\nZ.prototype.qb=function(a){var b=this;if(this.g.qa()&&!a){if(this.j){a=this.g.tb();var c=this.g.mc();var d=this.j.duration;var e=(this.j.Pe||1)*a;var f=new Lm(-e/(0<d?d:1),e);!E(c.x)&&!E(c.y)&&0<e&&b.g.uc(Hl.COORD)&&nw(this,function(g){e=f.ze(g*d);E(e)||yw(b,yd(-c.x*e),yd(-c.y*e))},d,void 0,this.j.re)}this.j=null;this.g.clear()}};Z.prototype.endInteraction=Z.prototype.qb;Z.prototype.fc=function(a,b,c){lw(this);this.a.start(b,c);zw(this,a)};Z.prototype.startControl=Z.prototype.fc;\nZ.prototype.control=function(a,b,c){if(E(+c))throw new D(this.control,2,c);if(E(a))throw new D(this.control,0,a);if(E(b))throw new D(this.control,1,b);this.a.qa()&&this.a.set(a,b,c,0,0,0)};Z.prototype.control=Z.prototype.control;\nZ.prototype.pb=function(a,b){var c=this,d;if(this.a.qa()){qw(this,!0);var e=Jk();var f=e-this.Nj;if(1<=f){var g=tm(this.a);Aw(this,g,f)}if(!this.j||a||b)\"function\"===typeof b&&(a=this.gb(),a.zoom=this.zoom-this.cb,b(a),a.zoom+=this.cb,Bw(this,a));else{b=this.a.tb();var h=this.a.mc();var k=this.j.duration;var l=(this.j.Pe||1)*b;var m=new Lm(-l/(0<k?k:1),l);!E(h.a)&&!E(h.b)&&0<l&&nw(this,function(n,q,r,v){e&&(r=v-e,e=0);l=m.ze(n*k)*r;E(l)||((d=h.c*l)&&pw(c,hw(c,c.zoom+d),c.a.a,c.a.b),yw(c,yd(h.a*l),\nyd(h.b*l)))},k,void 0,this.j.re)}this.a.reset()}};Z.prototype.endControl=Z.prototype.pb;\nfunction Bw(a,b){var c=a.m,d=a.b.projection.Kc(b.position),e=a.b.Xd(d),f=e.y;e=e.x;var g=b.zoom;c=a.b.Xd(c);b=c.y;var h=c.x;c=a.zoom;var k=a.a.tb(),l=a.a.a,m=a.a.b,n=0;e=jw(a,h,e);e-=h;f-=b;c=g-c;b=Dd(e*e+f*f+c*c);if(0!==k&&0!==b){var q=e/b;var r=f/b;var v=c/b;var w=k*k/(2*b);nw(a,function(z,J){var I;if(1!==z){z=k*J-w*J*J/2;J=z-n;if(I=v*J)I=hw(a,a.zoom+I),pw(a,hw(a,I),l,m);yw(a,yd(q*J),yd(r*J));n=z}else a.m=d,pw(a,hw(a,g),l,m),a.Wa(),a.fa()},2*b/k)}}\nZ.prototype.ad=function(a){var b=this,c=a.b;this.K.set(0,0);c.a||c.b||c.c?(this.Nj=Jk(),nw(this,function(d,e,f,g){b.Nj=g;Aw(b,c,f)},Number.POSITIVE_INFINITY),this.fa()):qw(this,!0)};function Aw(a,b,c){c=c||0;b.c&&pw(a,hw(a,a.zoom+b.c*c),a.a.atX,a.a.atY);yw(a,b.a*c,b.b*c)}function nw(a,b,c,d,e){a.i&&a.i.qa()&&a.i.stop(!0);a.i=new zm(a,b,c,d,e);a.i.start()}function qw(a,b){a.i&&a.i.qa()&&a.i.stop(b)}Z.prototype.Qg=function(){};Z.prototype.enter=Z.prototype.Qg;Z.prototype.Rg=function(a){Gl(this.oa,a)};\nZ.prototype.exit=Z.prototype.Rg;Z.prototype.capture=function(a,b,c,d){var e=this.oa.ownerDocument.createElement(\"canvas\"),f=e.getContext(\"2d\"),g=this.na;e.width=(c-a)*g;e.height=(d-b)*g;for(c=0;c<this.s.length;c++)d=this.s[c],C(d,vm)&&f.drawImage(d.L(),-a*g,-b*g);return Zb(e)};var xw=0,ww=1,ew=1E3,vw=256;\n");