/*
 almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/almond for details
 Select2 4.0.0
 https://select2.github.io

 Released under the MIT license
 https://github.com/select2/select2/blob/master/LICENSE.md
*/
(function(r){var l=window.AmazonUIPageJS||window.P,u=l._namespace||l.attributeErrors,w=u?u("AUIWS_Select2",""):l;w.guardFatal?w.guardFatal(r)(w,window):w.execute(function(){r(w,window)})})(function(r,l,u){var w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"===typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};r.when("jQuery").register("3p-auiws-select2",function(p){var r=l.jQuery,F=l.$;l.jQuery=
    p;l.$=p;p.fn.on===u&&(p.fn.on=function(l,p,u,k){if(null==u&&null==k)return this.bind(l,p);if(null==k)return"string"===typeof p?this.delegate(p,l,u):this.bind(l,p,u)});p.fn.off===u&&(p.fn.off=function(l){return this.unbind(l)});(function(l){"function"===typeof define&&define.amd?define(["jquery"],l):"object"===("undefined"===typeof exports?"undefined":w(exports))?l(require("jquery")):l(p)})(function(x){var r=function(){if(x&&x.fn&&x.fn.select2&&x.fn.select2.amd)var k=x.fn.select2.amd;(function(){if(!k||
    !k.requirejs){k?f=k:k={};var e,f,c;(function(b){function a(a,d){var b,g,n=d&&d.split("/"),c=v.map,m=c&&c["*"]||{};if(a&&"."===a.charAt(0))if(d){n=n.slice(0,n.length-1);a=a.split("/");d=a.length-1;v.nodeIdCompat&&B.test(a[d])&&(a[d]=a[d].replace(B,""));a=n.concat(a);for(d=0;d<a.length;d+=1){var e=a[d];if("."===e)a.splice(d,1),--d;else if(".."===e)if(1!==d||".."!==a[2]&&".."!==a[0])0<d&&(a.splice(d-1,2),d-=2);else break}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((n||m)&&c){e=a.split("/");
    for(d=e.length;0<d;--d){var f=e.slice(0,d).join("/");if(n)for(g=n.length;0<g;--g)if(b=c[n.slice(0,g).join("/")])if(b=b[f]){var q=b;var D=d;break}if(q)break;if(!k&&m&&m[f]){var k=m[f];var l=d}}!q&&k&&(q=k,D=l);q&&(e.splice(0,D,q),a=e.join("/"))}return a}function d(a,d){return function(){return l.apply(b,x.call(arguments,0).concat([a,d]))}}function g(d){return function(b){return a(b,d)}}function n(a){return function(d){t[a]=d}}function m(a){if(y.call(p,a)){var d=p[a];delete p[a];r[a]=!0;C.apply(b,d)}if(!y.call(t,
    a)&&!y.call(r,a))throw Error("No "+a);return t[a]}function q(a){var d=a?a.indexOf("!"):-1;if(-1<d){var b=a.substring(0,d);a=a.substring(d+1,a.length)}return[b,a]}function k(a){return function(){return v&&v.config&&v.config[a]||{}}}var l,t={},p={},v={},r={},y=Object.prototype.hasOwnProperty,x=[].slice,B=/\.js$/;var E=function(d,b){d=q(d);var n=d[0];d=d[1];if(n){n=a(n,b);var c=m(n)}n?d=c&&c.normalize?c.normalize(d,g(b)):a(d,b):(d=a(d,b),d=q(d),n=d[0],d=d[1],n&&(c=m(n)));return{f:n?n+"!"+d:d,n:d,pr:n,
    p:c}};var A={require:function(a){return d(a)},exports:function(a){var d=t[a];return"undefined"!==typeof d?d:t[a]={}},module:function(a){return{id:a,uri:"",exports:t[a],config:k(a)}}};var C=function(a,g,c,e){var f,q=[];var k="undefined"===typeof c?"undefined":w(c);e=e||a;if("undefined"===k||"function"===k){g=!g.length&&c.length?["require","exports","module"]:g;for(f=0;f<g.length;f+=1){var l=E(g[f],e);k=l.f;if("require"===k)q[f]=A.require(a);else if("exports"===k){q[f]=A.exports(a);var h=!0}else if("module"===
    k)var z=q[f]=A.module(a);else if(y.call(t,k)||y.call(p,k)||y.call(r,k))q[f]=m(k);else if(l.p)l.p.load(l.n,d(e,!0),n(k),{}),q[f]=t[k];else throw Error(a+" missing "+k);}g=c?c.apply(t[a],q):u;a&&(z&&z.exports!==b&&z.exports!==t[a]?t[a]=z.exports:g===b&&h||(t[a]=g))}else a&&(t[a]=c)};e=f=l=function(a,d,g,n,c){if("string"===typeof a)return A[a]?A[a](d):m(E(a,d).f);if(!a.splice){v=a;v.deps&&l(v.deps,v.callback);if(!d)return;d.splice?(a=d,d=g,g=null):a=b}d=d||function(){};"function"===typeof g&&(g=n,n=
    c);n?C(b,a,d,g):setTimeout(function(){C(b,a,d,g)},4);return l};l.config=function(a){return l(a)};e._defined=t;c=function(a,d,b){d.splice||(b=d,d=[]);y.call(t,a)||y.call(p,a)||(p[a]=[a,d,b])};c.amd={jQuery:!0}})();k.requirejs=e;k.require=f;k.define=c}})();k.define("almond",function(){});k.define("jquery",[],function(){var e=x||p;null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page.");
    return e});k.define("select2/utils",["jquery"],function(e){function f(a){a=a.prototype;var d=[],b;for(b in a)"function"===typeof a[b]&&"constructor"!==b&&d.push(b);return d}var c={Extend:function(a,d){function b(){this.constructor=a}var n={}.hasOwnProperty,c;for(c in d)n.call(d,c)&&(a[c]=d[c]);b.prototype=d.prototype;a.prototype=new b;a.__super__=d.prototype;return a},Decorate:function(a,d){function b(){var b=Array.prototype.unshift,g=a.prototype.constructor;0<d.prototype.constructor.length&&(b.call(arguments,
    a.prototype.constructor),g=d.prototype.constructor);g.apply(this,arguments)}var n=f(d),c=f(a);d.displayName=a.displayName;b.prototype=new function(){this.constructor=b};for(var e=0;e<c.length;e++){var k=c[e];b.prototype[k]=a.prototype[k]}c=function(a){var g=function(){};a in b.prototype&&(g=b.prototype[a]);var c=d.prototype[a];return function(){Array.prototype.unshift.call(arguments,g);return c.apply(this,arguments)}};for(e=0;e<n.length;e++)k=n[e],b.prototype[k]=c(k);return b}},b=function(){this.listeners=
    {}};b.prototype.on=function(a,d){this.listeners=this.listeners||{};a in this.listeners?this.listeners[a].push(d):this.listeners[a]=[d]};b.prototype.trigger=function(a){var d=Array.prototype.slice;this.listeners=this.listeners||{};a in this.listeners&&this.invoke(this.listeners[a],d.call(arguments,1));"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)};b.prototype.invoke=function(a,d){for(var b=0,c=a.length;b<c;b++)a[b].apply(this,d)};c.Observable=b;c.generateChars=function(a){for(var d=
    "",b=0;b<a;b++)d+=Math.floor(36*Math.random()).toString(36);return d};c.bind=function(a,d){return function(){a.apply(d,arguments)}};c._convertData=function(a){for(var d in a){var b=d.split("-"),c=a;if(1!==b.length){for(var m=0;m<b.length;m++){var e=b[m];e=e.substring(0,1).toLowerCase()+e.substring(1);e in c||(c[e]={});m==b.length-1&&(c[e]=a[d]);c=c[e]}delete a[d]}}return a};c.hasScroll=function(a,d){a=e(d);var b=d.style.overflowX,c=d.style.overflowY;return b!==c||"hidden"!==c&&"visible"!==c?"scroll"===
    b||"scroll"===c?!0:a.innerHeight()<d.scrollHeight||a.innerWidth()<d.scrollWidth:!1};c.escapeMarkup=function(a){var d={"\\":"\x26#92;","\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;","/":"\x26#47;"};return"string"!==typeof a?a:String(a).replace(/[&<>"'\/\\]/g,function(a){return d[a]})};c.appendMany=function(a,d){if("1.7"===e.fn.jquery.substr(0,3)){var b=e();e.map(d,function(a){b=b.add(a)});d=b}a.append(d)};return c});k.define("select2/results",["jquery","./utils"],
    function(e,f){function c(b,a,d){this.$element=b;this.data=d;this.options=a;c.__super__.constructor.call(this)}f.Extend(c,f.Observable);c.prototype.render=function(){var b=e('\x3cul class\x3d"select2-results__options" role\x3d"tree"\x3e\x3c/ul\x3e');this.options.get("multiple")&&b.attr("aria-multiselectable","true");return this.$results=b};c.prototype.clear=function(){this.$results.empty()};c.prototype.displayMessage=function(b){var a=this.options.get("escapeMarkup");this.clear();this.hideLoading();
    var d=e('\x3cli role\x3d"treeitem" class\x3d"select2-results__option"\x3e\x3c/li\x3e'),g=this.options.get("translations").get(b.message);d.append(a(g(b.args)));this.$results.append(d)};c.prototype.append=function(b){this.hideLoading();var a=[];if(null==b.results||0===b.results.length)0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"});else{b.results=this.sort(b.results);for(var d=0;d<b.results.length;d++){var g=this.option(b.results[d]);a.push(g)}this.$results.append(a)}};
    c.prototype.position=function(b,a){a.find(".select2-results").append(b)};c.prototype.sort=function(b){return this.options.get("sorter")(b)};c.prototype.setClasses=function(){var b=this;this.data.current(function(a){var d=e.map(a,function(a){return a.id.toString()});a=b.$results.find(".select2-results__option[aria-selected]");a.each(function(){var a=e(this),b=e.data(this,"data"),g=""+b.id;null!=b.element&&b.element.selected||null==b.element&&-1<e.inArray(g,d)?a.attr("aria-selected","true"):a.attr("aria-selected",
    "false")});var g=a.filter("[aria-selected\x3dtrue]");0<g.length?g.first().trigger("mouseenter"):a.first().trigger("mouseenter")})};c.prototype.showLoading=function(b){this.hideLoading();b={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(b)};b=this.option(b);b.className+=" loading-results";this.$results.prepend(b)};c.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()};c.prototype.option=function(b){var a=document.createElement("li");a.className=
    "select2-results__option";var d={role:"treeitem","aria-selected":"false"};b.disabled&&(delete d["aria-selected"],d["aria-disabled"]="true");null==b.id&&delete d["aria-selected"];null!=b._resultId&&(a.id=b._resultId);b.title&&(a.title=b.title);b.children&&(d.role="group",d["aria-label"]=b.text,delete d["aria-selected"]);for(var g in d)a.setAttribute(g,d[g]);if(b.children){d=e(a);g=document.createElement("strong");g.className="select2-results__group";e(g);this.template(b,g);for(var c=[],m=0;m<b.children.length;m++){var f=
    this.option(b.children[m]);c.push(f)}m=e("\x3cul\x3e\x3c/ul\x3e",{"class":"select2-results__options select2-results__options--nested"});m.append(c);d.append(g);d.append(m)}else this.template(b,a);e.data(a,"data",b);return a};c.prototype.bind=function(b,a){var d=this;this.$results.attr("id",b.id+"-results");b.on("results:all",function(a){d.clear();d.append(a.data);b.isOpen()&&d.setClasses()});b.on("results:append",function(a){d.append(a.data);b.isOpen()&&d.setClasses()});b.on("query",function(a){d.showLoading(a)});
    b.on("select",function(){b.isOpen()&&d.setClasses()});b.on("unselect",function(){b.isOpen()&&d.setClasses()});b.on("open",function(){d.$results.attr("aria-expanded","true");d.$results.attr("aria-hidden","false");d.setClasses();d.ensureHighlightVisible()});b.on("close",function(){d.$results.attr("aria-expanded","false");d.$results.attr("aria-hidden","true");d.$results.removeAttr("aria-activedescendant")});b.on("results:toggle",function(){var a=d.getHighlightedResults();0!==a.length&&a.trigger("mouseup")});
    b.on("results:select",function(){var a=d.getHighlightedResults();if(0!==a.length){var b=a.data("data");"true"==a.attr("aria-selected")?d.trigger("close"):d.trigger("select",{data:b})}});b.on("results:previous",function(){var a=d.getHighlightedResults(),b=d.$results.find("[aria-selected]"),c=b.index(a);if(0!==c){--c;0===a.length&&(c=0);b=b.eq(c);b.trigger("mouseenter");a=d.$results.offset().top;b=b.offset().top;var e=d.$results.scrollTop()+(b-a);0===c?d.$results.scrollTop(0):0>b-a&&d.$results.scrollTop(e)}});
    b.on("results:next",function(){var a=d.getHighlightedResults(),b=d.$results.find("[aria-selected]");a=b.index(a)+1;if(!(a>=b.length)){var c=b.eq(a);c.trigger("mouseenter");b=d.$results.offset().top+d.$results.outerHeight(!1);c=c.offset().top+c.outerHeight(!1);var e=d.$results.scrollTop()+c-b;0===a?d.$results.scrollTop(0):c>b&&d.$results.scrollTop(e)}});b.on("results:focus",function(a){a.element.addClass("select2-results__option--highlighted")});b.on("results:message",function(a){d.displayMessage(a)});
    if(e.fn.mousewheel)this.$results.on("mousewheel",function(a){var b=d.$results.scrollTop(),c=d.$results.get(0).scrollHeight-d.$results.scrollTop()+a.deltaY;b=0<a.deltaY&&0>=b-a.deltaY;c=0>a.deltaY&&c<=d.$results.height();b?(d.$results.scrollTop(0),a.preventDefault(),a.stopPropagation()):c&&(d.$results.scrollTop(d.$results.get(0).scrollHeight-d.$results.height()),a.preventDefault(),a.stopPropagation())});this.$results.on("mouseup",".select2-results__option[aria-selected]",function(a){var b=e(this),
    c=b.data("data");"true"===b.attr("aria-selected")?d.options.get("multiple")?d.trigger("unselect",{originalEvent:a,data:c}):d.trigger("close"):d.trigger("select",{originalEvent:a,data:c})});this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(a){a=e(this).data("data");d.getHighlightedResults().removeClass("select2-results__option--highlighted");d.trigger("results:focus",{data:a,element:e(this)})})};c.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")};
    c.prototype.destroy=function(){this.$results.remove()};c.prototype.ensureHighlightVisible=function(){var b=this.getHighlightedResults();if(0!==b.length){var a=this.$results.find("[aria-selected]").index(b),d=this.$results.offset().top,c=b.offset().top,n=this.$results.scrollTop()+(c-d);d=c-d;n-=2*b.outerHeight(!1);2>=a?this.$results.scrollTop(0):(d>this.$results.outerHeight()||0>d)&&this.$results.scrollTop(n)}};c.prototype.template=function(b,a){var d=this.options.get("templateResult"),c=this.options.get("escapeMarkup");
    b=d(b);null==b?a.style.display="none":"string"===typeof b?a.innerHTML=c(b):e(a).append(b)};return c});k.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}});k.define("select2/selection/base",["jquery","../utils","../keys"],function(e,f,c){function b(a,d){this.$element=a;this.options=d;b.__super__.constructor.call(this)}f.Extend(b,f.Observable);b.prototype.render=
    function(){var a=e('\x3cspan class\x3d"select2-selection" role\x3d"combobox" aria-autocomplete\x3d"list" aria-haspopup\x3d"true" aria-expanded\x3d"false"\x3e\x3c/span\x3e');this._tabindex=0;null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex"));a.attr("title",this.$element.attr("title"));a.attr("tabindex",this._tabindex);return this.$selection=a};b.prototype.bind=function(a,b){var d=
    this,n=a.id+"-results";this.container=a;this.$selection.on("focus",function(a){d.trigger("focus",a)});this.$selection.on("blur",function(a){d.trigger("blur",a)});this.$selection.on("keydown",function(a){d.trigger("keypress",a);a.which===c.SPACE&&a.preventDefault()});a.on("results:focus",function(a){d.$selection.attr("aria-activedescendant",a.data._resultId)});a.on("selection:update",function(a){d.update(a.data)});a.on("open",function(){d.$selection.attr("aria-expanded","true");d.$selection.attr("aria-owns",
    n);d._attachCloseHandler(a)});a.on("close",function(){d.$selection.attr("aria-expanded","false");d.$selection.removeAttr("aria-activedescendant");d.$selection.removeAttr("aria-owns");d.$selection.focus();d._detachCloseHandler(a)});a.on("enable",function(){d.$selection.attr("tabindex",d._tabindex)});a.on("disable",function(){d.$selection.attr("tabindex","-1")})};b.prototype._attachCloseHandler=function(a){e(document.body).on("mousedown.select2."+a.id,function(a){var d=e(a.target).closest(".select2");
    e(".select2.select2-container--open").each(function(){var a=e(this);this!=d[0]&&a.data("element").select2("close")})})};b.prototype._detachCloseHandler=function(a){e(document.body).off("mousedown.select2."+a.id)};b.prototype.position=function(a,d){d.find(".selection").append(a)};b.prototype.destroy=function(){this._detachCloseHandler(this.container)};b.prototype.update=function(a){throw Error("The `update` method must be defined in child classes.");};return b});k.define("select2/selection/single",
    ["jquery","./base","../utils","../keys"],function(e,f,c,b){function a(){a.__super__.constructor.apply(this,arguments)}c.Extend(a,f);a.prototype.render=function(){var d=a.__super__.render.call(this);d.addClass("select2-selection--single");d.html('\x3cspan class\x3d"select2-selection__rendered"\x3e\x3c/span\x3e\x3cspan class\x3d"select2-selection__arrow" role\x3d"presentation"\x3e\x3cb role\x3d"presentation"\x3e\x3c/b\x3e\x3c/span\x3e');return d};a.prototype.bind=function(d,b){var c=this;a.__super__.bind.apply(this,
    arguments);var g=d.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",g);this.$selection.attr("aria-labelledby",g);this.$selection.on("mousedown",function(a){1===a.which&&c.trigger("toggle",{originalEvent:a})});this.$selection.on("focus",function(a){});this.$selection.on("blur",function(a){});d.on("selection:update",function(a){c.update(a.data)})};a.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()};a.prototype.display=function(a){var d=
    this.options.get("templateSelection");return this.options.get("escapeMarkup")(d(a))};a.prototype.selectionContainer=function(){return e("\x3cspan\x3e\x3c/span\x3e")};a.prototype.update=function(a){if(0===a.length)this.clear();else{a=a[0];var d=this.display(a),b=this.$selection.find(".select2-selection__rendered");b.empty().append(d);b.prop("title",a.title||a.text)}};return a});k.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,f,c){function b(a,d){b.__super__.constructor.apply(this,
    arguments)}c.Extend(b,f);b.prototype.render=function(){var a=b.__super__.render.call(this);a.addClass("select2-selection--multiple");a.html('\x3cul class\x3d"select2-selection__rendered"\x3e\x3c/ul\x3e');return a};b.prototype.bind=function(a,d){var c=this;b.__super__.bind.apply(this,arguments);this.$selection.on("click",function(a){c.trigger("toggle",{originalEvent:a})});this.$selection.on("click",".select2-selection__choice__remove",function(a){var d=e(this).parent().data("data");c.trigger("unselect",
    {originalEvent:a,data:d})})};b.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()};b.prototype.display=function(a){var d=this.options.get("templateSelection");return this.options.get("escapeMarkup")(d(a))};b.prototype.selectionContainer=function(){return e('\x3cli class\x3d"select2-selection__choice"\x3e\x3cspan class\x3d"select2-selection__choice__remove" role\x3d"presentation"\x3e\x26times;\x3c/span\x3e\x3c/li\x3e')};b.prototype.update=function(a){this.clear();
    if(0!==a.length){for(var d=[],b=0;b<a.length;b++){var n=a[b],e=this.display(n),f=this.selectionContainer();f.append(e);f.prop("title",n.title||n.text);f.data("data",n);d.push(f)}a=this.$selection.find(".select2-selection__rendered");c.appendMany(a,d)}};return b});k.define("select2/selection/placeholder",["../utils"],function(e){function f(c,b,a){this.placeholder=this.normalizePlaceholder(a.get("placeholder"));c.call(this,b,a)}f.prototype.normalizePlaceholder=function(c,b){"string"===typeof b&&(b=
    {id:"",text:b});return b};f.prototype.createPlaceholder=function(c,b){c=this.selectionContainer();c.html(this.display(b));c.addClass("select2-selection__placeholder").removeClass("select2-selection__choice");return c};f.prototype.update=function(c,b){var a=1==b.length&&b[0].id!=this.placeholder.id;if(1<b.length||a)return c.call(this,b);this.clear();c=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(c)};return f});k.define("select2/selection/allowClear",
    ["jquery","../keys"],function(e,f){function c(){}c.prototype.bind=function(b,a,d){var c=this;b.call(this,a,d);null==this.placeholder&&this.options.get("debug")&&l.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option.");this.$selection.on("mousedown",".select2-selection__clear",function(a){c._handleClear(a)});a.on("keypress",function(b){c._handleKeyboardClear(b,a)})};c.prototype._handleClear=function(b,a){if(!this.options.get("disabled")&&
    (b=this.$selection.find(".select2-selection__clear"),0!==b.length)){a.stopPropagation();a=b.data("data");for(b=0;b<a.length;b++){var d={data:a[b]};this.trigger("unselect",d);if(d.prevented)return}this.$element.val(this.placeholder.id).trigger("change");this.trigger("toggle")}};c.prototype._handleKeyboardClear=function(b,a,d){d.isOpen()||a.which!=f.DELETE&&a.which!=f.BACKSPACE||this._handleClear(a)};c.prototype.update=function(b,a){b.call(this,a);0<this.$selection.find(".select2-selection__placeholder").length||
    0===a.length||(b=e('\x3cspan class\x3d"select2-selection__clear"\x3e\x26times;\x3c/span\x3e'),b.data("data",a),this.$selection.find(".select2-selection__rendered").prepend(b))};return c});k.define("select2/selection/search",["jquery","../utils","../keys"],function(e,f,c){function b(a,b,c){a.call(this,b,c)}b.prototype.render=function(a){var b=e('\x3cli class\x3d"select2-search select2-search--inline"\x3e\x3cinput class\x3d"select2-search__field" type\x3d"search" tabindex\x3d"-1" autocomplete\x3d"off" autocorrect\x3d"off" autocapitalize\x3d"off" spellcheck\x3d"false" role\x3d"textbox" /\x3e\x3c/li\x3e');
    this.$searchContainer=b;this.$search=b.find("input");return a.call(this)};b.prototype.bind=function(a,b,g){var d=this;a.call(this,b,g);b.on("open",function(){d.$search.attr("tabindex",0);d.$search.focus()});b.on("close",function(){d.$search.attr("tabindex",-1);d.$search.val("");d.$search.focus()});b.on("enable",function(){d.$search.prop("disabled",!1)});b.on("disable",function(){d.$search.prop("disabled",!0)});this.$selection.on("focusin",".select2-search--inline",function(a){d.trigger("focus",a)});
    this.$selection.on("focusout",".select2-search--inline",function(a){d.trigger("blur",a)});this.$selection.on("keydown",".select2-search--inline",function(a){a.stopPropagation();d.trigger("keypress",a);d._keyUpPrevented=a.isDefaultPrevented();if(a.which===c.BACKSPACE&&""===d.$search.val()){var b=d.$searchContainer.prev(".select2-selection__choice");0<b.length&&(b=b.data("data"),d.searchRemoveChoice(b),a.preventDefault())}});this.$selection.on("input",".select2-search--inline",function(a){d.$selection.off("keyup.search")});
    this.$selection.on("keyup.search input",".select2-search--inline",function(a){d.handleSearch(a)})};b.prototype.createPlaceholder=function(a,b){this.$search.attr("placeholder",b.text)};b.prototype.update=function(a,b){this.$search.attr("placeholder","");a.call(this,b);this.$selection.find(".select2-selection__rendered").append(this.$searchContainer);this.resizeSearch()};b.prototype.handleSearch=function(){this.resizeSearch();if(!this._keyUpPrevented){var a=this.$search.val();this.trigger("query",{term:a})}this._keyUpPrevented=
    !1};b.prototype.searchRemoveChoice=function(a,b){this.trigger("unselect",{data:b});this.trigger("open");this.$search.val(b.text+" ")};b.prototype.resizeSearch=function(){this.$search.css("width","25px");var a=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").innerWidth():.75*(this.$search.val().length+1)+"em";this.$search.css("width",a)};return b});k.define("select2/selection/eventRelay",["jquery"],function(e){function f(){}f.prototype.bind=function(c,b,a){var d=
    this,g="open opening close closing select selecting unselect unselecting".split(" "),n=["opening","closing","selecting","unselecting"];c.call(this,b,a);b.on("*",function(a,b){if(-1!==e.inArray(a,g)){b=b||{};var c=e.Event("select2:"+a,{params:b});d.$element.trigger(c);-1!==e.inArray(a,n)&&(b.prevented=c.isDefaultPrevented())}})};return f});k.define("select2/translation",["jquery","require"],function(e,f){function c(b){this.dict=b||{}}c.prototype.all=function(){return this.dict};c.prototype.get=function(b){return this.dict[b]};
    c.prototype.extend=function(b){this.dict=e.extend({},b.all(),this.dict)};c._cache={};c.loadPath=function(b){if(!(b in c._cache)){var a=f(b);c._cache[b]=a}return new c(c._cache[b])};return c});k.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A",
    "Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E",
    "Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I",
    "Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O",
    "Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R",
    "Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U",
    "Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a",
    "á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d",
    "ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h",
    "ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l",
    "ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o",
    "ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t",
    "ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w",
    "ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"}});k.define("select2/data/base",["../utils"],function(e){function f(c,b){f.__super__.constructor.call(this)}
    e.Extend(f,e.Observable);f.prototype.current=function(c){throw Error("The `current` method must be defined in child classes.");};f.prototype.query=function(c,b){throw Error("The `query` method must be defined in child classes.");};f.prototype.bind=function(c,b){};f.prototype.destroy=function(){};f.prototype.generateResultId=function(c,b){c=c.id+"-result-";c+=e.generateChars(4);return c=null!=b.id?c+("-"+b.id.toString()):c+("-"+e.generateChars(4))};return f});k.define("select2/data/select",["./base",
    "../utils","jquery"],function(e,f,c){function b(a,d){this.$element=a;this.options=d;b.__super__.constructor.call(this)}f.Extend(b,e);b.prototype.current=function(a){var b=[],g=this;this.$element.find(":selected").each(function(){var a=c(this);a=g.item(a);b.push(a)});a(b)};b.prototype.select=function(a){var b=this;a.selected=!0;c(a.element).is("option")?(a.element.selected=!0,this.$element.trigger("change")):this.$element.prop("multiple")?this.current(function(d){var g=[];a=[a];a.push.apply(a,d);for(d=
    0;d<a.length;d++){var e=a[d].id;-1===c.inArray(e,g)&&g.push(e)}b.$element.val(g);b.$element.trigger("change")}):(this.$element.val(a.id),this.$element.trigger("change"))};b.prototype.unselect=function(a){var b=this;this.$element.prop("multiple")&&(a.selected=!1,c(a.element).is("option")?(a.element.selected=!1,this.$element.trigger("change")):this.current(function(d){for(var g=[],e=0;e<d.length;e++){var f=d[e].id;f!==a.id&&-1===c.inArray(f,g)&&g.push(f)}b.$element.val(g);b.$element.trigger("change")}))};
    b.prototype.bind=function(a,b){var d=this;this.container=a;a.on("select",function(a){d.select(a.data)});a.on("unselect",function(a){d.unselect(a.data)})};b.prototype.destroy=function(){this.$element.find("*").each(function(){c.removeData(this,"data")})};b.prototype.query=function(a,b){var d=[],e=this;this.$element.children().each(function(){var b=c(this);if(b.is("option")||b.is("optgroup"))b=e.item(b),b=e.matches(a,b),null!==b&&d.push(b)});b({results:d})};b.prototype.addOptions=function(a){f.appendMany(this.$element,
    a)};b.prototype.option=function(a){if(a.children){var b=document.createElement("optgroup");b.label=a.text}else b=document.createElement("option"),b.textContent!==u?b.textContent=a.text:b.innerText=a.text;a.id&&(b.value=a.id);a.disabled&&(b.disabled=!0);a.selected&&(b.selected=!0);a.title&&(b.title=a.title);var g=c(b);a=this._normalizeItem(a);a.element=b;c.data(b,"data",a);return g};b.prototype.item=function(a){var b=c.data(a[0],"data");if(null!=b)return b;if(a.is("option"))b={id:a.val(),text:a.text(),
    disabled:a.prop("disabled"),selected:a.prop("selected"),title:a.prop("title")};else if(a.is("optgroup")){b={text:a.prop("label"),children:[],title:a.prop("title")};for(var g=a.children("option"),e=[],f=0;f<g.length;f++){var k=c(g[f]);k=this.item(k);e.push(k)}b.children=e}b=this._normalizeItem(b);b.element=a[0];c.data(a[0],"data",b);return b};b.prototype._normalizeItem=function(a){c.isPlainObject(a)||(a={id:a,text:a});a=c.extend({},{text:""},a);null!=a.id&&(a.id=a.id.toString());null!=a.text&&(a.text=
    a.text.toString());null==a._resultId&&a.id&&null!=this.container&&(a._resultId=this.generateResultId(this.container,a));return c.extend({},{selected:!1,disabled:!1},a)};b.prototype.matches=function(a,b){return this.options.get("matcher")(a,b)};return b});k.define("select2/data/array",["./select","../utils","jquery"],function(e,f,c){function b(a,d){var c=d.get("data")||[];b.__super__.constructor.call(this,a,d);this.addOptions(this.convertToOptions(c))}f.Extend(b,e);b.prototype.select=function(a){var d=
    this.$element.find("option").filter(function(b,d){return d.value==a.id.toString()});0===d.length&&(d=this.option(a),this.addOptions(d));b.__super__.select.call(this,a)};b.prototype.convertToOptions=function(a){function b(a){return function(){return c(this).val()==a.id}}for(var g=this,e=this.$element.find("option"),m=e.map(function(){return g.item(c(this)).id}).get(),k=[],l=0;l<a.length;l++){var p=this._normalizeItem(a[l]);if(0<=c.inArray(p.id,m)){var t=e.filter(b(p)),r=this.item(t);c.extend(!0,{},
    r,p);p=this.option(r);t.replaceWith(p)}else t=this.option(p),p.children&&(p=this.convertToOptions(p.children),f.appendMany(t,p)),k.push(t)}return k};return b});k.define("select2/data/ajax",["./array","../utils","jquery"],function(e,f,c){function b(a,b){this.ajaxOptions=this._applyDefaults(b.get("ajax"));null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults);e.__super__.constructor.call(this,a,b)}f.Extend(b,e);b.prototype._applyDefaults=function(a){return c.extend({},
    {data:function(a){return{q:a.term}},transport:function(a,b,e){a=c.ajax(a);a.then(b);a.fail(e);return a}},a,!0)};b.prototype.processResults=function(a){return a};b.prototype.query=function(a,b){function d(){var d=f.transport(f,function(d){d=e.processResults(d,a);e.options.get("debug")&&l.console&&console.error&&(d&&d.results&&c.isArray(d.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response."));b(d)},function(){});e._request=d}var e=this;null!=
    this._request&&(c.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var f=c.extend({type:"GET"},this.ajaxOptions);"function"===typeof f.url&&(f.url=f.url(a));"function"===typeof f.data&&(f.data=f.data(a));this.ajaxOptions.delay&&""!==a.term?(this._queryTimeout&&l.clearTimeout(this._queryTimeout),this._queryTimeout=l.setTimeout(d,this.ajaxOptions.delay)):d()};return b});k.define("select2/data/tags",["jquery"],function(e){function f(c,b,a){var d=a.get("tags"),g=a.get("createTag");
    g!==u&&(this.createTag=g);c.call(this,b,a);if(e.isArray(d))for(c=0;c<d.length;c++)b=this._normalizeItem(d[c]),b=this.option(b),this.$element.append(b)}f.prototype.query=function(c,b,a){function d(c,e){for(var f=c.results,n=0;n<f.length;n++){var m=f[n],k=null!=m.children&&!d({results:m.children},!0);if(m.text===b.term||k){if(e)return!1;c.data=f;a(c);return}}if(e)return!0;e=g.createTag(b);null!=e&&(n=g.option(e),n.attr("data-select2-tag",!0),g.addOptions([n]),g.insertTag(f,e));c.results=f;a(c)}var g=
    this;this._removeOldTags();null==b.term||null!=b.page?c.call(this,b,a):c.call(this,b,d)};f.prototype.createTag=function(c,b){c=e.trim(b.term);return""===c?null:{id:c,text:c}};f.prototype.insertTag=function(c,b,a){b.unshift(a)};f.prototype._removeOldTags=function(c){this.$element.find("option[data-select2-tag]").each(function(){this.selected||e(this).remove()})};return f});k.define("select2/data/tokenizer",["jquery"],function(e){function f(c,b,a){var d=a.get("tokenizer");d!==u&&(this.tokenizer=d);
    c.call(this,b,a)}f.prototype.bind=function(c,b,a){c.call(this,b,a);this.$search=b.dropdown.$search||b.selection.$search||a.find(".select2-search__field")};f.prototype.query=function(c,b,a){var d=this;b.term=b.term||"";var g=this.tokenizer(b,this.options,function(a){d.select(a)});g.term!==b.term&&(this.$search.length&&(this.$search.val(g.term),this.$search.focus()),b.term=g.term);c.call(this,b,a)};f.prototype.tokenizer=function(c,b,a,d){c=a.get("tokenSeparators")||[];a=b.term;for(var g=0,f=this.createTag||
    function(a){return{id:a.term,text:a.term}};g<a.length;)if(-1===e.inArray(a[g],c))g++;else{var m=a.substr(0,g);m=e.extend({},b,{term:m});m=f(m);d(m);a=a.substr(g+1)||"";g=0}return{term:a}};return f});k.define("select2/data/minimumInputLength",[],function(){function e(e,c,b){this.minimumInputLength=b.get("minimumInputLength");e.call(this,c,b)}e.prototype.query=function(e,c,b){c.term=c.term||"";c.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,
    input:c.term,params:c}}):e.call(this,c,b)};return e});k.define("select2/data/maximumInputLength",[],function(){function e(e,c,b){this.maximumInputLength=b.get("maximumInputLength");e.call(this,c,b)}e.prototype.query=function(e,c,b){c.term=c.term||"";0<this.maximumInputLength&&c.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:c.term,params:c}}):e.call(this,c,b)};return e});k.define("select2/data/maximumSelectionLength",
    [],function(){function e(e,c,b){this.maximumSelectionLength=b.get("maximumSelectionLength");e.call(this,c,b)}e.prototype.query=function(e,c,b){var a=this;this.current(function(d){d=null!=d?d.length:0;0<a.maximumSelectionLength&&d>=a.maximumSelectionLength?a.trigger("results:message",{message:"maximumSelected",args:{maximum:a.maximumSelectionLength}}):e.call(a,c,b)})};return e});k.define("select2/dropdown",["jquery","./utils"],function(e,f){function c(b,a){this.$element=b;this.options=a;c.__super__.constructor.call(this)}
    f.Extend(c,f.Observable);c.prototype.render=function(){var b=e('\x3cspan class\x3d"select2-dropdown"\x3e\x3cspan class\x3d"select2-results"\x3e\x3c/span\x3e\x3c/span\x3e');b.attr("dir",this.options.get("dir"));return this.$dropdown=b};c.prototype.position=function(b,a){};c.prototype.destroy=function(){this.$dropdown.remove()};return c});k.define("select2/dropdown/search",["jquery","../utils"],function(e,f){function c(){}c.prototype.render=function(b){b=b.call(this);var a=e('\x3cspan class\x3d"select2-search select2-search--dropdown"\x3e\x3cinput class\x3d"select2-search__field" type\x3d"search" tabindex\x3d"-1" autocomplete\x3d"off" autocorrect\x3d"off" autocapitalize\x3d"off" spellcheck\x3d"false" role\x3d"textbox" /\x3e\x3c/span\x3e');
    this.$searchContainer=a;this.$search=a.find("input");b.prepend(a);return b};c.prototype.bind=function(b,a,d){var c=this;b.call(this,a,d);this.$search.on("keydown",function(a){c.trigger("keypress",a);c._keyUpPrevented=a.isDefaultPrevented()});this.$search.on("input",function(a){e(this).off("keyup")});this.$search.on("keyup input",function(a){c.handleSearch(a)});a.on("open",function(){c.$search.attr("tabindex",0);c.$search.focus();l.setTimeout(function(){c.$search.focus()},0)});a.on("close",function(){c.$search.attr("tabindex",
    -1);c.$search.val("")});a.on("results:all",function(a){if(null==a.query.term||""===a.query.term)c.showSearch(a)?c.$searchContainer.removeClass("select2-search--hide"):c.$searchContainer.addClass("select2-search--hide")})};c.prototype.handleSearch=function(b){this._keyUpPrevented||(b=this.$search.val(),this.trigger("query",{term:b}));this._keyUpPrevented=!1};c.prototype.showSearch=function(b,a){return!0};return c});k.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,c,b,a){this.placeholder=
    this.normalizePlaceholder(b.get("placeholder"));e.call(this,c,b,a)}e.prototype.append=function(e,c){c.results=this.removePlaceholder(c.results);e.call(this,c)};e.prototype.normalizePlaceholder=function(e,c){"string"===typeof c&&(c={id:"",text:c});return c};e.prototype.removePlaceholder=function(e,c){e=c.slice(0);for(var b=c.length-1;0<=b;b--)this.placeholder.id===c[b].id&&e.splice(b,1);return e};return e});k.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function f(c,b,a,d){this.lastParams=
    {};c.call(this,b,a,d);this.$loadingMore=this.createLoadingMore();this.loading=!1}f.prototype.append=function(c,b){this.$loadingMore.remove();this.loading=!1;c.call(this,b);this.showLoadingMore(b)&&this.$results.append(this.$loadingMore)};f.prototype.bind=function(c,b,a){var d=this;c.call(this,b,a);b.on("query",function(a){d.lastParams=a;d.loading=!0});b.on("query:append",function(a){d.lastParams=a;d.loading=!0});this.$results.on("scroll",function(){var a=e.contains(document.documentElement,d.$loadingMore[0]);
    if(!d.loading&&a){a=d.$results.offset().top+d.$results.outerHeight(!1);var b=d.$loadingMore.offset().top+d.$loadingMore.outerHeight(!1);a+50>=b&&d.loadMore()}})};f.prototype.loadMore=function(){this.loading=!0;var c=e.extend({},{page:1},this.lastParams);c.page++;this.trigger("query:append",c)};f.prototype.showLoadingMore=function(c,b){return b.pagination&&b.pagination.more};f.prototype.createLoadingMore=function(){var c=e('\x3cli class\x3d"option load-more" role\x3d"treeitem"\x3e\x3c/li\x3e'),b=this.options.get("translations").get("loadingMore");
    c.html(b(this.lastParams));return c};return f});k.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,f){function c(b,a,d){this.$dropdownParent=d.get("dropdownParent")||document.body;b.call(this,a,d)}c.prototype.bind=function(b,a,d){var c=this,e=!1;b.call(this,a,d);a.on("open",function(){c._showDropdown();c._attachPositioningHandler(a);e||(e=!0,a.on("results:all",function(){c._positionDropdown();c._resizeDropdown()}),a.on("results:append",function(){c._positionDropdown();c._resizeDropdown()}))});
    a.on("close",function(){c._hideDropdown();c._detachPositioningHandler(a)});this.$dropdownContainer.on("mousedown",function(a){a.stopPropagation()})};c.prototype.position=function(b,a,d){a.attr("class",d.attr("class"));a.removeClass("select2");a.addClass("select2-container--open");a.css({position:"absolute",top:-999999});this.$container=d};c.prototype.render=function(b){var a=e("\x3cspan\x3e\x3c/span\x3e");b=b.call(this);a.append(b);return this.$dropdownContainer=a};c.prototype._hideDropdown=function(b){this.$dropdownContainer.detach()};
    c.prototype._attachPositioningHandler=function(b){var a=this,d="scroll.select2."+b.id,c="resize.select2."+b.id;b="orientationchange.select2."+b.id;var n=this.$container.parents().filter(f.hasScroll);n.each(function(){e(this).data("select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})});n.on(d,function(a){a=e(this).data("select2-scroll-position");e(this).scrollTop(a.y)});e(l).on(d+" "+c+" "+b,function(b){a._positionDropdown();a._resizeDropdown()})};c.prototype._detachPositioningHandler=
    function(b){var a="scroll.select2."+b.id,d="resize.select2."+b.id;b="orientationchange.select2."+b.id;this.$container.parents().filter(f.hasScroll).off(a);e(l).off(a+" "+d+" "+b)};c.prototype._positionDropdown=function(){var b=e(l),a=this.$dropdown.hasClass("select2-dropdown--above"),d=this.$dropdown.hasClass("select2-dropdown--below"),c=null;this.$container.position();var f=this.$container.offset();f.bottom=f.top+this.$container.outerHeight(!1);var k=this.$container.outerHeight(!1);var q=f.top;var p=
    f.top+k;k=this.$dropdown.outerHeight(!1);var r=b.scrollTop(),t=b.scrollTop()+b.height();b=r<f.top-k;r=t>f.bottom+k;f={left:f.left,top:p};a||d||(c="below");r||!b||a?!b&&r&&a&&(c="below"):c="above";if("above"==c||a&&"below"!==c)f.top=q-k;null!=c&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+c),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+c));this.$dropdownContainer.css(f)};
    c.prototype._resizeDropdown=function(){this.$dropdownContainer.width();var b={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(b.minWidth=b.width,b.width="auto");this.$dropdown.css(b)};c.prototype._showDropdown=function(b){this.$dropdownContainer.appendTo(this.$dropdownParent);this._positionDropdown();this._resizeDropdown()};return c});k.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(c){for(var b=0,a=0;a<c.length;a++){var d=c[a];d.children?
    b+=e(d.children):b++}return b}function f(c,b,a,d){this.minimumResultsForSearch=a.get("minimumResultsForSearch");0>this.minimumResultsForSearch&&(this.minimumResultsForSearch=Infinity);c.call(this,b,a,d)}f.prototype.showSearch=function(c,b){return e(b.data.results)<this.minimumResultsForSearch?!1:c.call(this,b)};return f});k.define("select2/dropdown/selectOnClose",[],function(){function e(){}e.prototype.bind=function(e,c,b){var a=this;e.call(this,c,b);c.on("close",function(){a._handleSelectOnClose()})};
    e.prototype._handleSelectOnClose=function(){var e=this.getHighlightedResults();1>e.length||this.trigger("select",{data:e.data("data")})};return e});k.define("select2/dropdown/closeOnSelect",[],function(){function e(){}e.prototype.bind=function(e,c,b){var a=this;e.call(this,c,b);c.on("select",function(b){a._selectTriggered(b)});c.on("unselect",function(b){a._selectTriggered(b)})};e.prototype._selectTriggered=function(e,c){(e=c.originalEvent)&&e.ctrlKey||this.trigger("close")};return e});k.define("select2/i18n/en",
    [],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){e=e.input.length-e.maximum;var f="Please delete "+e+" character";1!=e&&(f+="s");return f},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(e){var f="You can only select "+e.maximum+" item";1!=e.maximum&&(f+="s");return f},noResults:function(){return"No results found"},
    searching:function(){return"Searching…"}}});k.define("select2/defaults","jquery require ./results ./selection/single ./selection/multiple ./selection/placeholder ./selection/allowClear ./selection/search ./selection/eventRelay ./utils ./translation ./diacritics ./data/select ./data/array ./data/ajax ./data/tags ./data/tokenizer ./data/minimumInputLength ./data/maximumInputLength ./data/maximumSelectionLength ./dropdown ./dropdown/search ./dropdown/hidePlaceholder ./dropdown/infiniteScroll ./dropdown/attachBody ./dropdown/minimumResultsForSearch ./dropdown/selectOnClose ./dropdown/closeOnSelect ./i18n/en".split(" "),
    function(e,f,c,b,a,d,g,n,k,q,p,r,t,u,x,w,y,B,H,E,A,C,D,F,I,J,K,L,M){function m(){this.reset()}m.prototype.apply=function(h){h=e.extend({},this.defaults,h);if(null==h.dataAdapter){h.dataAdapter=null!=h.ajax?x:null!=h.data?u:t;0<h.minimumInputLength&&(h.dataAdapter=q.Decorate(h.dataAdapter,B));0<h.maximumInputLength&&(h.dataAdapter=q.Decorate(h.dataAdapter,H));0<h.maximumSelectionLength&&(h.dataAdapter=q.Decorate(h.dataAdapter,E));h.tags&&(h.dataAdapter=q.Decorate(h.dataAdapter,w));if(null!=h.tokenSeparators||
    null!=h.tokenizer)h.dataAdapter=q.Decorate(h.dataAdapter,y);if(null!=h.query){var m=f(h.amdBase+"compat/query");h.dataAdapter=q.Decorate(h.dataAdapter,m)}null!=h.initSelection&&(m=f(h.amdBase+"compat/initSelection"),h.dataAdapter=q.Decorate(h.dataAdapter,m))}null==h.resultsAdapter&&(h.resultsAdapter=c,null!=h.ajax&&(h.resultsAdapter=q.Decorate(h.resultsAdapter,F)),null!=h.placeholder&&(h.resultsAdapter=q.Decorate(h.resultsAdapter,D)),h.selectOnClose&&(h.resultsAdapter=q.Decorate(h.resultsAdapter,
    K)));if(null==h.dropdownAdapter){h.multiple?h.dropdownAdapter=A:(m=q.Decorate(A,C),h.dropdownAdapter=m);0!==h.minimumResultsForSearch&&(h.dropdownAdapter=q.Decorate(h.dropdownAdapter,J));h.closeOnSelect&&(h.dropdownAdapter=q.Decorate(h.dropdownAdapter,L));if(null!=h.dropdownCssClass||null!=h.dropdownCss||null!=h.adaptDropdownCssClass)m=f(h.amdBase+"compat/dropdownCss"),h.dropdownAdapter=q.Decorate(h.dropdownAdapter,m);h.dropdownAdapter=q.Decorate(h.dropdownAdapter,I)}if(null==h.selectionAdapter){h.selectionAdapter=
    h.multiple?a:b;null!=h.placeholder&&(h.selectionAdapter=q.Decorate(h.selectionAdapter,d));h.allowClear&&(h.selectionAdapter=q.Decorate(h.selectionAdapter,g));h.multiple&&(h.selectionAdapter=q.Decorate(h.selectionAdapter,n));if(null!=h.containerCssClass||null!=h.containerCss||null!=h.adaptContainerCssClass)m=f(h.amdBase+"compat/containerCss"),h.selectionAdapter=q.Decorate(h.selectionAdapter,m);h.selectionAdapter=q.Decorate(h.selectionAdapter,k)}"string"===typeof h.language&&(0<h.language.indexOf("-")?
    (m=h.language.split("-")[0],h.language=[h.language,m]):h.language=[h.language]);if(e.isArray(h.language)){m=new p;h.language.push("en");for(var r=h.language,G=0;G<r.length;G++){var z=r[G],v={};try{v=p.loadPath(z)}catch(N){try{z=this.defaults.amdLanguageBase+z,v=p.loadPath(z)}catch(O){h.debug&&l.console&&console.warn&&console.warn('Select2: The language file for "'+z+'" could not be automatically loaded. A fallback will be used instead.');continue}}m.extend(v)}h.translations=m}else m=p.loadPath(this.defaults.amdLanguageBase+
    "en"),r=new p(h.language),r.extend(m),h.translations=r;return h};m.prototype.reset=function(){function a(a){return a.replace(/[^\u0000-\u007E]/g,function(a){return r[a]||a})}function b(d,c){if(""===e.trim(d.term))return c;if(c.children&&0<c.children.length){for(var g=e.extend(!0,{},c),f=c.children.length-1;0<=f;f--)null==b(d,c.children[f])&&g.children.splice(f,1);return 0<g.children.length?g:b(d,g)}g=a(c.text).toUpperCase();d=a(d.term).toUpperCase();return-1<g.indexOf(d)?c:null}this.defaults={amdBase:"./",
    amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:q.escapeMarkup,language:M,matcher:b,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(a){return a},templateResult:function(a){return a.text},templateSelection:function(a){return a.text},theme:"default",width:"resolve"}};m.prototype.set=function(a,b){a=e.camelCase(a);var d={};d[a]=b;b=q._convertData(d);e.extend(this.defaults,b)};return new m});
    k.define("select2/options",["require","jquery","./defaults","./utils"],function(e,f,c,b){function a(a,g){this.options=a;null!=g&&this.fromElement(g);this.options=c.apply(this.options);g&&g.is("input")&&(a=e(this.get("amdBase")+"compat/inputData"),this.options.dataAdapter=b.Decorate(this.options.dataAdapter,a))}a.prototype.fromElement=function(a){var d=["select2"];null==this.options.multiple&&(this.options.multiple=a.prop("multiple"));null==this.options.disabled&&(this.options.disabled=a.prop("disabled"));
    null==this.options.language&&(a.prop("lang")?this.options.language=a.prop("lang").toLowerCase():a.closest("[lang]").prop("lang")&&(this.options.language=a.closest("[lang]").prop("lang")));null==this.options.dir&&(a.prop("dir")?this.options.dir=a.prop("dir"):a.closest("[dir]").prop("dir")?this.options.dir=a.closest("[dir]").prop("dir"):this.options.dir="ltr");a.prop("disabled",this.options.disabled);a.prop("multiple",this.options.multiple);a.data("select2Tags")&&(this.options.debug&&l.console&&console.warn&&
    console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags\x3d"true"` attributes and will be removed in future versions of Select2.'),a.data("data",a.data("select2Tags")),a.data("tags",!0));a.data("ajaxUrl")&&(this.options.debug&&l.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),a.attr("ajax--url",a.data("ajaxUrl")),
    a.data("ajax--url",a.data("ajaxUrl")));a=f.fn.jquery&&"1."==f.fn.jquery.substr(0,2)&&a[0].dataset?f.extend(!0,{},a[0].dataset,a.data()):a.data();a=f.extend(!0,{},a);a=b._convertData(a);for(var c in a)-1<f.inArray(c,d)||(f.isPlainObject(this.options[c])?f.extend(this.options[c],a[c]):this.options[c]=a[c]);return this};a.prototype.get=function(a){return this.options[a]};a.prototype.set=function(a,b){this.options[a]=b};return a});k.define("select2/core",["jquery","./options","./utils","./keys"],function(e,
    f,c,b){var a=function m(a,b){null!=a.data("select2")&&a.data("select2").destroy();this.$element=a;this.id=this._generateId(a);b=b||{};this.options=new f(b,a);m.__super__.constructor.call(this);b=a.attr("tabindex")||0;a.data("old-tabindex",b);a.attr("tabindex","-1");this.dataAdapter=new (this.options.get("dataAdapter"))(a,this.options);b=this.render();this._placeContainer(b);this.selection=new (this.options.get("selectionAdapter"))(a,this.options);this.$selection=this.selection.render();this.selection.position(this.$selection,
    b);this.dropdown=new (this.options.get("dropdownAdapter"))(a,this.options);this.$dropdown=this.dropdown.render();this.dropdown.position(this.$dropdown,b);this.results=new (this.options.get("resultsAdapter"))(a,this.options,this.dataAdapter);this.$results=this.results.render();this.results.position(this.$results,this.$dropdown);var c=this;this._bindAdapters();this._registerDomEvents();this._registerDataEvents();this._registerSelectionEvents();this._registerDropdownEvents();this._registerResultsEvents();
    this._registerEvents();this.dataAdapter.current(function(a){c.trigger("selection:update",{data:a})});a.addClass("select2-hidden-accessible");a.attr("aria-hidden","true");this._syncAttributes();a.data("select2",this)};c.Extend(a,c.Observable);a.prototype._generateId=function(a){return"select2-"+(null!=a.attr("id")?a.attr("id"):null!=a.attr("name")?a.attr("name")+"-"+c.generateChars(2):c.generateChars(4))};a.prototype._placeContainer=function(a){a.insertAfter(this.$element);var b=this._resolveWidth(this.$element,
    this.options.get("width"));null!=b&&a.css("width",b)};a.prototype._resolveWidth=function(a,b){var c=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==b)return c=this._resolveWidth(a,"style"),null!=c?c:this._resolveWidth(a,"element");if("element"==b)return c=a.outerWidth(!1),0>=c?"auto":c+"px";if("style"==b){a=a.attr("style");if("string"!==typeof a)return null;a=a.split(";");b=0;for(var e=a.length;b<e;b+=1){var g=a[b].replace(/\s/g,"").match(c);if(null!==g&&1<=g.length)return g[1]}return null}return b};
    a.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container);this.selection.bind(this,this.$container);this.dropdown.bind(this,this.$container);this.results.bind(this,this.$container)};a.prototype._registerDomEvents=function(){var a=this;this.$element.on("change.select2",function(){a.dataAdapter.current(function(b){a.trigger("selection:update",{data:b})})});this._sync=c.bind(this._syncAttributes,this);this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",
    this._sync);var b=l.MutationObserver||l.WebKitMutationObserver||l.MozMutationObserver;null!=b?(this._observer=new b(function(b){e.each(b,a._sync)}),this._observer.observe(this.$element[0],{attributes:!0,subtree:!1})):this.$element[0].addEventListener&&this.$element[0].addEventListener("DOMAttrModified",a._sync,!1)};a.prototype._registerDataEvents=function(){var a=this;this.dataAdapter.on("*",function(b,c){a.trigger(b,c)})};a.prototype._registerSelectionEvents=function(){var a=this,b=["toggle"];this.selection.on("toggle",
    function(){a.toggleDropdown()});this.selection.on("*",function(c,f){-1===e.inArray(c,b)&&a.trigger(c,f)})};a.prototype._registerDropdownEvents=function(){var a=this;this.dropdown.on("*",function(b,c){a.trigger(b,c)})};a.prototype._registerResultsEvents=function(){var a=this;this.results.on("*",function(b,c){a.trigger(b,c)})};a.prototype._registerEvents=function(){var a=this;this.on("open",function(){a.$container.addClass("select2-container--open")});this.on("close",function(){a.$container.removeClass("select2-container--open")});
    this.on("enable",function(){a.$container.removeClass("select2-container--disabled")});this.on("disable",function(){a.$container.addClass("select2-container--disabled")});this.on("focus",function(){a.$container.addClass("select2-container--focus")});this.on("blur",function(){a.$container.removeClass("select2-container--focus")});this.on("query",function(b){a.isOpen()||a.trigger("open");this.dataAdapter.query(b,function(c){a.trigger("results:all",{data:c,query:b})})});this.on("query:append",function(b){this.dataAdapter.query(b,
    function(c){a.trigger("results:append",{data:c,query:b})})});this.on("keypress",function(c){var e=c.which;if(a.isOpen())if(e===b.ENTER)a.trigger("results:select"),c.preventDefault();else if(e===b.SPACE&&c.ctrlKey)a.trigger("results:toggle"),c.preventDefault();else if(e===b.UP)a.trigger("results:previous"),c.preventDefault();else if(e===b.DOWN)a.trigger("results:next"),c.preventDefault();else{if(e===b.ESC||e===b.TAB)a.close(),c.preventDefault()}else if(e===b.ENTER||e===b.SPACE||(e===b.DOWN||e===b.UP)&&
    c.altKey)a.open(),c.preventDefault()})};a.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled"));this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable")):this.trigger("enable")};a.prototype.trigger=function(b,c){var e=a.__super__.trigger,f={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(b in f){var g={prevented:!1,name:b,args:c};e.call(this,f[b],g);if(g.prevented){c.prevented=!0;return}}e.call(this,b,
    c)};a.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())};a.prototype.open=function(){this.isOpen()||(this.trigger("query",{}),this.trigger("open"))};a.prototype.close=function(){this.isOpen()&&this.trigger("close")};a.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")};a.prototype.enable=function(a){this.options.get("debug")&&l.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.');
    if(null==a||0===a.length)a=[!0];this.$element.prop("disabled",!a[0])};a.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&l.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var a=[];this.dataAdapter.current(function(b){a=b});return a};a.prototype.val=function(a){this.options.get("debug")&&l.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.');
    if(null==a||0===a.length)return this.$element.val();a=a[0];e.isArray(a)&&(a=e.map(a,function(a){return a.toString()}));this.$element.val(a).trigger("change")};a.prototype.destroy=function(){this.$container.remove();this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._sync);null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&this.$element[0].removeEventListener("DOMAttrModified",this._sync,!1);this._sync=null;this.$element.off(".select2");
    this.$element.attr("tabindex",this.$element.data("old-tabindex"));this.$element.removeClass("select2-hidden-accessible");this.$element.attr("aria-hidden","false");this.$element.removeData("select2");this.dataAdapter.destroy();this.selection.destroy();this.dropdown.destroy();this.results.destroy();this.results=this.dropdown=this.selection=this.dataAdapter=null};a.prototype.render=function(){var a=e('\x3cspan class\x3d"select2 select2-container"\x3e\x3cspan class\x3d"selection"\x3e\x3c/span\x3e\x3cspan class\x3d"dropdown-wrapper" aria-hidden\x3d"true"\x3e\x3c/span\x3e\x3c/span\x3e');
    a.attr("dir",this.options.get("dir"));this.$container=a;this.$container.addClass("select2-container--"+this.options.get("theme"));a.data("element",this.$element);return a};return a});k.define("jquery.select2",["jquery","require","./select2/core","./select2/defaults"],function(e,f,c,b){f("jquery.mousewheel");if(null==e.fn.select2){var a=["open","close","destroy"];e.fn.select2=function(b){b=b||{};if("object"===("undefined"===typeof b?"undefined":w(b)))return this.each(function(){var a=e.extend({},b,
    !0);new c(e(this),a)}),this;if("string"===typeof b){var d=this.data("select2");null==d&&l.console&&console.error&&console.error("The select2('"+b+"') method was called on an element that is not using Select2.");var f=Array.prototype.slice.call(arguments,1);d=d[b](f);return-1<e.inArray(b,a)?this:d}throw Error("Invalid arguments for Select2: "+b);}}null==e.fn.select2.defaults&&(e.fn.select2.defaults=b);return c});k.define("jquery.mousewheel",["jquery"],function(e){return e});return{define:k.define,
    require:k.require}}(),B=r.require("jquery.select2");x.fn.select2.amd=r;return B});p.fn.select2.amd.require._defined["select2/utils"].appendMany=function(l,r){if("1.7"===p.fn.jquery.substr(0,3)||"1.6"===p.fn.jquery.substr(0,3)){var u=p();p.map(r,function(k){u=u.add(k)});r=u}l.append(r)};l.jQuery=r;l.$=F})});
    /* ******** */
    (function(h){var t=window.AmazonUIPageJS||window.P,C=t._namespace||t.attributeErrors,V=C?C("AddressUIWidgetsServiceAssets",""):t;V.guardFatal?V.guardFatal(h)(V,window):V.execute(function(){h(V,window)})})(function(h,t,C){function V(a){a=F(a,"CJP_ARX_ADDRESS_CREATION_REDESIGN_696914","C");return"T1"===a||"T2"===a}function F(a,b,c){a.state.parse();a=a.state("address-ui-widgets-from-view-state");try{var d="{}";a&&(d=a["js-experiments-map"]);var d=JSON.parse(d),f=d[b];return f&&"null"!=f?f:c}catch(e){return c}}
    function Fa(a){for(var b=document.getElementsByTagName("div"),c=document.getElementById(a),d=0;d<b.length;d++)if(b[d].id===a){var f=t.getComputedStyle(b[d]);if("none"!==f.display&&"hidden"!==f.visibility){c=b[d];break}}return c}function I(a,b){var c=a,d=a(b).parent();if(0===d.length)return a;c.noConflict();a=function(a,b){return new c.fn.init(a,b||d)};a.fn=a.prototype=c.fn;c.extend(a,c);return a}function Ma(a){var b=Fa("address-ui-widgets-enterAddressFormContainer");if(null==b)return a;M(function(c){a=
    c},b);return a}function M(a,b){if(null!=b){b=b.getElementsByTagName("script");for(var c,d=0;d<b.length;d++){var f;try{f=JSON.parse(b[d].innerHTML)}catch(e){continue}if(f.hasOwnProperty("country-code")){c=f["country-code"];break}}a(c)}}function ja(a,b,c){var d;return function(){var f=this,e=arguments,g=c&&!d;clearTimeout(d);d=setTimeout(function(){d=null;c||a.apply(f,e)},b);g&&a.apply(f,e)}}function ya(){var a=document.cookie,b=!1;if(a){var c=a.indexOf("amzn-app-id\x3d");if(0<=c){var d=a.indexOf(";",
    c);(a=a.substring(c+12,d))&&(b=a.includes("AmazonBusiness"))}}return b}function Ta(a,b,c,d,f,e){var g=a();g?(f&&f.delayMetric&&ga(f.delayMetric,c),e(g)):0<b?setTimeout(function(){Ta(a,--b,c*d,d,f,e)},c):e(g)}function ga(a,b){t.ue&&t.ue.count&&t.ue.count(a,b)}function p(a){t.ue&&t.ue.count&&t.ue.count(a,(t.ue.count(a)||0)+1)}function Na(a){var b=a("[name*\x3d'address-ui-widgets-original-address-id']");a=a("[name*\x3d'original-address-address-ui-widgets-original-address-id']");return b&&0<b.length||
    a&&0<a.length?!0:!1}function Ua(a){for(var b=a("label[for^\x3daddress-ui-widgets]"),c=0;c<b.length;c++){var d=a(b[c]),f=d.attr("for"),f=a("#"+f),d=d.text();0!=f.length&&f.attr("aria-label",d)}}function Oa(){var a=$.Deferred(),b=a.then;a.then=function(a,d){var f=Oa();b(function(b){b=a(b);f.resolve(b)},function(a){var b;d&&(b=d(a));f.reject(b)});return f.promise()};return a}function kb(a){for(var b,c="",d=0;d<a.length;d++)if(b=Va(c),60>b)b=a.charAt(d),c+=b;else if(60==b)break;else if(60<b){c=c.slice(0,
    -1);break}return c}function Va(a){for(var b=0,c=0;c<a.length;c++)var d=a.charCodeAt(c),b=128>d?b+1:127<d&&2048>d?b+2:b+3;return b}function Wa(a,b){b=b.isChecked()?"SAFE_PLACE":"IN_PERSON";a.val(b)}function Ga(a){switch(a){case "T1":return Ha;case "T2":return Xa;case "T3":return Ya;default:return Ha}}function Ca(a){return"T1"===a||"T2"===a||"T3"===a}function Za(a){switch(a){case "T1":return Ha;case "T2":return Xa;case "T3":return Ya;default:return Ha}}function ka(a,b){null!=a&&(a.hide(),a=b.closest($a),
    a.removeClass(za),a.removeClass(Aa))}function ab(a,b,c){a=a.closest($a);c?a.addClass(za):a.addClass(Aa);b.show()}h.when("A","identity-address-ui-widgets-form-helper","address-form-helper","client-side-counters-util","ready").execute("checkout-submit-new-address-executor",function(a,b,c,d){function f(e,f){c.onPageTransitionStart(f);var g="/a/addresses/ajax/auiws-widgets/create";if(e["address-ui-widgets-original-address-id"]||e["original-address-address-ui-widgets-original-address-id"])g="/a/addresses/ajax/auiws-widgets/update";
    a.post(g,{contextType:"application/json",accepts:"text/html;charset\x3dUTF-8",params:e,success:function(a){d.incrementCounter("CreateAddressPostResponseSuccess");c.onPageTransitionComplete(f);b.handlePostResponse(a,f)},error:function(){d.incrementCounter("CreateAddressPostResponseFailure");c.onPageTransitionComplete(f)}})}function e(a){a.$event.preventDefault();var c=a.$currentTarget.closest("form"),e=b.formatFormData(c.serializeArray());a=a.$currentTarget.find("input[type\x3dsubmit]")[0];null!==
    a&&""!==a.name&&(e[a.name]=a.value);(a=g("input[name\x3d'purchaseId']"))&&(e.purchaseId=a.val());f(e,c)}var g=a.$;a.declarative("form-submit-button-click","click",function(a){e(a)});a.declarative("addrui-widgets-addr-suggestion-edit-button-action","click",function(a){e(a)});a.declarative("address-ui-widgets-suggestions-submit-action","click",function(a){e(a)})});h.when("A","address-ui-widgets-service-old-aui-missing-functions","a-checkbox","a-alert","ready").execute("business-hours-expander-executor",
    function(a,b,c,d){function f(){w=d("#address-ui-widgets-addr-details-business-hours-opt-out-sat-alert");k=d("#address-ui-widgets-addr-details-business-hours-opt-out-sun-alert");A=d("#address-ui-widgets-addr-details-business-hours-opt-out-weekend-alert")}function e(a,b,c,e,d){a.isChecked()?c.isChecked()?(b.hide(),e.hide(),d.hide()):(b.hide(),d.hide(),e.show()):c.isChecked()?(e.hide(),d.hide(),b.show()):(b.hide(),e.hide(),d.show())}function g(){var a=c("#address-ui-widgets-addr-details-sat").isChecked(),
    b=c("#address-ui-widgets-addr-details-sun").isChecked(),e="NONE";a&&(e="SAT");b&&(e="SUN");a&&b&&(e="BOTH");q("input[name\x3d'address-ui-widgets-addr-details-business-hours']").val(e)}function x(){var a=c("#address-ui-widgets-addr-details-sat").isChecked(),b=c("#address-ui-widgets-addr-details-sun").isChecked();return a&&b?"-both":a?"-sat":b?"-sun":"-none"}var K;h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!=C||(d=b.alertFunction,a.state.parse=b.stateParsingFunction,c=b.checkboxFunction,K=!0);a.state.parse();
    var q=a.$,r=!0,w,k,A;a.on("ajax_reload",function(){f()});f();a.declarative("address-ui-widgets-addr-details-business-hrs-checkbox-change","change",function(a){g();"address-ui-widgets-addr-details-sat"===a.$target.attr("id")?e(c("#address-ui-widgets-addr-details-sat"),w,c("#address-ui-widgets-addr-details-sun"),k,A):e(c("#address-ui-widgets-addr-details-sun"),k,c("#address-ui-widgets-addr-details-sat"),w,A)});K?a.declarative("a-expander-toggle","click",function(b){b.$currentTarget.attr("id");!1===
    r?"OTH"===q("input[name\x3d'address-ui-widgets-addr-details-business-hours']").val()&&g():(b=a.state("address-details-business-hours-expander-heading-strings"),q.isEmptyObject(b)||(b=b["business-hours-expander-heading-text"+x()],q("#address-ui-widgets-addr-details-business-hours-expander-heading-text").text(b)));r=!r}):(a.on("a:expander:address-ui-widgets-addr-details-business-hours-expander:toggle:collapse",function(){var b=a.state("address-details-business-hours-expander-heading-strings")["business-hours-expander-heading-text"+
    x()];q("#address-ui-widgets-addr-details-business-hours-expander-heading-text").text(b)}),a.on("a:expander:address-ui-widgets-addr-details-business-hours-expander:toggle:expand",function(){"OTH"===q("input[name\x3d'address-ui-widgets-addr-details-business-hours']").val()&&g()}))});"use strict";h.when("A","customer-authentication-helper","address-form-helper","client-side-counters-util").register("identity-address-ui-widgets-form-helper",function(a,b,c,d){return{handlePostResponse:function(f,e){null!==
    f?b.checkAndHandleCustomerAuth(f.customerAuthenticationResponse)&&(f=f.createOrEditAddressResponse,null!==f?null===f.addressId&&null!==f.html?(d.incrementCounter("EmptyAddressIdInCreateOrEditAddressResponse"),e.find("#address-ui-widgets-enterAddressFormContainer").replaceWith(f.html),a.trigger("ajax_reload")):null!==f.addressId&&(f={addressId:f.addressId},d.incrementCounter("CreateOrEditAddressSetDestination"),c.setDestination(f,e)):d.incrementCounter("EmptyCreateOrEditAddressResponse")):d.incrementCounter("EmptyCreateOrEditAjaxPostResponse")},
    formatFormData:function(a){var b={},c;for(c in a)b[a[c].name]=a[c].value;return b}}});"use strict";h.when("A","client-side-counters-util").register("customer-authentication-helper",function(a,b){return{checkAndHandleCustomerAuth:function(a){if(null!==a&&null!==a.authRequired)return"true"==a.authRequired?(null!==a.redirectionUrl&&(t.location.href=a.redirectionUrl),!1):!0;b.incrementCounter("CustomerUnauthenticated");return!1}}});"use strict";h.register("client-side-counters-util",function(){return{incrementCounter:function(a){a=
    "AddressUIWidgetsService_Checkout:"+a;var b=t.ue;if(b&&"function"===typeof b.count){var c=(b.count(a)||0)+1;b.count(a,c)}},incrementGeneralCounter:function(a){var b=t.ue;if(b&&"function"===typeof b.count){var c=(b.count(a)||0)+1;b.count(a,c)}}}});"use strict";h.when("A").register("ajax-request-builder",function(a){var b=a.$;return{buildAJAXRequest:function(a,d,f){a={operation:a,data:d,ajaxToken:f};d=b("input[name\x3d'address-ui-widgets-original-address-id']");d!==C&&null!==d&&(a.data["address-ui-widgets-original-address-id"]=
    d.val());return a}}});"use strict";h.when("A","address-ui-widgets-service-old-aui-missing-functions").register("page-state-helper",function(a,b){return{getAjaxToken:function(){h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!=C||(a.state.parse=b.stateParsingFunction);a.state.parse();return a.state("identity-address-ux-ajax-data")["identity-address-ux-ajax-auth-token"]},getAjaxURLPrefix:function(){h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!=C||(a.state.parse=b.stateParsingFunction);a.state.parse();var c=a.state("identity-address-ux-ajax-data")["identity-address-ux-ajax-domain"];
    return c?t.location.protocol+"//"+c:""}}});h.when("A","client-side-counters-util","ready").register("ajax-call-module",function(a,b){function c(a,b,c){a=!a||"your-account-address-book"!==a&&"checkout"!==a?b?t.location.protocol+"//"+b:"":t.location.origin;return a+(c?"/a/addresses/ajax/auiws-widgets":"/auiws/perform-ajax")}function d(b){var d=a.state("identity-address-ux-ajax-data")["identity-address-ux-ajax-domain"],g=a.state("address-ui-widgets-from-view-state").client,r=c(g,d,!0);return new Promise(function(c,
    d){var g=f(c,b.operation),q=e(d,b.operation);a.post(r,{contextType:"application/json",accepts:"text/html;charset\x3dUTF-8",withCredentials:!0,params:{data:JSON.stringify(b)},success:function(a){try{g(a)}catch(b){q(b)}},error:function(a){q(a)}})})}function f(a,c){return function(e){!0===e.requiresAuth?t.location.reload(!0):(b.incrementGeneralCounter("PerformAjaxOperation:Success:"+c),a(e))}}function e(a,c){return function(e){b.incrementGeneralCounter("PerformAjaxOperation:Failure:"+c);a(e)}}function g(a,
    c,e){return function(f){d(a).then(c).catch(e);b.incrementGeneralCounter("FallingBackToYAABProxyEndpoint");b.incrementGeneralCounter("FallingBackToYAABProxyEndpoint:"+a.operation)}}return{auiwsPerformAjaxCall:function(c){return function(e){b.incrementGeneralCounter("PerformAjaxOperation:"+e.operation);e.ajaxToken=a.state("identity-address-ux-ajax-data")["identity-address-ux-ajax-auth-token"];return c(e)}}(function(b){var e=a.state("identity-address-ux-ajax-data")["identity-address-ux-ajax-domain"],
    d=a.state("address-ui-widgets-from-view-state").client,r=c(d,e,!1),e=JSON.stringify(b),h=JSON.stringify({JsonPayload:e});return new Promise(function(c,e){var d=f(c,b.operation),l=g(b,c,e);a.post(r,{contextType:"application/json",accepts:"text/html;charset\x3dUTF-8",withCredentials:!0,paramsFormat:"string",params:h,success:function(a){try{d(JSON.parse(a.JsonPayload))}catch(b){l(b)}},error:function(a){l(a)}})})})}});h.when("A","a-dropdown","client-side-counters-util").execute("contingent-fields-handler-executor",
    function(a,b,c){function d(a){try{f().forEach(function(b){if(h[b])h[b]({countryCode:a,usecase:b})})}catch(b){c.incrementCounter("ContingentFieldSetupException")}}function f(){var a=x("#address-ui-widgets-enterAddressFormContainer").find('[class*\x3d"address-ui-widgets-contingent-field_"]').map(function(){return x(this).attr("class").split("address-ui-widgets-contingent-field_")[1].split(" ")[0]}).get();return e(a)}function e(a){return a.filter(function(b,c){return a.indexOf(b)===c})}function g(a){a=
    x(".address-ui-widgets-contingent-field_"+a);0<a.length&&a.removeClass("aok-hidden")}var x=a.$,h={PRUrbanization:function(c){var e=c.countryCode;if(e&&"US"===e){var d=c.usecase;c=b.getSelect(x("#address-ui-widgets-enterAddressStateOrRegion-dropdown-nativeId"))||x("#address-ui-widgets-enterAddressStateOrRegion");"PR"===(c.val()?c.val().toUpperCase():"")&&g(d);a.on("a:dropdown:selected:address-ui-widgets-enterAddressStateOrRegion",function(a){"PR"===a.value?g(d):(a=x(".address-ui-widgets-contingent-field_"+
    d),0<a.length&&a.addClass("aok-hidden"),a.find("input").val(""))})}}};a.on("ajax_reload",function(b){x=a.$;d(b)});a.on("popover-interacted",function(a){x=I(x,a);M(d,a)});a.on("address-form-load",function(b){x=a.$;d(b)})});h.when("A").execute("handle-multiple-form-checkout-tspc-executor",function(a){function b(){if(0!==d("#add-address-popover").length){var a=d("#add-address-popover").html();a&&(d("#add-address-popover").data("hidden-address-form-data",a),d("#add-address-popover").empty())}}function c(){d(".a-popover-inner").each(function(a,
    b){d(b).find("#add-address-popover").length||d(b).find("#address-ui-checkout-form").empty()})}var d=a.$;a.on("checkout:popover-beforeShow:add-address",function(){var b=d("#add-address-popover").data("hidden-address-form-data");b!==C&&d("#add-address-popover").html(b);a.state.parse();a.state("address-ui-widgets-from-view-state")&&(b=a.state("address-ui-widgets-from-view-state")["country-code"],a.trigger("address-form-load",b));c()});a.on("checkout:popover-beforeShow:edit-address",function(){b()});
    a.on("checkout:popover-hide:add-address",function(){b();c()});a.on("checkout:popover-hide:edit-address",function(){b();c()})});h.when("A").execute("global-functions-executor",function(a){function b(){if(!h.AUI_BUILD_DATE||h.AUI_BUILD_DATE==C){var b=a.$;b("#address-ui-widgets-enterAddressFormContainer .a-dropdown-container").each(function(a,c){c=b(c);a=c.children("span");c=c.children("select").attr("id");c=b("label[for\x3d"+c+"]");a.attr("aria-label",c.text())})}}function c(){var b=Fa("address-ui-widgets-enterAddressFormContainer"),
    c=a.$(b).parent().parent();c.attr("id")&&-1!=c.attr("id").indexOf("popover")&&(Ua(I(a.$,b)),a.trigger("popover-interacted",b))}function d(a){var b=new MutationObserver(function(a){for(var c=0;c<a.length;c++)"childList"===a[c].type&&f(b)}),c={attributes:!0,childList:!0,subtree:!0};1===a.getContent().length&&b.observe(a.getContent()[0],c)}a.on("ajax_reload",c);a.on("au-form-load",c);a.on("checkout:popoverContentLoaded:edit-address",d);a.on("checkout:popoverContentLoaded:add-address",d);a.on("address-form-load",
    c);b();a.on("ajax_reload",b);a.on("au-form-load",b);var f=ja(function(b){b.disconnect();Ta(function(){var b=Fa("address-ui-widgets-enterAddressFormContainer");Ua(I(a.$,b));return b},5,100,1.5,{delayMetric:"AddressForm:LoadTrigger:AddressFormContainerVisibilityLatency"},function(b){a.trigger("popover-interacted",b)})},0)});h.when("A","ready").register("numeric-postal-code-keypad-customizations",function(a){function b(b,d,f){var e=a.$;b=e(b);0!==b.length&&b.prop(d,f)}return{setupNumericPostalCodeField:function(){var c=
    a.$,c=c(".address-ui-widgets-mobile-numeric-postal-code-numeric-keypad");a.capabilities.ios&&0!==c.length&&"T1"===F(a,"CJ_ARX_NUMERIC_POSTAL_CODE_FORM_FIELD_IOS_673728","C")&&(b("#address-ui-widgets-enterAddressPostalCode","pattern","[0-9]*"),b("#address-ui-widgets-enterAddressPostalCodeOne","pattern","[0-9]*"),b("#address-ui-widgets-enterAddressPostalCodeTwo","pattern","[0-9]*"))}}});h.when("A","3p-auiws-select2","ready").execute("searchable-dropdown-executor",function(a){function b(){a.$(".auiws-searchable-dropdown").filter(function(){return a.$(this).hasClass("select2-hidden-accessible")}).each(function(){var b=
    d(this);a.$("#"+b.attr("name")).removeClass("aok-hidden")});a.$(".auiws-searchable-dropdown-container-select2").remove();a.$(".auiws-searchable-dropdown-result-box-select2").remove()}function c(){if(h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!=C){b();try{d(".auiws-searchable-dropdown").each(function(){var b=d(this),c=b.select2({templateResult:function(a){return d(a.element).hasClass("a-prompt")?null:a.text},theme:"aui",width:"100%",dropdownAutoWidth:!0});d("#"+b.attr("name")).addClass("aok-hidden");c.data("select2").$container.addClass("auiws-searchable-dropdown-container-select2");
    c.data("select2").$dropdown.addClass("auiws-searchable-dropdown-result-box-select2");"rtl"===a.$("html").attr("dir")&&(c.data("select2").$container.addClass("auiws-select2-rtl"),c.data("select2").$dropdown.addClass("auiws-select2-rtl"))})}catch(c){p("AddressForm:SearchableDropdownCreateError"),b()}d(document).on("input",".auiws-searchable-dropdown-result-box-select2 .select2-search__field",function(){f("AddressForm:SearchableDropdownSearch")})}}var d=a.$,f=ja(p,1E3);a.on("ajax_reload",function(){d=
    a.$;c()});a.on("popover-interacted",function(a){d=I(d,a);M(c,a)});a.on("address-form-load",function(){d=a.$;c()});a.on("au-form-load",function(){d=a.$;c()});a.on("checkout:popover-hide:edit-address",function(){b()});a.on("checkout:popover-hide:add-address",function(){b()})});h.when("A","ready").register("geographic-info-service",function(a){var b=function(b,d,f,e){a.$.ajax({url:b,type:"POST",data:JSON.stringify(d),dataType:"json",contentType:"application/json",success:function(a){f(a.locations)},
    error:function(a){a&&a.http&&401===a.http.status?e(Object.assign({},{requiresAuth:!0},a)):e(a)}})};return{getAddressBySearchPostalCode:function(a,d,f){b("/geographic-info/get-locations-by-search/",{searchEntity:{postalCode:a},maxResults:1},d,f)},getAddressByReverseGeocode:function(a,d,f,e){b("/geographic-info/get-locations-by-reverse-geocode/",{locationPoint:{latitude:a,longitude:d},locationType:"ADDRESS_POINT_POSTAL_CODE",maxResults:5},f,e)}}});h.when("A","address-ui-widgets-service-old-aui-missing-functions",
    "geographic-info-service","a-alert","ready").execute("sg-autopopulation-postal-code-executor",function(a,b,c,d){function f(e){h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!=C||(a.state.parse=b.stateParsingFunction);a.state.parse();a.state("address-ui-widgets-from-view-state")&&e&&"SG"==e&&(e=a.state("address-ui-widgets-from-view-state")["marketplace-code"])&&"SG"==e&&(g=!1,x="",K=!1,c&&(q=w("#address-ui-widgets-enterAddressPostalCode"),r=w("#address-ui-widgets-enterAddressLine1"),q.bind("input",B),r.bind("blur",
    l)))}var e=/^\d{6}$/g,g,x,K,q,r,w=a.$;a.on("ajax_reload",function(b){w=a.$;f(b)});a.on("popover-interacted",function(a){w=I(w,a);M(f,a)});a.on("address-form-load",function(b){w=a.$;f(b)});a.on("handle-pre-populated-postal-code",function(a,b){a&&"SG"==a&&(p("HandlePrefilledPostalCodeSG"),w=b,B())});d=function(a){return function(b){return b&&b.requiresAuth?t.location.reload(!0):a(b)}};var k=d(function(a){(a=a&&0<a.length&&a[0]&&a[0].addressLine&&a[0].addressLine.trim())?(r.val(a),g=!0,x=a,K=!1,p("SGAutopopulationAddressFormByPostalCodeSuccess")):
    (g=!1,p("SGAutopopulationAddressFormByPostalCodeEmptyResult"))}),A=d(function(a){p("SGAutopopulationAddressFormByPostalCodeFailure")}),B=function(){var a=Date.now(),b=q.val()&&q.val().trim();if(b&&6===b.length&&b.match(e))try{c.getAddressBySearchPostalCode(b,function(b){var c=Date.now();ga("SGAutopopulationAddressFormByPostalCodeLatency",c-a);k(b)},function(a){A(a)})}catch(d){p("SGAutopopulationAddressFormByPostalCodeFailure")}},l=function(){if(g&&x){var a=r.val()&&r.val().trim();K||x===a?K&&x===
    a&&(p("SGAutopopulationAddressFormByPostalCodeAddressLineOneReverted"),K=!1):(p("SGAutopopulationAddressFormByPostalCodeAddressLineOneEdited"),K=!0)}}});h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!=C?h.when("A","ready").register("address-ui-widgets-service-old-aui-missing-functions",function(a){}):(h.when("A","ready").execute("address-ui-widgets-service-old-aui-missing-functions-executor",function(a){var b=a.$,c=b(document),d=Date.now(),f=0;c.delegate(".a-dropdown li","keydown",function(c){var g=b(this).parent();
    c=c.which;!f&&1E3<Date.now()-d&&(f=1,d=Date.now());f&&(g.removeData("a-user-navigated-text").removeData("a-user-navigated-idx"),f=0);var x=g.data("a-user-navigated-idx")||0;if(!(0>x)){c=(g.data("a-user-navigated-text")||"")+String.fromCharCode(c).toLocaleLowerCase();g.data("a-user-navigated-text",c);for(var h=g.children();x<h.length;x++){var q=h.eq(x);if(0===a.trim(q.text().toLocaleLowerCase()).indexOf(c)){q.focus();g.data("a-user-navigated-idx",x);return}}g.data("a-user-navigated-idx",-1)}})}),h.when("A",
    "ready").register("a-alert",function(a){}),h.when("A","ready").register("a-spinner",function(a){}),h.when("A","a-alert","a-dropdown","a-spinner","ready").register("address-ui-widgets-service-old-aui-missing-functions",function(a,b,c,d){return{stateParsingFunction:a.state.parse,alertFunction:function(b){var c;if(b instanceof a.$)if(1===b.length)c=b;else return;else c=$(b);c.hide=function(){return c.toggleClass("aok-hidden",!0)};c.show=function(){return c.removeClass("aok-hidden",!1)};return c},spinnerFunction:function(a){var b=
    $(a);b.hide=function(){return b.toggleClass("aok-hidden",!0)};b.show=function(){return b.removeClass("aok-hidden",!1)};return b},dropdownGetSelectFunction:function(b){var d;if(b instanceof a.$)if(1===b.length)d=b.attr("id");else return;else d=b;"#"==d[0]&&(d=d.substring(1));var g=document.getElementById(d);if(null!=g)return g.val=function(a){return a==C?g.options[g.selectedIndex].getAttribute("value"):c.setValue(d,a)},g.setValue=function(a){return c.setValue(d,a)},g.update=function(a){c.updateSelect(d,
    a)},g.addOption=function(a,b){a=new Option(a.text,a.value,!1,!1);if(b==C)g.options.add(a);else{var c=Array.from(g.getOptions());g.removeOptions();c.splice(b,0,a);g.addOptions(c)}return g.options},g.addOptions=function(a){for(var b=0;b<a.length;b++){var c=new Option(a[b].text,a[b].value,!1,!1);g.options.add(c)}return g.options},g.getOptions=function(){var a=g.options;a.size=function(){return a.length};a.remove=function(){for(;g.firstChild;)g.removeChild(g.firstChild);return a=g.options};return a},
    g.getOption=function(a){var b=g.options[a];b.remove=function(){g.remove(a);return b};return b},g.removeOptions=function(){for(;g.firstChild;)g.removeChild(g.firstChild);return g.options},g},checkboxFunction:function(a){var b=$(a);b.isChecked=function(){return b.prop("checked")};return b}}}),h.when("A","ready").execute("address-ui-widgets-service-value-executor",function(a){a.on("a:dropdown:selected:address-ui-widgets-enterAddressStateOrRegion",function(a){a.auiItemNode&&(document.getElementById("address-ui-widgets-enterAddressStateOrRegion").getElementsByClassName("a-dropdown-prompt")[0].textContent=
    a.auiItemNode.text);for(var c=document.getElementById("address-ui-widgets-enterAddressStateOrRegion-dropdown-nativeId"),d=0;d<c.options.length;d++)if(a.auiItemNode&&c.options[d].text==a.auiItemNode.text){c.options.selectedIndex=d;break}});a.on("a:dropdown:selected:address-ui-widgets-enterAddressCity",function(a){a.auiItemNode&&(document.getElementById("address-ui-widgets-enterAddressCity").getElementsByClassName("a-dropdown-prompt")[0].textContent=a.auiItemNode.outerText);for(var c=document.getElementById("address-ui-widgets-enterAddressCity-dropdown-nativeId"),
    d=0;d<c.options.length;d++)if(a.auiItemNode&&c.options[d].value==a.auiItemNode.outerText){c.options.selectedIndex=d;break}})}),h.when("A","ready").execute("address-ui-widgets-service-applyCSS-executor",function(a){function b(){for(var a=document.getElementsByClassName("address-ui-widgets-checkbox-view"),b=0;b<a.length;b++)for(var f=a[b].querySelectorAll('input[type\x3d"checkbox"]'),e=0;e<f.length;e++)f[e].style.maxWidth="15px";a=document.getElementsByClassName("a-radio address-ui-widgets-radio-button-view");
    for(b=0;b<a.length;b++)for(f=a[b].querySelectorAll('input[type\x3d"radio"]'),e=0;e<f.length;e++)f[e].style.maxWidth="15px",0<=f[e].name.indexOf("address-ui-widgets-suggested-address-selection")&&(f[e].style.top="25px");!(a=document.getElementsByClassName("address-ui-widgets-aad-heading-container")[0])||a.style.height&&"0px"!=a.style.height||(a.style.height="19px")}a.on("ajax_reload",function(a){b()});a.on("address-form-load",function(a){b()});a.on("au-form-load",function(a){b()});b()}));h.when("A",
    "ready").execute("address-suggestion-edit-buttons-executor",function(a){var b=a.$;a.declarative("addrui-widgets-addr-suggestion-select-action",["change"],function(a){a=a.$currentTarget.closest(".addrui-widgets-addr-suggestion-entry");a.hasClass("addrui-widgets-addr-suggestion-active-box")||(b("div.addrui-widgets-addr-suggestion-entry.addrui-widgets-addr-suggestion-active-box").removeClass("addrui-widgets-addr-suggestion-active-box").addClass("addrui-widgets-addr-suggestion-inactive-box"),a.removeClass("addrui-widgets-addr-suggestion-inactive-box").addClass("addrui-widgets-addr-suggestion-active-box"))})});
    h.when("A","address-ui-widgets-service-old-aui-missing-functions","a-dropdown","a-alert","ajax-call-module","ready").execute("in-autopopulation-executor",function(a,b,c,d,f){function e(e){h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!=C||(d=b.alertFunction,c.getSelect=b.dropdownGetSelectFunction,a.state.parse=b.stateParsingFunction,w=!0);a.state.parse();a.state("address-ui-widgets-from-view-state")&&e&&"IN"==e&&(k=6,A=c.getSelect(r("#address-ui-widgets-enterAddressStateOrRegion-dropdown-nativeId")),B=r("#address-ui-widgets-enterAddressCity"),
    l=r("#address-ui-widgets-enterAddressLine1"),z=F(a,"ARX_ADDRESS_ZIP_DYNAMIC_VALIDATION_461972","C"),y=Ca(z),D=Ga(z),y&&(u=d(r("#address-ui-widgets-postalcode-error")),J=r("#address-ui-widgets-enterAddressPostalCode-full-validation-alerts"),G=r("#address-ui-widgets-enterAddressPostalCode"),E=w?ja(K,D):a.debounce(K,D),r("#address-ui-widgets-enterAddressPostalCode").bind("input",E)),r("#address-ui-widgets-enterAddressPostalCode").bind("input",x),"T1"===F(a,"CJP_ARX_PINCODE_CITY_MISMATCH_689089","C")&&
    (H=A.val(),n=B.val(),r("#address-ui-widgets-enterAddressStateOrRegion-dropdown-nativeId").bind("change",q),r("#address-ui-widgets-enterAddressCity").bind("input",q)))}function g(b){var c;b&&(c=b.data);if(c)if("false"===c.isAjaxError){b=c.stateOrRegion;c=c.city;var d=!1;b&&A&&(A.val(b),d=!0);c&&B&&(B.val(c),l.val()&&a.capabilities.mobile||l.focus(),!0===d&&p("INAutopopulationSuccess"));y&&(ka(J,G),""===c&&""===b?(u.show(),B.val(""),A.val("")):u.hide())}else p("INAutopopulationFailure");else p("INAutopopulationFailure")}
    function x(){var a=r("#address-ui-widgets-enterAddressPostalCode").val();a&&a.length===k&&f.auiwsPerformAjaxCall({operation:"IndiaAutopopulation",data:{"address-ui-widgets-enterAddressPostalCode":a}}).then(g).catch(function(){p("INAutopopulationFailure")})}function K(){r("#address-ui-widgets-enterAddressPostalCode").val().length!==k&&(ka(J,G),u.show())}function q(a){if(r("#address-ui-widgets-enterAddressPostalCode-full-validation-alerts").is(":visible")){a=A.val();var b=B.val();if(H!==a||n!==b)ka(J,
    G),u.hide()}}var r=a.$,w=!1,k,A,B,l,y,z,D,u,E,J,G,H,n;a.on("ajax_reload",function(b){r=a.$;e(b)});a.on("popover-interacted",function(a){r=I(r,a);M(e,a)});a.on("address-form-load",function(b){r=a.$;e(b)});a.on("handle-pre-populated-postal-code",function(b,c){b&&"IN"==b&&(p("HandlePrefilledPostalCodeIN"),r=c,"T1"===F(a,"CJP_ARX_PINCODE_CITY_MISMATCH_689089","C")&&r("#address-ui-widgets-enterAddressPostalCode-full-validation-alerts").is(":visible")||x())})});h.when("A","address-ui-widgets-service-old-aui-missing-functions",
    "a-dropdown","a-alert","ajax-call-module","ready").execute("au-autopopulation-executor",function(a,b,c,d,f){function e(e){e&&"AU"==e&&(h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!=C||(E=!0,d=b.alertFunction,c.getSelect=b.dropdownGetSelectFunction,a.state.parse=b.stateParsingFunction),a.state.parse(),a.state("address-ui-widgets-from-view-state")&&(J=4,G=c.getSelect(u("#address-ui-widgets-enterAddressCity-dropdown-nativeId")),H=d("#address-ui-widgets-postalcode-error"),n=u("#address-ui-widgets-enterAddressPostalCode").val(),
    L=u("#address-ui-widgets-countryCode-dropdown-nativeId").val(),Pa=u("#address-ui-widgets-enterAddressPostalCode"),t=c.getSelect(u("#address-ui-widgets-enterAddressCity-dropdown-nativeId"))||u("#address-ui-widgets-enterAddressCity"),N=c.getSelect(u("#address-ui-widgets-enterAddressStateOrRegion-dropdown-nativeId"))||u("#address-ui-widgets-enterAddressStateOrRegion"),m=t.val()?t.val().toUpperCase():"",F=N.val()?N.val().toUpperCase():"",a.on("a:dropdown:selected:address-ui-widgets-enterAddressCity",
    function(a){a=a.value;""!==a&&l(a,g("au-addr-form-cityStateData"))}),u("#address-ui-widgets-enterAddressPostalCode").bind("input",x),u("#address-ui-widgets-enterAddressPostalCode").change(x),G&&4>Pa.val().length?(w(),k()):G&&K()))}function g(b){return a.state(b)?a.state(b):!1}function x(){H.hide();var a=Pa.val();G&&a.length<J?(w(),k()):G&&a.length===J&&(a===n?K():z(a))}function K(){A("#address-ui-widgets-enterAddressCity-dropdown-nativeId","normal");var a=g("au-addr-form-cityStateData"),b=Object.keys(a);
    m&&-1<b.indexOf(m)?(t.setValue(m),l(m,a)):0<t.val().length?r():(a=navigator.userAgent)&&(-1<a.indexOf("MSIE")||-1<a.indexOf("rv:"))?E&&1===t.getOptions().length?q():(t.setValue(),k()):E&&1===t.getOptions().size()?q():E||0!==t.getOptions().size()?(t.setValue(),k()):q()}function q(){w();k();H.show()}function r(){A("#address-ui-widgets-enterAddressStateOrRegion-dropdown-nativeId","normal")}function w(){A("#address-ui-widgets-enterAddressCity-dropdown-nativeId","disabled")}function k(){A("#address-ui-widgets-enterAddressStateOrRegion-dropdown-nativeId",
    "disabled")}function A(a,b){c&&(a=c.getSelect(u(a)))&&a.update({status:b})}function B(a){a={operation:"AustraliaAutopopulation",data:{"address-ui-widgets-enterAddressPostalCode":a,"address-ui-widgets-countryCode":L,"address-ui-widgets-addressFormButtonText":u("input[name\x3d'address-ui-widgets-addressFormButtonText']").val(),"address-ui-widgets-addressFormHideHeading":u("input[name\x3d'address-ui-widgets-addressFormHideHeading']").val(),"address-ui-widgets-enableAddressDetails":u("input[name\x3d'address-ui-widgets-enableAddressDetails']").val(),
    "address-ui-widgets-enableAddressTips":u("input[name\x3d'address-ui-widgets-enableAddressTips']").val(),"address-ui-widgets-enableAddressWizardForm":u("input[name\x3d'address-ui-widgets-enableAddressWizardForm").val(),"address-ui-widgets-enableDeliveryInstructions":u("input[name\x3d'address-ui-widgets-enableDeliveryInstructions").val(),"address-ui-widgets-address-wizard-interaction-id":u("input[name\x3d'address-ui-widgets-address-wizard-interaction-id").val(),"address-ui-widgets-returnLegacyAddressID":u("input[name\x3d'address-ui-widgets-returnLegacyAddressID']").val(),
    "address-ui-widgets-clientName":u("input[name\x3d'address-ui-widgets-clientName']").val(),"address-ui-widgets-addressFormHideSubmitButton":u("input[name\x3d'address-ui-widgets-addressFormHideSubmitButton']").val(),"address-ui-widgets-previous-address-form-state":u("input[name\x3d'address-ui-widgets-previous-address-form-state']").val(),"address-ui-widgets-previous-address-form-state-token":u("input[name\x3d'address-ui-widgets-previous-address-form-state-token").val()}};var b=u("input[name\x3d'address-ui-widgets-original-address-id']");
    D(b)||(a.data["address-ui-widgets-original-address-id"]=b.val());return a}function l(a,b){r();N.removeOptions();b=b[a];var c=[];b.forEach(function(a){c.push({value:a[0],text:a[1]})});N.addOptions(c);if(m===a){var d=[];b.forEach(function(a){d.push(a[0])});-1<d.indexOf(F)?N.setValue(F):N.setValue(b[0][0])}else N.setValue(b[0][0])}function y(e){if(D(e))p("AUAutopopulationFailure");else if(e=e.data,h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!=C||(E=!0,d=b.alertFunction,c.getSelect=b.dropdownGetSelectFunction,
    a.state.parse=b.stateParsingFunction),!D(e))if("false"===e.isAjaxError){var n={"address-ui-widgets-enterAddressFullName":u("#address-ui-widgets-enterAddressFullName").val(),"address-ui-widgets-enterAddressPhoneNumber":u("#address-ui-widgets-enterAddressPhoneNumber").val(),"address-ui-widgets-enterAddressLine1":u("#address-ui-widgets-enterAddressLine1").val(),"address-ui-widgets-enterAddressLine2":u("#address-ui-widgets-enterAddressLine2").val(),"address-ui-widgets-delivery-instructions-data":u("input[name\x3d'address-ui-widgets-delivery-instructions-data").val()};
    u("#address-ui-widgets-enterAddressFormContainer").replaceWith(e.addressFormHTML);u("#address-ui-widgets-enterAddressFullName").val(n["address-ui-widgets-enterAddressFullName"]);u("#address-ui-widgets-enterAddressPhoneNumber").val(n["address-ui-widgets-enterAddressPhoneNumber"]);u("#address-ui-widgets-enterAddressLine1").val(n["address-ui-widgets-enterAddressLine1"]);u("#address-ui-widgets-enterAddressLine2").val(n["address-ui-widgets-enterAddressLine2"]);u("input[name\x3d'address-ui-widgets-delivery-instructions-data").val(n["address-ui-widgets-delivery-instructions-data"]);
    a.trigger("awz_au_postalcode_reload");c.getSelect(u("#address-ui-widgets-countryCode-dropdown-nativeId")).val(L);a.state.parse();a.trigger("au-form-load","AU");p("AUAutopopulationSuccess")}else p("AUAutopopulationFailure")}function z(a){a=B(a);f.auiwsPerformAjaxCall(a).then(y).catch(function(){p("AUAutopopulationFailure")})}function D(a){if(!a)return!0}var u=a.$,E=!1,J,G,H,n,L,Pa,t,N,m,F;a.on("ajax_reload",function(b){u=a.$;e(b)});a.on("popover-interacted",function(a){u=I(u,a);M(e,a)});a.on("address-form-load",
    function(b){u=a.$;e(b)});a.on("au-form-load",function(b){u=a.$;e(b)});a.on("handle-pre-populated-postal-code",function(a,b){a&&"AU"==a&&(p("HandlePrefilledPostalCodeAU"),u=b,x())})});h.when("A","address-ui-widgets-service-old-aui-missing-functions","a-alert","a-dropdown","ready").execute("isd-phone-number-executor",function(a,b,c,d){var f;function e(e){h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!=C||(c=b.alertFunction,a.state.parse=b.stateParsingFunction,d.getSelect=b.dropdownGetSelectFunction,k=!0);a.state.parse();
    a.state("address-ui-widgets-from-view-state")&&e&&("SA"===e||"AE"===e||"EG"===e||"OM"===e||r(e))&&("rtl"===w("html").attr("dir")&&w("#address-ui-widgets-enterAddressPhoneNumber").addClass("rtl-direction"),f={AE:{callingCode:"+971",numberMinLength:9,numberMaxLength:10},EG:{callingCode:"+20",numberMinLength:10,numberMaxLength:11},SA:{callingCode:"+966",numberMinLength:9,numberMaxLength:10},OM:{callingCode:"+968",numberMinLength:9,numberMaxLength:10}},A={AE:!0,EG:!0,SA:!0,OM:!0},B=w("#address-ui-widgets-enterAddressFormContainer"),
    G="address-ui-widgets-addr-form-phone-number-inline-soft-alert",H="address-ui-widgets-addr-form-phone-number-inline-hard-alert",l=c("#"+G),y=c("#"+H),D=d.getSelect("address-ui-widgets-enterAddressISDDropdown"),B&&D&&(z=B.find("input[name\x3d'address-ui-widgets-enterAddressPhoneNumber']"),u=D.val().split(" "),w("#country-flag").length||w('\x3cspan id\x3d"country-flag"\x3e\x3ci\x3e\x3c/i\x3e\x3c/span\x3e').prependTo("#address-ui-widgets-enterAddressISDPhoneNumber .a-declarative"),K(D.val()),k&&(E=new MutationObserver(g),
    J=w(".adddress-ui-widgets-form-isd-dropdown").find(".a-dropdown-prompt"),u&&"undefined"!==typeof u[1]&&J.text(u[1]),e={attributes:!0,childList:!0,subtree:!0},J&&E.observe(J[0],e),q(D)),z&&l&&y&&(z.change(x),a.on("a:dropdown:selected:address-ui-widgets-enterAddressISDPhoneNumber",x),""!==z.val()&&z.change())))}function g(a){if(J&&u&&"undefined"!==typeof u[1])for(var b=0;b<a.length;b++)J.text()!==u[1]&&"childList"===a[b].type&&J.text(u[1])}function x(){k&&D.update({status:"normal"});var a=z.val(),b=
    D.val();K(b);if(A[u[0]]&&b&&a){a:if(b===u[0]+" "+f[u[0]].callingCode&&a.length<=f[u[0]].numberMaxLength&&a.length>=f[u[0]].numberMinLength)switch(u=b.split(" "),u[0]){case "EG":a=a.length===f[u[0]].numberMaxLength?("٠"===a[0]||"0"===a[0])&&("١"===a[1]||"1"===a[1]):a.length===f[u[0]].numberMinLength?"١"===a[0]||"1"===a[0]:!1;break a;default:a=!0}else a=!1;a?l.hide():w("#"+H).is(":visible")||l.show()}else l.hide()}function K(a){u=a.split(" ");w("#country-flag").removeAttr("class");w("#country-flag").addClass("address-ui-widgets-flags-sprite address-ui-widgets-flags-"+
    u[0])}function q(a){Array.from(a.getOptions()).forEach(function(a){a="#"+a.id;var b={text:w(a).attr("data-a-html-content")};d.updateOption(a,b)})}function r(b){switch(b){case "HK":return"T1"===F(a,"A2I_ARX_CSDV_HK_NEW_ADDRESS_FORM_758825","C");case "IL":return"T1"===F(a,"A2I_ARX_CSDV_IL_NEW_ADDRESS_FORM_757958","C");case "KR":return"T1"===F(a,"A2I_ARX_CSDV_KR_NEW_ADDRESS_FORM_769560","C");case "NZ":return"T1"===F(a,"A2I_ARX_CSDV_NZ_NEW_ADDRESS_FORM_738112","C");case "CO":return"T1"===F(a,"A2I_ARX_CSDV_CO_NEW_ADDRESS_FORM_760201",
    "C");case "PH":return"T1"===F(a,"A2I_ARX_CSDV_PH_NEW_ADDRESS_FORM_740031","C");case "TW":return"T1"===F(a,"A2I_ARX_CSDV_TW_NEW_ADDRESS_FORM_756323","C");case "CL":return"T1"===F(a,"A2I_ARX_CSDV_CL_NEW_ADDRESS_FORM_776165","C");default:return!1}}var w=a.$,k=!1,A,B,l,y,z,D,u,E,J,G,H;a.on("ajax_reload",function(b){w=a.$;e(b)});a.on("popover-interacted",function(a){w=I(w,a);M(e,a)});a.on("address-form-load",function(b){w=a.$;e(b)})});h.when("A","address-ui-widgets-service-old-aui-missing-functions","a-dropdown",
    "a-alert","ajax-call-module","ready").execute("jp-autopopulation-executor",function(a,b,c,d,f){function e(d){h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!=C||(c.getSelect=b.dropdownGetSelectFunction,a.state.parse=b.stateParsingFunction);a.state.parse();a.state("address-ui-widgets-from-view-state")&&d&&"JP"==d&&(A=a.state("address-ui-widgets-from-view-state").locale)&&(K=3,q=4,r=K+1+q,w=c.getSelect(x("#address-ui-widgets-enterAddressStateOrRegion-dropdown-nativeId")),k=x("#address-ui-widgets-enterAddressLine1"),
    "true"!==x("input[name\x3d'address-ui-widgets-enableAddressWizardInlineSuggestions']").val()&&(x("#address-ui-widgets-enterAddressPostalCodeOne").bind("input",B),x("#address-ui-widgets-enterAddressPostalCodeTwo").bind("input",B)))}function g(a){if(a){var b=a.data;b?"false"===b.isAjaxError?(a=b.stateOrRegion,b=b.addressLineOne,a&&w&&w.val(a),b&&k&&(k.val(b),k.trigger("input"),k.focus())):"true"===b.isAjaxError&&p("JPAutopopulationFailure"):p("JPAutopopulationFailure")}}var x=a.$,K,q,r,w,k,A;a.on("ajax_reload",
    function(b){x=a.$;e(b)});a.on("popover-interacted",function(a){x=I(x,a);M(e,a)});a.on("address-form-load",function(b){x=a.$;e(b)});a.on("handle-pre-populated-postal-code",function(b,c){b&&"JP"==b&&(b=a.state("address-ui-widgets-from-view-state"))&&b.locale&&"ja_JP"==b.locale&&(p("HandlePrefilledPostalCodeJP"),x=c,B())});var B=function(){var a=x("#address-ui-widgets-enterAddressPostalCodeOne").val(),b=x("#address-ui-widgets-enterAddressPostalCodeTwo").val();x("#address-ui-widgets-enterAddressPostalCodeOne").is(":focus")&&
    a.length==K&&x("#address-ui-widgets-enterAddressPostalCodeTwo").focus();a.length===K&&b.length===q&&(a=a+"-"+b,a.length===r&&"ja_JP"===A&&(a={operation:"JapanAutopopulation",data:{"address-ui-widgets-enterAddressPostalCode":a}},f.auiwsPerformAjaxCall(a).then(g).catch(function(){p("JPAutopopulationFailure")})))}});h.when("A","address-ui-widgets-service-old-aui-missing-functions","client-side-counters-util","ready").execute("clear-text-input-field-executor",function(a,b,c){function d(a){a.addClass("aok-hidden");
    a.prev("input").removeClass("address-ui-widgets-text-input-clear-icon-padding")}function f(){var f=e("#address-ui-widgets-enterAddressFormContainer"),K=f.find("div.address-ui-widgets-clear-icon"),q=f.find(".addrui-form-text-input-container input"),r;h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!=C||(alert=b.alertFunction,dropdown.getSelect=b.dropdownGetSelectFunction,a.state.parse=b.stateParsingFunction);q.bind("keyup input paste focus",function(){var a=e(this),b=e(this).next();r&&r!==b&&d(r);r=b;a.val()?(a=
    b.prev("input"),a.hasClass("autoCompleteDisabled")||(b.removeClass("aok-hidden"),a.addClass("address-ui-widgets-text-input-clear-icon-padding"))):d(b)});K.bind("click",function(){var a=e(this),b=a.prev("input");c.incrementCounter("AddressForm:ClearIconClicked:"+b.attr("id"));b&&(b.val(""),b.focus());d(a)});f.bind("focusin click",function(a){r&&!a.target.attributes.clearable&&d(r)});q&&q.each(function(){var b=e(this),c=b.attr("id"),d=e("#"+(c+"-clear-icon-container"));b.after(d);var f=F(a,"ARX_PREPOPULATE_NAME_AND_PHONE_MOBILE_420358",
    "C");("T1"==f||"T2"==f)&&g.has(c)&&b.val()?(d.removeClass("aok-hidden"),b.addClass("address-ui-widgets-text-input-clear-icon-padding")):(d.addClass("aok-hidden"),b.removeClass("address-ui-widgets-text-input-clear-icon-padding"));b.attr("clearable",!0)})}var e=a.$,g=new Set(["address-ui-widgets-enterAddressFullName","address-ui-widgets-enterAddressPhoneNumber"]);a.on("ajax_reload",function(){e=a.$;f()});a.on("popover-interacted",function(a){e=I(e,a);M(f,a)});a.on("address-form-load",function(){e=a.$;
    f()})});h.when("A","address-ui-widgets-service-old-aui-missing-functions","a-alert","a-dropdown","ajax-call-module","ready").execute("mx-autopopulation-executor",function(a,b,c,d,f){function e(e){h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!=C||(c=b.alertFunction,d.getSelect=b.dropdownGetSelectFunction,a.state.parse=b.stateParsingFunction,E=!0);a.state.parse();a.state("address-ui-widgets-from-view-state")&&e&&"MX"==e&&(J="MexicoAutopopulation",N=null,G=u("#address-ui-widgets-enterAddressFormContainer"),0!==
    G.length&&(H=G.find("#address-ui-widgets-enterAddressPostalCode"),0!==H.length&&(n=G.find("#address-ui-widgets-enterAddressPostalCode-submit"),L=c("#address-ui-widgets-postal-code-prepop-error"),t=c("#address-ui-widgets-postal-code-prepop-ajax-error"),F=["State","City","AddressLine2"],ha={State:{fieldId:"address-ui-widgets-enterAddressStateOrRegion",defaultValue:g("address-ui-widgets-enterAddressStateOrRegion-defaultValue")},City:{fieldId:"address-ui-widgets-enterAddressCity",defaultValue:g("address-ui-widgets-enterAddressCity-defaultValue")},
    AddressLine2:{fieldId:"address-ui-widgets-enterAddressLine2",defaultValue:g("address-ui-widgets-enterAddressLine2-defaultValue")}},"true"!==u("input[name\x3d'address-ui-widgets-enableLatestAddressWizardForm']").val()&&(n.click(function(a){a.preventDefault();D(!1)}),H.keyup(function(){u.trim(H.val())!=N&&(l(!1,!0),N=null)}),q(),D(!0)))))}function g(b){b=a.state(b);var c="";b&&(c=b.Value);return c}function x(a){var b=[];if(!a)return b;if(a.constructor===Object)for(var c in a)b.push(c);else a.constructor===
    Array&&(b=a);return b}function K(a,b,c){var e=b+c;b={};b.Container=a.find("#"+e+"Container");b.Display=a.find("#"+e);"String"===c?b.Value=a.find("#"+e+"Value"):"Select"===c?(a=e+"Native",b.ValueId=a,"#"===a.charAt(0)?(u(a),b.Value=d.getSelect(u(a))):b.Value=d.getSelect(u("#"+a))):"Text"===c&&(b.DisplayOuter=a.find("#"+e+"Outer"),b.Value=b.Display);return b}function q(){m={};var b=F.length-1;a.each(F,function(a,c){var d=ha[a].fieldId,e=G.find("#"+d),f={};f.Container=e.closest(".adddress-ui-widgets-form-field-container");
    f.LabelContainer=f.Container.prev(".adddress-ui-widgets-form-field-label-container");f.Type=e.find("#"+d+"FieldType");f.String=K(e,d,"String");f.Text=K(e,d,"Text");f.Select=K(e,d,"Select");b>c?f.OnChangeFieldName=F[c+1]:b==c&&f.Text.DisplayOuter.addClass("a-spacing-small");f.DefaultValue=ha[a].defaultValue;m[a]=f})}function r(a){var b=a.parent(".a-input-text-wrapper");0===b.length&&(b=a);return b}function w(a){var b=r(H);a?(L.show(),b.addClass("a-form-error")):(L.hide(),b.removeClass("a-form-error"))}
    function k(b){a.each([b.String.Display,b.Text.DisplayOuter,b.Select.Display],function(a,b){r(a).removeClass("a-form-error")});b.Container.find(".address-ui-widgets-inline-error-alert").addClass("aok-offscreen")}function A(b,c,d){a.each(["String","Text","Select"],function(a,e){e=b[a];var f=d;c===a?e.Container.removeClass("aok-offscreen"):(f=!1,e.Container.addClass("aok-offscreen"));"Select"===a?null!=e.Value&&(f?e.Value.update({status:"normal"}):e.Value.update({status:"disabled"})):f?(e.Value.prop("disabled",
    !1),e.Display.removeClass("a-form-disabled")):(e.Value.prop("disabled",!0),e.Display.addClass("a-form-disabled"))});d?(b.Container.removeClass("aok-offscreen"),b.LabelContainer.removeClass("aok-offscreen")):(b.Container.addClass("aok-offscreen"),b.LabelContainer.addClass("aok-offscreen"))}function B(b,c,d){var e=u.trim(b.DefaultValue),f,n=x(c);if(1===n.length)f="String",e=n[0],b[f].Display.text(e),b[f].Value.val(e),k(b);else if(1<n.length){f="Select";n.sort();b[f].Value.getOptions().remove();a.each(n,
    function(a,c){b[f].Value.addOption({text:a,value:a},c)});!b[f].Value.setValue(e)&&E&&(n=b[f].Value.getOption(0),b[f].Value.setValue(n.value));var g=m[b.OnChangeFieldName],l=g?u.extend(!0,{},c):{};a.on("a:dropdown:"+b[f].ValueId+":select",function(a){a=u.trim(a.value);g&&B(g,l[a],!1);k(b)})}else f="Text",b[f].Value.val(""),k(b);b.Type.val(f);A(b,f,"Text"!==f);if(g=m[b.OnChangeFieldName])c&&(c=c[e]),B(g,c,d)}function l(b,c){a.each(m,function(a,d){A(a,"Text",b);c&&a.Text.Value.val("");k(a)})}function y(){N=
    null;w(!1);l(!0,!1);t.show()}function z(b,c){b={operation:J,data:{CountryCode:d.getSelect(u("#address-ui-widgets-countryCode-dropdown-nativeId")).val(),PostalCode:u("#address-ui-widgets-enterAddressPostalCode").val()}};f.auiwsPerformAjaxCall(b).then(function(b){var d;if(d=!!b)d=b.data?void 0:!0,d=!d;d?(b=b.data,"false"===b.isAjaxError?(b=a.parseJSON(b.mxAddressData),w(u.isEmptyObject(b)),B(m[F[0]],b,c),t.hide()):(p("AddressUIWidgets_MexicoAutopopulation_IsAjaxError"),y())):(p("AddressUIWidgets_MexicoAutopopulation_ResultUndefined"),
    y())}).catch(function(){p("AddressUIWidgets_MexicoAutopopulation_AjaxFailure");y()})}function D(a){var b=u.trim(H.val());b?b!=N&&z(b,a):(a||w(!0),l(!1,!0),t.hide());N=b}var u=a.$,E=!1,J,G,H,n,L,t,m,N,F,ha;a.on("ajax_reload",function(b){u=a.$;e(b)});a.on("popover-interacted",function(a){u=I(u,a);M(e,a)});a.on("address-form-load",function(b){u=a.$;e(b)});a.on("handle-pre-populated-postal-code",function(a,b){a&&"MX"==a&&(p("AddressUIWidgets_MexicoAutopopulation_HandlePrefilledPostalCodeMX"),u=b,D(!0))})});
    h.when("A","address-ui-widgets-service-old-aui-missing-functions","a-alert","a-dropdown","ajax-call-module","ready").execute("se-autopopulation-executor",function(a,b,c,d,f){function e(e){L="true"===H("input[name\x3d'address-ui-widgets-enableAddressWizardForm']").val()?!0:!1;h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!=C||(c=b.alertFunction,d.getSelect=b.dropdownGetSelectFunction,a.state.parse=b.stateParsingFunction,n=!0);a.state.parse();a.state("address-ui-widgets-from-view-state")&&e&&"SE"==e&&(A=!1,B="",
    l=!1,w=H("#address-ui-widgets-enterAddressPostalCode"),k=H("#address-ui-widgets-enterAddressCity"),z=F(a,"ARX_ADDRESS_ZIP_DYNAMIC_VALIDATION_461972","C"),y=Ca(z),E=Ga(z),y&&(D=c(H("#address-ui-widgets-postalcode-error")),J=H("#address-ui-widgets-enterAddressPostalCode-full-validation-alerts"),G=H("#address-ui-widgets-enterAddressPostalCode"),u=n?ja(K,E):a.debounce(K,E),w.bind("input",u)),w.bind("input",t),k.bind("blur",m()),L||w.val().match(r)||g())}function g(){k.attr("readonly","readonly");k.addClass("autoCompleteDisabled");
    k.attr("tabindex","-1")}function x(a){a?(a=a.data,a&&"true"!==a.isAjaxError?(a=a.city,y&&(ka(J,G),a&&0!==a.length?D.hide():D.show()),a&&0!==a.length?(k.val(a),A=!0,B=a,l=!1,p("SEAutopopulationAddressBookByPostalCodeSuccess"),L||(k.removeAttr("readonly","readonly"),k.removeClass("autoCompleteDisabled"),k.removeAttr("tabindex","-1"))):(A=!1,p("SEAutopopulationAddressBookByPostalCodeEmptyResult"))):p("SEAutopopulationAddressBookByPostalCodeFailure")):p("SEAutopopulationAddressBookByPostalCodeFailure")}
    function K(){var a=w.val().trim();a&&a.match(r)||(ka(J,G),D.show())}function q(a){f.auiwsPerformAjaxCall({operation:"SwedenAutopopulation",data:{"address-ui-widgets-enterAddressPostalCode":a}}).then(x).catch(function(){p("SEAutopopulationAddressBookByPostalCodeFailure")})}var r=/^(\d{5}|\d{3} \d{2})$/g,w,k,A,B,l,y,z,D,u,E,J,G,H=a.$,n=!1,L;a.on("ajax_reload",function(b){H=a.$;e(b)});a.on("popover-interacted",function(a){H=I(H,a);M(e,a)});a.on("address-form-load",function(b){H=a.$;e(b)});a.on("handle-pre-populated-postal-code",
    function(a,b){a&&"SE"==a&&(p("HandlePrefilledPostalCodeSE"),H=b,t())});var t=function(){var a=w.val()&&w.val().trim();a&&a.match(r)?(a=a.replace(/\s+/g,""),q(a)):L||g()},m=function(){if(A&&B){var a=k.val()&&k.val().trim();l||B===a?l&&B===a&&(p("SEAutopopulationAddressBookByPostalCodeAddressCityReverted"),l=!1):(p("SEAutopopulationAddressBookByPostalCodeAddressCityEdited"),l=!0)}}});h.when("A","address-ui-widgets-service-old-aui-missing-functions","a-dropdown","a-alert","ajax-call-module","ready").execute("pl-autopopulation-executor",
    function(a,b,c,d,f){function e(e){h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!=C||(d=b.alertFunction,c.getSelect=b.dropdownGetSelectFunction,a.state.parse=b.stateParsingFunction,L=!0);a.state.parse();if(a.state("address-ui-widgets-from-view-state")){var f=a.state("address-ui-widgets-from-view-state")["marketplace-code"];bb.isLanguageSupportedByMarketplace(bb.languageCodes.pl_PL,f)&&e&&"PL"==e&&(y=k("#address-ui-widgets-enterAddressPostalCode"),u=F(a,"ARX_ADDRESS_ZIP_DYNAMIC_VALIDATION_461972","C"),D=Ca(u),
    G=Ga(u),D&&(E=d(k("#address-ui-widgets-postalcode-error")),H=k("#address-ui-widgets-enterAddressPostalCode-full-validation-alerts"),n=k("#address-ui-widgets-enterAddressPostalCode"),J=L?ja(q,G):a.debounce(q,G),y.bind("input",J)),z=c.getSelect("#address-ui-widgets-enterAddressCity-dropdown-nativeId"),N="",t=!1,m="",y.bind("input",I),y.bind("textInput",ha),y.val().match(A)?z.setValue(z.val()):g())}}function g(){z.update({status:"disabled"})}function x(a){w(a)?p("PLAutopopulationAddressBookByPostalCodeFailure"):
    (a=a.data,w(a)||"true"===a.isAjaxError?p("PLAutopopulationAddressBookByPostalCodeFailure"):(a=k.parseJSON(a.cities),D&&(ka(H,n),a&&0!==a.length?E.hide():E.show()),a&&0!==a.length?(K(a),z.update({status:"normal"}),p("PLAutopopulationAddressBookByPostalCodeSuccess")):p("PLAutopopulationAddressBookByPostalCodeEmptyResult")))}function K(a){z.setValue("");a.sort(function(a,b){return b.localeCompare(a)});z.getOptions().remove();a.forEach(function(a){z.addOption({text:a,value:a})});1===a.length&&z.setValue(a[0])}
    function q(){var a=y.val();a&&a.match(A)||(ka(H,n),E.show())}function r(a){f.auiwsPerformAjaxCall({operation:"PolandAutopopulation",data:{"address-ui-widgets-enterAddressPostalCode":a}}).then(x).catch(function(){p("PLAutopopulationAddressBookByPostalCodeFailure")})}function w(a){if(typeof a===C||null===a)return!0}var k=a.$,A=/^\d{2}\-\d{3}$/g,B=/^\d{2}\d{0,3}$/g,l=/^\d{2}\-$/g,y,z,D,u,E,J,G,H,n,L=!1,t=!1,m="",N="";a.on("ajax_reload",function(a){e(a)});a.on("checkout:popoverContentLoaded:edit-address",
    function(a){e(a)});a.on("address-form-load",function(a){e(a)});a.on("handle-pre-populated-postal-code",function(a,b){a&&"PL"==a&&(p("HandlePrefilledPostalCodePL"),k=b,I())});var I=function(){var a=y.val();if(a){var b=y[0].selectionStart,c=a.replace(/[^0-9-]/g,"").replace(/--/g,"-");5<c.length&&0>c.indexOf("-")&&(c=c.slice(0,-1));y.val(c);c!=a&&y[0].setSelectionRange(b-1,b-1)}if(b=y.val()){var a=y[0].selectionStart,c=b,d=!1,b=!1,e=c.lastIndexOf("-");-1!=e&&2!=e&&(N=c,c=c.replace(/-/g,""),b=!0);c.match(B)&&
    (N.match(l)&&N.length>c.length?c=c.slice(0,-1):(c=c.slice(0,2)+"-"+c.slice(2),d=!0));y.val(c);d&&(N.length==c.length&&y[0].setSelectionRange(3,3),b&&(N.length>c.length?y[0].setSelectionRange(a-1,a-1):N.length==c.length&&3>a?y[0].setSelectionRange(a,a):N.length==c.length&&3==a&&y[0].setSelectionRange(a+1,a+1)))}(a=y.val())&&a.match(A)?r(a):g();N=a},ha=function(a){if(32==a.originalEvent.data.charCodeAt(0))m=N,t=!0;else{var b=y.val().length<m.length,c=a.originalEvent.data.charCodeAt(0);a=a.originalEvent.data.charCodeAt(1);
    t&&b&&46==c&&32==a&&(N=m,y.val(m));t=!1;m=""}}});"use strict";h.when("A","pin-on-maps-utils","ready").register("pom:mobile-functionality",function(a,b){function c(c){b.isPinOnMapsEnabled(a)&&(h.when("a-sheet").execute("pin-on-maps-mobile-functionality-executor",function(a){ua=a}),h.when("a-secondary-view","idrisi:initializer").execute("pin-on-maps-mobile-functionality-secondary-view-executor",function(b,d){d=a.state("address-ui-widgets-from-view-state");var g=ia;ia=c===C?d["country-code"]:c;var u=
    l("address-ui-widgets-pin-on-maps-hidden-input-state-id").val(),x=a.state(u);if(x!==C){p=!1;var h=n('input[name\x3d"address-ui-widgets-obfuscated-customerId"]').val(),k=x.elementsIdMap;xa=k.mapSpinner;fa=k.secondViewTrigger;O=k.addressSelectedView;W=k.addressNotSelectedView;X=k.bottomAddressLineOne;T=k.bottomAddressLineTwo;da=k.bottomPromptContainer;ba=k.addLocationButton;Z=k.clearLocationLink;v=k.searchClearIcon;S=k.searchInput;ea=k.addOnMapSection;qa=k.addOnMapLink;la=k.enterManuallyLink;ma=k.enterManuallyLinkBeforePin;
    Ia=k.addressFormCover;R=k.addressFormStaticMapSection;Da=k.skeletonLoadingSection;na=k.staticViewFetchedAddress;aa=k.staticMapImageContainer;ra=k.addressFormInlineAlert;oa=k.hiddenInputLatitude;sa=k.hiddenInputLongitude;U=k.addressFormEditAddress;ga=k.pinOnMapsMobileWidget;Q=k.locationPermissionContent;P=k.locationAllowButton;cb=k.locationNotNowButton;db=k.mapContainer;Ea=k.carouselComponentId;va=k.carouselCardForAddressSuggestionsId;eb=x.maximumNumberOfAddressSuggestionsPerPinPlacement;fb=k.addressSelectedViewReverseGeocodingId;
    gb=k.bottomAddressLineOneReverseGeocodingId;hb=k.bottomAddressLineTwoReverseGeocodingId;ib=k.addLocationButtonReverseGeocodingId;Ja=l(fa);f();ta=b.get(Ja);Ka=d.locale;a.state(u,{countryCode:ia,locale:Ka});a.state(u,{customerId:h});a.state(u,{mapSearchInteractionEnabled:"T1"===F(a,"CJP_ARX_PIN_ON_MAPS_SEARCH_ADOPTION_TRACKER_596079","C")});a.trigger("pom:initialize",u);ca[ia]===C?(l(ea).hide(),l(R).hide()):(ua!==C&&(ka={name:"permissionBottomSheet",preloadDomId:Q,sheetLabel:"Location Permission",closeType:"icon",
    historySupportEnabled:!1},ja=ua.create(ka)),e(),K(),q(x));g!==C&&g!==ia&&a.trigger("pom:country-change")}}),d())}function d(){"rtl"===n("html").attr("dir")&&n("#address-ui-widgets-pin-on-maps-mobile-skeleton-loading-container").addClass("address-ui-widgets-pin-on-maps-mobile-skeleton-loading-section-rtl-direction");n(".address-ui-widgets-pin-on-maps-mobile-map-container .H_l_right").css("bottom","calc(0% + "+(n(".address-ui-widgets-pin-on-maps-mobile-bottom-prompt-container").height()+25)+"px)");
    var a=Math.max(n(".address-ui-widgets-pin-on-maps-mobile-bottom-prompt-container-reverse-geocoding").height(),n(".address-ui-widgets-pin-on-maps-mobile-bottom-prompt-container").height());document.querySelector(":root").style.setProperty("--bottom-for-here-map-icons",a+25+"px");n(".address-ui-widgets-pin-on-maps-mobile-map-container .H_l_right").addClass("address-ui-widgets-pin-on-maps-mobile-dynamic-bottom-attribute-for-here-map-icons");"rtl"===n("html").attr("dir")?n(".address-ui-widgets-pin-on-maps-mobile-carousel-component-for-bottom-prompt .a-carousel-viewport .a-carousel").addClass("address-ui-widgets-pin-on-maps-mobile-carousel-component-for-bottom-prompt-for-right-direction"):
    n(".address-ui-widgets-pin-on-maps-mobile-carousel-component-for-bottom-prompt .a-carousel-viewport .a-carousel").addClass("address-ui-widgets-pin-on-maps-mobile-carousel-component-for-bottom-prompt-for-left-direction")}function f(){Ja.attr("data-a-secondary-view",function(){var a=Ja.attr("data-a-secondary-view"),a=JSON.parse(a);a.hideHeader=!!N;return JSON.stringify(a)})}function e(){function b(a){var c=[];a.forEach(function(a){var b=a.suggestedAddress;b!==C&&b.COUNTRY_CODE===ia&&(m=r(b),m.geoLocation=
    {},m.geoLocation.LATITUDE=a.geoLocation.latitude,m.geoLocation.LONGITUDE=a.geoLocation.longitude,c.push(m))});return c}function c(a){h.when("a-carousel-framework").execute("init-faster-executor",function(b){try{b.createAll();b.initializeAll();var c=b.getCarousel(l(Ea));c.gotoIndex(1);c.setAttr("set_size",a);y("PinOnMaps:InitializeCarouselForAddressSuggestionsSuccess")}catch(d){y("PinOnMaps:InitializeCarouselForAddressSuggestionsFailure")}})}function e(b,c){l(va+"-"+b+" #"+ib).unbind().click(function(){m=
    c[b-1];l(na).text(m.SINGLE_LINE_ADDRESS);for(var d in m)l(ca[ia][d]).val(m[d]);k();ta.hide();l(oa).val(m.geoLocation.LATITUDE);l(sa).val(m.geoLocation.LONGITUDE);a.trigger("pom:show-static-view",m.geoLocation);l(S).val("");L=!0;y("PinOnMaps:ClickedAddLocation:"+b);m?(d={AL1:0===m.ADDRESS_LINE_1.length?0:1,AL2:0===m.ADDRESS_LINE_2.length?0:1},d="PinOnMaps:ClickedAddLocation:AL1:"+d.AL1+":AL2:"+d.AL2):d="PinOnMaps:ClickedAddLocation";y(d)})}a.on("a:popover:beforeSlide:address-ui-widgets-pin-on-maps-mobile-secondary-view",
    function(a){N&&(n(".address-ui-widgets-pin-on-maps-mobile-search-widget").addClass("address-ui-widgets-pin-on-maps-mobile-search-widget-v2-mshop-T2"),n(".address-ui-widgets-pin-on-maps-mobile-alert").addClass("address-ui-widgets-pin-on-maps-mobile-alert-v2-mshop-T2"))});a.on("a:popover:visible:address-ui-widgets-pin-on-maps-mobile-secondary-view",function(b){"undefined"!==typeof pinOnMapsLoadingTimeout&&clearTimeout(pinOnMapsLoadingTimeout);l(ra).hide();l(ga).closest(".a-popover-secondary").attr("style",
    function(a,b){return(b||"")+"z-index: 450 !important;"});w();p||(a.trigger("pom:show-interactive-view",pa),p=!0)});a.on("pom:interactive-view-loaded",function(b){b||V||(N||lb?a.trigger("pom:location-permission-allow"):ua!==C&&(ua.showSheet(ja),l(cb).unbind().click(function(){ua.hideSheet(ja)}),l(P).unbind().click(function(){a.trigger("pom:location-permission-allow");ua.hideSheet(ja)})),V=!0,l(xa).hide());d()});a.on("pom:interactive-view-error",function(){l(xa).hide()});a.on("pom:address-fetching",
    function(){Y!==C&&1!==Y&&(y("PinOnMaps:IndexForSelectedAddressSuggestion:"+Y+":CardAbandonment:1"),Y=1);l(da).css("visibility","visible").show();l(Ea).hide();l(O).hide();l(W).hide();l(Da).css("visibility","visible").show();l(S).blur();d()});a.on("pom:address-fetching-error",B);a.on("pom:address-fetched",function(b,c){b!==C&&b.COUNTRY_CODE===ia?(m=r(b),l(da).css("visibility","visible").show(),l(O).css("visibility","visible").show(),l(W).hide(),l(Da).hide(),l(X).text(m.SINGLE_LINE_ADDRESS.substring(0,
    m.SINGLE_LINE_ADDRESS.indexOf(","))),l(T).text(m.SINGLE_LINE_ADDRESS.substring(m.SINGLE_LINE_ADDRESS.indexOf(",")+2)),l(ba).unbind().click(function(){l(na).text(m.SINGLE_LINE_ADDRESS);for(var b in m)l(ca[ia][b]).val(m[b]);k();ta.hide();l(oa).val(c.LATITUDE);l(sa).val(c.LONGITUDE);a.trigger("pom:show-static-view",c);l(S).val("");L=!0;y("PinOnMaps:ClickedAddLocation")})):B();d()});var f=[];a.on("pom:address-suggestions-fetched",function(a){y("PinOnMaps:numberOfAddressSuggestions:"+a.length);if(0>=a.length)B();
    else if(f=b(a),0<f.length){a=f;for(var v=1;v<=eb;v++)n("#"+(va+"-"+v))[0].parentElement.style.display="none",l(va+"-"+v).css("visibility","hidden").hide();for(v=1;v<=a.length;v++)m=a[v-1],n("#"+(va+"-"+v))[0].parentElement.style.display="inline-block",l(va+"-"+v).css("visibility","visible").show(),l(va+"-"+v+" #"+fb).css("visibility","visible").show(),l(va+"-"+v+" #"+gb).text(m.SINGLE_LINE_ADDRESS.substring(0,m.SINGLE_LINE_ADDRESS.indexOf(","))),l(va+"-"+v+" #"+hb).text(m.SINGLE_LINE_ADDRESS.substring(m.SINGLE_LINE_ADDRESS.indexOf(",")+
    2)),e(v,a);c(a.length);l(da).hide();l(O).css("visibility","visible").show();l(Ea).css("visibility","visible").show();l(Da).hide()}else B();d()});a.on("a:carousel:addressSuggestionsCarouselComponent:change:firstVisibleItem",function(b){Y=b.newValue;b.newValue<=f.length&&(y("PinOnMaps:IndexForSelectedAddressSuggestion:"+b.newValue+":CardAbandonment:0"),a.trigger("pom:selected-active-address-suggestion",f[b.newValue-1].geoLocation))});a.on("pom:show-static-view-error",function(){l(aa).hide()});a.on("pom:address-clear",
    function(){B();d()});a.on("pom:country-change",A,!0);a.on("pom:search-suggestion-selected",E);l("address-ui-widgets-enterAddressLine1").unbind().change(function(){a.trigger("pom:address-line1-modified")});l("address-ui-widgets-enter-building-name-or-number").unbind().change(function(){a.trigger("pom:building-name-or-number-modified")});a.declarative("form-submit-button-click","click",function(){a.trigger("pom:address-submit")});x();a.on("a:popover:afterHide:address-ui-widgets-pin-on-maps-mobile-secondary-view",
    function(b){y(L?"PinOnMaps:ClosedMapWithLocationSet":"PinOnMaps:ClosedMapWithoutLocationSet");a.trigger("pom:publish-map-tiles-metrics",L)});g()}function g(){if(t.ResizeObserver){var b=n("#"+db)[0],c=b.getBoundingClientRect().height,d=b.getBoundingClientRect().width;(new ResizeObserver(function(b){var e=b[0].contentRect.height;b=b[0].contentRect.width;(e>c||b>d)&&a.trigger("pom:map-widget-size-change");c=e;d=b})).observe(b)}}function x(){t.addEventListener("beforeunload",function(b){a.trigger("pom:address-form-departure")});
    (new MutationObserver(function(b,c){0<n("form#address-ui-checkout-form").length||0<n("form#address-ui-address-form").length||(a.trigger("pom:address-form-departure"),c.disconnect())})).observe(document.querySelector("body"),{childList:!0,subtree:!0})}function K(){l(Z).unbind().click(function(){a.trigger("pom:address-clear");L&&A(!0)});l(U).unbind().click(function(a){a.preventDefault();y("PinOnMaps:ClickedEditLocation");ta.show()});l(la).unbind().click(function(){L&&A(!1);y("PinOnMaps:ClickedEnterAddressManually");
    a.trigger("pom:enter-address-manually");ta.hide()});l(ma).unbind().click(function(){L&&A(!0);a.trigger("pom:enter-address-manually");y("PinOnMaps:ClickedEnterAddressManually");ta.hide()});l(qa).unbind().click(function(a){a.preventDefault();y("PinOnMaps:ClickedAddLocationOnMap");ta.show()});l(aa).unbind().click(function(a){a.preventDefault();y("PinOnMaps:ClickedEditLocation");ta.show()});l(v).unbind().click(function(){l(S).val("").blur();E()});l(S).keyup(E);l(S).change(E);l(S).keypress(function(a){13===
    a.which&&D()})}function q(b){if("undefined"===typeof c)var c=!1;var d=l(oa),e=l(sa);d.val(b.previousLatitude);e.val(b.previousLongitude);Qa=b.isEditAddressFlow;J();""!==d.val()&&""!==e.val()?(pa={LATITUDE:d.val(),LONGITUDE:e.val()},m=r({CITY:l("address-ui-widgets-enterAddressCity").val(),ADDRESS_LINE_1:l("address-ui-widgets-enterAddressLine1").val(),ADDRESS_LINE_2:l("address-ui-widgets-enter-building-name-or-number").val(),STATE:l("address-ui-widgets-enterAddressStateOrRegion").val(),DISTRICT_OR_COUNTY:l("address-ui-widgets-enterAddressDistrictOrCounty").val(),
    COUNTRY_CODE:ia}),l(na).text(m.SINGLE_LINE_ADDRESS),a.trigger("pom:address-fetched",m,pa),L=!0,k(),w(),a.trigger("pom:show-static-view",pa)):Qa||z()?w():c?(l(R).hide(),w()):ta.disableAnimation?setTimeout(function(){ta.show()},300):ta.show()}function r(a){var b="",c={},d;for(d in ca[ia])a[d]!==C&&""!==a[d]?(b+=a[d]+", ",c[d]=a[d]):c[d]="";c.SINGLE_LINE_ADDRESS=b.substring(0,b.length-2);c.COUNTRY_CODE=a.COUNTRY_CODE;return c}function w(){l(Ia).hide()}function k(){for(var a in ca[ia])if("ADDRESS_LINE_1"!==
    a&&"ADDRESS_LINE_2"!==a){var b=l(ca[ia][a]);b.closest(".addrui-form-text-input-container").show();""!==b.val()&&b.closest(".addrui-form-text-input-container").hide()}l(ea).hide();l(R).removeClass("aok-hidden").show()}function A(a){"undefined"===typeof a&&(a=!1);L=!1;l(S).val("");l(oa).val("");l(sa).val("");l(na).text("");if(a)for(var b in ca[ia])l(ca[ia][b]).val("").closest(".addrui-form-text-input-container").show();else for(b in ca[ia])l(ca[ia][b]).closest(".addrui-form-text-input-container").show();
    l(ea).show();l(R).hide()}function B(){l(O).hide();l(Ea).hide();l(da).hide();l(Da).hide()}function l(a){return n("#"+a)}function y(a){t.ue&&t.ue.count&&(t.ue.count(a,(t.ue.count(a)||0)+1),Ka&&(a=a+":"+Ka,t.ue.count(a,(t.ue.count(a)||0)+1)))}function z(){var a=l("address-ui-widgets-enterAddressFormContainer").find(".a-alert-inline-error").not(".aok-hidden").not(":hidden"),b=l("address-ui-widgets-enterAddressFormContainer").find(".a-alert-inline-warning").not(".aok-hidden").not(":hidden");return 0!==
    a.size()||0!==b.size()}function D(){t.currentlyFetchingSuggestions?(a.on("pom:search-suggestions-retrieved",function(){a.off("pom:search-suggestions-retrieved");a.off("pom:search-suggestions-failed");u()}),a.on("pom:search-suggestions-failed",function(){a.off("pom:search-suggestions-retrieved");a.off("pom:search-suggestions-failed")})):u()}function u(){l("autoComplete_result_0").is(":hidden")||l("autoComplete_result_0").click()}function E(){""===l(S).val()?l(v).hide():l(v).removeClass("aok-hidden").show()}
    function J(){G();if(0===wa&&"undefined"!==typeof t.mapLoadStartTime&&!Qa)a.one("a:popover:visible:address-ui-widgets-pin-on-maps-mobile-secondary-view",function(){stopInitialSecondaryViewLoading||(wa=(new Date).getTime()-t.mapLoadStartTime,H())});ha++;H()}function G(){var a=n('input[name\x3d"address-ui-widgets-pin-on-maps-hidden-input-metrics-map"]').val();if(a){var b;try{b=JSON.parse(a)}catch(c){b={timeTakenToLoadMap:0,numberOfSubmitsBeforeSave:0}}wa=b.timeTakenToLoadMap;ha=b.numberOfSubmitsBeforeSave}}
    function H(){var a=JSON.stringify({timeTakenToLoadMap:wa,numberOfSubmitsBeforeSave:ha});n('input[name\x3d"address-ui-widgets-pin-on-maps-hidden-input-metrics-map"]').val(a)}var n=a.$,L=V=!1,m={},p=!1,N=a.capabilities.isAmazonApp||ya(),lb=a.capabilities.tablet,ha=0,wa=0,Y,ca={AE:{ADDRESS_LINE_2:"address-ui-widgets-enter-building-name-or-number",ADDRESS_LINE_1:"address-ui-widgets-enterAddressLine1",CITY:"address-ui-widgets-enterAddressCity",DISTRICT_OR_COUNTY:"address-ui-widgets-enterAddressDistrictOrCounty"},
    SA:{ADDRESS_LINE_2:"address-ui-widgets-enter-building-name-or-number",ADDRESS_LINE_1:"address-ui-widgets-enterAddressLine1",CITY:"address-ui-widgets-enterAddressCity",DISTRICT_OR_COUNTY:"address-ui-widgets-enterAddressDistrictOrCounty",STATE:"address-ui-widgets-enterAddressStateOrRegion"},EG:{ADDRESS_LINE_2:"address-ui-widgets-enter-building-name-or-number",ADDRESS_LINE_1:"address-ui-widgets-enterAddressLine1",CITY:"address-ui-widgets-enterAddressCity",DISTRICT_OR_COUNTY:"address-ui-widgets-enterAddressDistrictOrCounty",
    STATE:"address-ui-widgets-enterAddressStateOrRegion"}},xa,fa,O,W,X,T,ba,Z,v,S,ea,qa,la,ma,Ia,R,na,aa,ra,oa,sa,U,ga,ua,Q,P,cb,db,Ja,ta,Qa,ia,Ka,V,L,m,p,ka,ja,pa,da,Da,eb,Ea,va,fb,gb,hb,ib;a.on("ajax_reload",function(b){n=a.$;c(b)});a.on("popover-interacted",function(a){n=I(n,a);M(c,a)});a.on("address-form-load",function(b){n=a.$;c(b)})});h.when("A","a-secondary-view","ready").register("pom:functions",function(a,b){function c(){q=h("#address-ui-widgets-pin-on-maps-mobile-secondary-view-declarative-action");
    r=b.get(q);m=h("#address-ui-widgets-pin-on-maps-mobile-address-form-component-container");k=h("#address-ui-widgets-pin-on-maps-mobile-address-form-add-on-map");A=h("#address-ui-widgets-pin-on-maps-mobile-address-form-add-on-map-link");B=h("#address-ui-widgets-pin-on-maps-mobile-address-form-inline-alert");l=h("#address-ui-widgets-pin-on-maps-mobile-address-form-static-map-section");y=h("#address-ui-widgets-pin-on-maps-mobile-address-form-fetched-address");z=h("#address-ui-widgets-pin-on-maps-mobile-address-form-edit-address-link");
    D=h("#address-ui-widgets-pin-on-maps-mobile-address-form-static-map-image-container");u=h("#address-ui-widgets-pin-on-maps-hidden-input-selected-latitude");E=h("#address-ui-widgets-pin-on-maps-hidden-input-selected-longitude");J=h("#address-ui-widgets-pin-on-maps-hidden-input-should-show-map");G=h("#address-ui-widgets-pin-on-maps-mobile-address-form-cover")}function d(){return null!==J&&"true"===J.val()}function f(){null!==r&&r.show()}function e(a,b){return h("*["+a+'\x3d"'+b+'"]')}function g(a){"undefined"!==
    typeof a&&"function"===typeof a.toggleClass&&(a.toggleClass("address-ui-widgets-pom-autofill-hidden",!0),a.toggleClass("aok-hidden",!0))}function x(a){"undefined"!==typeof a&&"function"===typeof a.toggleClass&&(a.toggleClass("address-ui-widgets-pom-autofill-hidden",!1),a.toggleClass("aok-hidden",!1))}var h=a.$,q,r,m,k,A,B,l,y,z,D,u,E,J,G,H=a.capabilities.isAmazonApp||ya();c();a.on("ajax_reload",function(b){h=a.$;c(b)});a.on("popover-interacted",function(a){h=I(h,a);M(c,a)});a.on("address-form-load",
    function(b){h=a.$;c(b)});return{endLoadingWithSuccessState:function(){"undefined"!==typeof pinOnMapsLoadingTimeout&&clearTimeout(pinOnMapsLoadingTimeout);g(B);g(G)},endLoadingWithFailureState:function(){"undefined"!==typeof pinOnMapsLoadingTimeout&&clearTimeout(pinOnMapsLoadingTimeout);g(G);g(k);x(B)},fillAndConcealFields:function(a){if("object"==typeof a)for(var b in a)if("GEOCODE"!==b){var c=e("data-pom-autofill-mapping",b);c.children(":input").val(a[b]);"true"===c.attr("data-pom-autofill-hide")&&
    g(c);"true"===c.attr("data-pom-autofill-disable")&&"undefined"!==typeof c&&"function"===typeof c.toggleClass&&c.toggleClass("address-ui-widgets-pom-autofill-disabled",!0)}},resetConcealedFields:function(){var a=e("data-pom-autofill-hide","true"),b=e("data-pom-autofill-disable","true");x(a);"undefined"!==typeof b&&"function"===typeof b.toggleClass&&b.toggleClass("address-ui-widgets-pom-autofill-disabled",!1)},showStaticMapSection:function(b){k.toggleClass("aok-hidden",!0);l.toggleClass("aok-hidden",
    !1);var c=b.SINGLE_LINE_ADDRESS;"undefined"!==typeof c&&y.text(c);b=b.GEOCODE;"undefined"!==typeof b&&a.trigger("pom:show-static-view",b,"address-ui-widgets-pin-on-maps-mobile-address-form-static-map-image-container")},hideStaticMapSection:function(){l.toggleClass("aok-hidden",!0);k.toggleClass("aok-hidden",!1);y.text("")},geocodeExist:function(){return"undefined"!==typeof u.val()&&"undefined"!==typeof E.val()&&""!==u.val()&&""!==E.val()},setGeocode:function(a){"undefined"!==typeof a&&(u.val(a.LATITUDE),
    E.val(a.LONGITUDE))},getGeocode:function(){return{LATITUDE:u.val(),LONGITUDE:E.val()}},clearGeocode:function(){u.val("");E.val("")},shouldShowMapOnPageLoad:d,setSecondaryViewFirstOpenBehavior:function(b,c){a.one("a:popover:visible:address-ui-widgets-pin-on-maps-mobile-secondary-view",function(){a.trigger("pom:setup-interactive-map",b,c);p(d()?"PinOnMaps:PinOnMapsWidgetsService:ClickedAddLocation":"PinOnMaps:PinOnMapsWidgetsService:ClickedEditLocation")})},toggleAddressFormComponent:function(){null!==
    r&&m.toggleClass("aok-hidden",!1)},openSecondaryView:f,closeSecondaryView:function(){null!==r&&r.hide()},getAddressObjectFromCurrentFields:function(){var a={ADDRESS_LINE_1:e("data-pom-autofill-mapping","ADDRESS_LINE_1").children(":input").val()||"",ADDRESS_LINE_2:e("data-pom-autofill-mapping","ADDRESS_LINE_2").children(":input").val()||"",CITY:e("data-pom-autofill-mapping","CITY").children(":input").val()||"",DISTRICT_OR_COUNTY:e("data-pom-autofill-mapping","DISTRICT_OR_COUNTY").children(":input").val()||
    "",STATE:e("data-pom-autofill-mapping","STATE").children(":input").val()||"",GEOCODE:{LATITUDE:u.val(),LONGITUDE:E.val()}},b;b=""+(""===a.ADDRESS_LINE_2?"":a.ADDRESS_LINE_2+", ");b+=""===a.ADDRESS_LINE_1?"":a.ADDRESS_LINE_1+", ";b+=""===a.CITY?"":a.CITY+", ";b+=""===a.DISTRICT_OR_COUNTY?"":a.DISTRICT_OR_COUNTY+", ";b+=""===a.STATE?"":a.STATE;a.SINGLE_LINE_ADDRESS=b;return a},addClickListenersToStaticSectionComponents:function(){A.click(f);D.click(f);z.click(f)},hideSecondaryViewHeaderOnMShop:function(){q.attr("data-a-secondary-view",
    function(){var a=q.attr("data-a-secondary-view"),a=JSON.parse(a);a.hideHeader=!!H;return JSON.stringify(a)})},focusFirstMissingFieldOnMapClose:function(){a.one("a:popover:invisible:address-ui-widgets-pin-on-maps-mobile-secondary-view",function(){try{for(var a=h(".addrui-form-text-input-container").not(".aok-hidden"),b=0;b<a.length;b++)if("undefined"!==typeof a[b].firstChild&&"address-ui-widgets-enterAddressFullName"!==a[b].firstChild.id&&""===a[b].firstChild.value&&"function"===typeof a[b].firstChild.focus){a[b].firstChild.focus();
    break}}catch(c){}})}}});h.when("A","ready").execute(function(a){function b(){h.when("pom:functions","pom:ajax-helper","pom:ready").execute(function(b,f){e=b;g=f;try{e.hideSecondaryViewHeaderOnMShop();e.toggleAddressFormComponent();if(e.geocodeExist()){var h=e.getGeocode(),r=e.getAddressObjectFromCurrentFields();e.fillAndConcealFields(r);e.showStaticMapSection(r);e.setSecondaryViewFirstOpenBehavior(g.ajax,h)}else e.setSecondaryViewFirstOpenBehavior(g.ajax);e.shouldShowMapOnPageLoad()&&e.openSecondaryView();
    e.addClickListenersToStaticSectionComponents();e.endLoadingWithSuccessState()}catch(m){e.endLoadingWithFailureState(),p("PinOnMaps:PinOnMapsWidgetsService:FailedToSetupPomStartupBehavior")}a.on("pom:address-selected",c);a.on("pom:enter-address-manually",d)})}function c(a){try{e.fillAndConcealFields(a),e.showStaticMapSection(a),e.setGeocode(a.GEOCODE),e.focusFirstMissingFieldOnMapClose(),e.closeSecondaryView(),p("PinOnMaps:PinOnMapsWidgetsService:ClosedMapWithLocationSet")}catch(b){p("PinOnMaps:PinOnMapsWidgetsService:FailedToAutofillPomAddress")}}
    function d(){try{e.resetConcealedFields(),e.hideStaticMapSection(),e.clearGeocode(),e.closeSecondaryView(),p("PinOnMaps:PinOnMapsWidgetsService:ClosedMapWithoutLocationSet")}catch(a){p("PinOnMaps:PinOnMapsWidgetsService:FailedToClearPomAddress")}}var f=a.$,e,g;a.on("ajax_reload",function(c){f=a.$;b(c)});a.on("popover-interacted",function(a){f=I(f,a);M(b,a)});a.on("address-form-load",function(c){f=a.$;b(c)})});h.when("A","ready").execute("client-event-handler-executor",function(a){a.declarative("addrui-widgets-addr-suggestion-edit-button-action",
    ["click"],function(){a.trigger("addrui-widgets-addr-suggestion-event-edit-button-clicked")})});h.when("A","address-ui-widgets-service-old-aui-missing-functions","a-dropdown","a-alert","numeric-postal-code-keypad-customizations","ajax-call-module","ready").execute("reload-address-form-on-country-switch-executor",function(a,b,c,d,f,e){function g(e){h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!=C||(d=b.alertFunction,c.getSelect=b.dropdownGetSelectFunction,a.state.parse=b.stateParsingFunction);a.state.parse();
    m(e);!a.state("identity-address-ux-ajax-data")||a.isListening&&a.isListening("a:dropdown:selected:address-ui-widgets-countryCode")||(a.off("a:dropdown:selected:address-ui-widgets-countryCode"),e=c.getSelect(k("#address-ui-widgets-countryCode-dropdown-nativeId")),r(e)||(a.on("a:dropdown:selected:address-ui-widgets-countryCode",function(a){m(a);w(a.value)}),a.on("current-location-detection-country-switch",function(a,b,c){w(a,b,c)})))}function x(a){d("#address-ui-widgets-addr-form-switch-alert-box").show();
    p("AddressFormReloadFailure");c.getSelect(k("#address-ui-widgets-countryCode-dropdown-nativeId")).val(a)}function m(b){if("T1"===F(a,"A2I_ARX_CSDV_COUNTRY_DROPDOWN_WITH_FLAG_742851","C")&&a.state("address-ui-widgets-from-view-state")){b=c.getSelect("address-ui-widgets-countryCode-dropdown-nativeId").val();k("#country-dropdown-flag").length||k('\x3cspan id\x3d"country-dropdown-flag" class\x3d"flag"\x3e\x3ci\x3e\x3c/i\x3e\x3c/span\x3e').prependTo("#address-ui-widgets-countryCode .a-declarative");var d=
    k("#country-dropdown-flag").data("country");d!==b&&(d&&k("#country-dropdown-flag").removeClass("address-ui-widgets-flags-sprite address-ui-widgets-flags-"+d),k("#country-dropdown-flag").addClass("address-ui-widgets-flags-sprite address-ui-widgets-flags-"+b),k("#country-dropdown-flag").data("country",b))}}function q(b,c){var d="OTH";(b=a.state(b))&&(c=b[c])&&(d=c);return d}function r(a){if(!a)return!0}function w(b,g,h){p("AddressFormCountryDropdownChange");var m=c.getSelect(k("#address-ui-widgets-countryCode-dropdown-nativeId")).val(),
    z={operation:"AddressFormCountrySwitch",data:{"address-ui-widgets-countryCode":b,"address-ui-widgets-addressFormButtonText":k("input[name\x3d'address-ui-widgets-addressFormButtonText']").val(),"address-ui-widgets-addressFormHideHeading":k("input[name\x3d'address-ui-widgets-addressFormHideHeading']").val(),"previous-value-address-ui-widgets-countryCode":k("input[name\x3d'previous-value-address-ui-widgets-countryCode']").val(),"address-ui-widgets-enableAddressDetails":k("input[name\x3d'address-ui-widgets-enableAddressDetails']").val(),
    "address-ui-widgets-enableDeliveryInstructions":k("input[name\x3d'address-ui-widgets-enableDeliveryInstructions").val(),"address-ui-widgets-enableEmailAddress":k("input[name\x3d'address-ui-widgets-enableEmailAddress']").val(),"address-ui-widgets-enableAddressTips":k("input[name\x3d'address-ui-widgets-enableAddressTips']").val(),"address-ui-widgets-enableAddressWizardForm":k("input[name\x3d'address-ui-widgets-enableAddressWizardForm").val(),"address-ui-widgets-clientName":k("input[name\x3d'address-ui-widgets-clientName']").val(),
    "address-ui-widgets-address-wizard-interaction-id":k("input[name\x3d'address-ui-widgets-address-wizard-interaction-id").val(),"address-ui-widgets-returnLegacyAddressID":k("input[name\x3d'address-ui-widgets-returnLegacyAddressID']").val(),"address-ui-widgets-addressFormHideSubmitButton":k("input[name\x3d'address-ui-widgets-addressFormHideSubmitButton']").val(),"address-ui-widgets-previous-address-form-state":k("input[name\x3d'address-ui-widgets-previous-address-form-state']").val(),"address-ui-widgets-previous-address-form-state-token":k("input[name\x3d'address-ui-widgets-previous-address-form-state-token").val()}},
    D=k("input[name\x3d'address-ui-widgets-original-address-id']");r(D)||(z.data["address-ui-widgets-original-address-id"]=D.val());t.uet&&"function"===typeof t.uet&&(t.uet("tc","AUIWS-addressCountrySwitchForm",{wb:1}),t.uet("bb","AUIWS-addressCountrySwitchForm",{wb:1}));t.ues&&"function"===typeof t.ues&&t.ues("t0","AUIWS-addressCountrySwitchForm",new Date);e.auiwsPerformAjaxCall(z).then(function(e){if(r(e)||r(e.data))x(m);else{e=e.data;var D;D=k(e.addressFormHTML);D=D[0];var z=D.getElementsByClassName("adddress-ui-widgets-form-2-field-container");
    "MX"==b&&z&&0<z.length&&-1==z[0].firstElementChild.className.indexOf("mobile")&&(z[0].firstElementChild.style.width="100%",z[0].children[1].style.paddingTop="4px");D=D.outerHTML;"false"===e.isAjaxError?(k(Fa("address-ui-widgets-enterAddressFormContainer")).replaceWith(D),t.uet&&"function"===typeof t.uet&&t.uet("af","AUIWS-addressCountrySwitchForm",{wb:1}),d("#address-ui-widgets-addr-form-switch-alert-box").hide(),null!=c.getSelect(k("#address-ui-widgets-addr-details-address-type-dropdown-nativeId"))&&
    c.getSelect(k("#address-ui-widgets-addr-details-address-type-dropdown-nativeId")).val(q("addressTypeDropdownDefault","addressTypeDropdownDefaultValue")),null!=c.getSelect(k("#address-ui-widgets-addr-details-business-hours-dropdown-nativeId"))&&c.getSelect(k("#address-ui-widgets-addr-details-business-hours-dropdown-nativeId")).val(q("businessHoursDropdownDefault","businessHoursDropdownDefaultValue")),m=b,g&&h&&g(h,b),a.trigger("ajax_reload",b),t.uex&&"function"===typeof t.uex&&t.uex("ld","AUIWS-addressCountrySwitchForm",
    {wb:1})):x(m);f.setupNumericPostalCodeField()}}).catch(function(){x(m)})}var k=a.$;a.on("ajax_reload",function(b){k=a.$;g(b)});a.on("popover-interacted",function(a){k=I(k,a);M(g,a)});a.on("address-form-load",function(b){k=a.$;g(b);f.setupNumericPostalCodeField()});h.register("js-parsed",function(){var a={"form-loaded":"true"};return{get:function(b){return a[b]}}})});h.when("A","address-ui-widgets-service-old-aui-missing-functions","ready").execute("cn-field-truncation-executor",function(a,b){function c(c){h.AUI_BUILD_DATE&&
    h.AUI_BUILD_DATE!=C||(a.state.parse=b.stateParsingFunction);a.state.parse();a.state("address-ui-widgets-from-view-state")&&c&&"CN"==c&&(c=a.state("address-ui-widgets-from-view-state")["marketplace-code"])&&"CN"==c&&(d('input[name\x3d"address-ui-widgets-enterAddressLine1"]').attr("maxlength","60"),d('input[name\x3d"address-ui-widgets-enterAddressLine2"]').attr("maxlength","60"),d('input[name^\x3d"address-ui-widgets-enterAddressLine"]').change(function(a){a=d(this).val();60<Va(a)&&d(this).val(kb(a))}))}
    var d=a.$;a.on("ajax_reload",function(b){d=a.$;c(b)});a.on("popover-interacted",function(a){d=I(d,a);M(c,a)});a.on("address-form-load",function(b){d=a.$;c(b)})});h.when("A","address-ui-widgets-service-old-aui-missing-functions","ready").execute("store-address-map-popup-executor",function(a,b){h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!=C||(a.state.parse=b.stateParsingFunction);b=a.$;a.state.parse();var c=a.state("address-ui-widgets-store-map-text-id");b(".address-ui-widgets-map-link").click(function(a){a.preventDefault();
    t.open(this.href,c.address_ui_widgets_store_address_map_header,"width\x3d600,height\x3d450")})});h.when("A","address-ui-widgets-service-old-aui-missing-functions","a-dropdown","ready").execute("cn-provinces-dropdown-executor",function(a,b,c){function d(d){h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!=C||(c.getSelect=b.dropdownGetSelectFunction,a.state.parse=b.stateParsingFunction);a.state.parse();a.state("address-ui-widgets-from-view-state")&&d&&"CN"==d&&(d=a.state("address-ui-widgets-from-view-state")["marketplace-code"])&&
    "CN"==d&&(m=a.state("cn-addr-form-chinaProvinceData"),q=m.provinceCityMap,r=m.provinceCityDistrictMap,w=c.getSelect(x("#address-ui-widgets-enterAddressStateOrRegion-dropdown-nativeId")),k=c.getSelect(x("#address-ui-widgets-enterAddressCity-dropdown-nativeId")),A=c.getSelect(x("#address-ui-widgets-enterAddressDistrictOrCounty-dropdown-nativeId")),t=w.val(),l=k.val(),y=A.val(),""===t?k.update({status:"disabled"}):f(),""===l?A.update({status:"disabled"}):e(),a.on("a:dropdown:selected:address-ui-widgets-enterAddressStateOrRegion",
    function(a){g&&(A.update({status:"disabled"}),t=a.value,f(),e())}),a.on("a:dropdown:selected:address-ui-widgets-enterAddressCity",function(a){g&&(l=a.value,e())}))}function f(){k.removeOptions();var a=q[t];a&&(1===a.length?(l=a[0],k.addOption({text:l,value:l}),A.update({status:"normal"})):a.forEach(function(a,b,c){k.addOption({text:a,value:a})}),k.setValue(l),k.update({status:"normal"}))}function e(){A.removeOptions();var a=r[t];a&&(a=a[l])&&(a.forEach(function(a,b,c){A.addOption({text:a,value:a})}),
    A.setValue(y),A.update({status:"normal"}))}function g(){return"CN"===c.getSelect(x("#address-ui-widgets-countryCode-dropdown-nativeId")).val()}var x=a.$,m,q,r,w,k,A,t,l,y;a.on("ajax_reload",function(b){x=a.$;d(b)});a.on("popover-interacted",function(a){x=I(x,a);M(d,a)});a.on("address-form-load",function(b){x=a.$;d(b)})});h.when("A","address-ui-widgets-service-old-aui-missing-functions","a-alert","ready").execute("tax-id-validation-executor",function(a,b,c){function d(){var a=e.val(),b=f["address-ui-widgets-taxId"],
    c;b&&(c=b.formatRegex);c&&a&&(a.match(new RegExp(c))?g.hide():g.show())}h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!=C||(c=b.alertFunction,a.state.parse=b.stateParsingFunction);b=a.$;a.state.parse();var f=a.state("address-ui-widgets-form-client-side-validations");a=b("#address-ui-widgets-enterAddressFormContainer");var e;a&&(e=a.find("input[name\x3d'address-ui-widgets-taxId']"));var g=c("#address-ui-widgets-addr-form-tax-id-inline-alert");f&&e&&g&&e.change(d)});var mb=function(){function a(a,b){if(b){b=m.replaceNoise(m.normalize(b,
    v));for(var c in la)if(la[c][a]!==C&&m.replaceNoise(m.normalize(la[c][a],v))===b)return c}return-1}function b(a){a.bind("keypress",function(a){if(13==a.keyCode)return!1})}function c(c){c.attr("autocomplete",c.attr("id"));b(c);c.blur(function(b){var c=$(this),d=E(c.attr("id"));if(0===$(".autoOp:hover").length&&(t.ue&&t.ue.count&&t.ue.count("AISS_Suggestion_Accepted_"+d+"_"),T("AISS_Suggestion_Accepted_"+d+"_",0),T("AISS_Keystrokes_"+d+"_",V),V=0,ca(d,"MANUAL",-1),$(this).siblings("ul").remove(),na=
    !1,$(b.target).parent().css("z-index",1),aa=-1,b=$(this).val(),m.isAutoSuggestionEnabled(v))){var e=a(d,b);if(-1!==e){if(c.val(la[e][d]),la[e][d]!=ra[d]&&(q(c,e),l(c)),U[d]!==C&&b)U[d](!1,d)}else{if(d&&U[d])U[d](!1,d);e=Q.shouldCheckPreviousAddressFieldValue?b!=ra[d]:!0;e&&k(c);c=Q.allowInvalidInput&&Q.allowInvalidInput.includes(d);if(U[d]!==C&&b&&!c)U[d](!0,d);ra[d]=b}}});c.parent().unbind("click").click(function(a){var b;if($(a.target).is("li")||$(a.target).is("b")||$(a.target).is("i")){if(a=$(a.target).is("b")?
    $(a.target).parent():$(a.target).is("i")?$(a.target).parent().parent():$(a.target),b=a.parent().siblings("input"),a=a.index(),Y(b.attr("id"),a),b.parent().find("ul").remove(),q(b,a),na=!1,b.parent().css("z-index",1),b=E(c.attr("id")),U[b]!==C)U[b](!1,b)}else b=$(a.target),Q.canAcceptEmptyField?d(b,a):""===b.val()&&b.val("")});c.keyup(function(a){V+=1;var b=$(a.target),c=b.parent().find("ul"),e=b.val(),f=a.keyCode;(13===f||38===f||40===f)&&0<b.parent().find("ul li").length?b.navigate(c,f,a):(c.scrollTop(0),
    aa=-1,0<e.length||0===e.length&&Q.canAcceptEmptyField?d(b,a):na&&g(b,c))})}function d(a,b){S=[];J(a,G);R=S;var c=a.parent().find("ul");0<R.length?(!1===na?(a.after('\x3cul class\x3d"autoCompleteResult autoCompleteScroll"\x3e\x3c/ul\x3e'),a.parent().find("ul").width(a.outerWidth()),na=!0,$(b.target).parent().css("z-index",100)):(a.parent().find("ul").empty(),a.parent().find("ul").removeClass("autoCompleteScroll")),$.each(R,function(b,c){a.parent().find("ul").addClass("autoCompleteScroll");a.parent().find("ul").append('\x3cli class\x3d"autoOp"\x3e'+
    c+"\x3c/li\x3e")}),0<R.length&&4>R.length?a.parent().find("ul").height(a.parent().find("ul li").eq(0).outerHeight()*R.length):a.parent().find("ul").height(4*a.parent().find("ul li").eq(0).outerHeight()),$(b.target).trigger("InlineSuggestionsShow")):na&&g(a,c)}function f(){if("BR"===v){var a=P.zip;a.val()&&J(a,function(a){var b=!1;a&&"responseCode"in a?(a=a.responseCode,a!=m.RESPONSE.SUCCESS&&a!=m.RESPONSE.INVALID_POSTAL_CODE&&(b=!0)):b=!0;if(b){var b=Q.autoDisableMap.onPluginLoad,c;for(c in b)w(P[b[c]])}})}Ia.includes(v)&&
    Q.autoFillSuggestionsAndEnableMap&&(ma=0,e())}function e(){var b=Object.keys(Q.autoFillSuggestionsAndEnableMap.onAcceptSuggestion),c=Object.values(Q.autoFillSuggestionsAndEnableMap.onAcceptSuggestion);ma<b.length&&(P[c[ma]].hasClass("autoCompleteDisabled")?(b=P[b[ma]],""!==b.val()?(b=H(b),m.getSuggestions(b,function(b){var c=Object.keys(Q.autoFillSuggestionsAndEnableMap.onAcceptSuggestion),d=c[ma],f=P[d];if(f!==C){var v=E(f.attr("id")),f=f.val();if(b.responseCode==m.RESPONSE.SUCCESS){if((b=b.addressSuggestions)||
    (b=[]),u(b),S=n(b),-1!==a(v,f))for(d=Object.values(Q.autoFillSuggestionsAndEnableMap.onAcceptSuggestion[d]),v=0;v<d.length;v++)w(P[d[v]]),ma++,c[ma]!==C&&e()}else b.responseCode==m.RESPONSE.TIMEOUT&&ha(!0)}})):J(b,D)):(ma++,e()))}function g(a,b){a.parent().find("ul").remove();b.remove();aa=-1;na=!1;a.parent().css("z-index",1)}function x(a,b){b.eq(0).addClass("autoCompleteSelected");a.scrollTop(0);return 0}function K(a,b){aa=b.length-1;b.eq(aa).addClass("autoCompleteSelected");b=b.length*a.find("li").outerHeight();
    a.scrollTop(b);return aa}function q(a,b){if(m.isAutoSuggestionEnabled(v)){var c=E(a.attr("id")),c=ra[c];if(b=la[b]){for(var d in P)if(d in b){var e=P[d],f=b[d];""!==f?a.is("input")?z(e,d,f):(xa(a),O(f,e),fa(f,e)):e.is("input")?z(e,d,""):(xa(e),W(e))}d=a.val();c!=d&&l(a)}}}function r(a){a.attr("readonly","readonly");a.addClass("autoCompleteDisabled");a.attr("tabindex","-1");$("label[for\x3d'"+a.attr("id")+"']").addClass("autoCompleteTextLabelDisabled")}function w(a){a.removeAttr("readonly");a.removeClass("autoCompleteDisabled");
    a.removeAttr("tabindex");$("label[for\x3d'"+a.attr("id")+"']").removeClass("autoCompleteTextLabelDisabled")}function k(a){y("autoDisableMap","onInvalidContent",a,function(a){r(a);var b=E(a.attr("id"));z(a,b,"");if(U[b]!==C)U[b](!1,b)});A(a)}function A(a){p(a,"onInvalidContent")}function p(a,b){y("autoClearMap",b,a,function(a){z(a,E(a.attr("id")),"")})}function l(a){y("autoClearMap","onAcceptSuggestion",a,function(a){z(a,E(a.attr("id")),"")});y("autoDisableMap","onAcceptSuggestion",a,function(a){r(a)});
    y("autoFillSuggestionsAndEnableMap","onAcceptSuggestion",a,function(a){w(a);J(a,function(b){Q=ua[v];Q.autoSelectDependentFields&&b.responseCode===m.RESPONSE.SUCCESS&&(b=b.addressSuggestions)&&1===b.length&&(u(b),q(a,0))})})}function y(a,b,c,d){c=E(c.attr("id"));if((a=Q[a])&&b in a&&(b=a[b][c],"undefined"!=typeof b))for(var e in b)d(P[b[e]])}function z(a,b,c){"true"!==$("input[name\x3d'address-ui-widgets-enableLatestAddressWizardForm']").val()||"state"!==b||"SA"!==v&&"EG"!==v?a.val(c):fa(c,a);ra[b]=
    c;a.trigger("input")}function D(){}function u(a){if(a){la=[];for(var b=0;b<a.length;b++)la.push(a[b].suggestedPlace)}}function E(a){for(var b in ba)if(ba[b]===a)return b}function J(a,b){a=H(a);ea.reject();ea=Oa();m.getSuggestions(a,function(a){ea.resolve(a)});return ea.promise().then(b,D)}function G(a){a.responseCode==m.RESPONSE.SUCCESS?((a=a.addressSuggestions)||(a=[]),u(a),S=n(a)):a.responseCode==m.RESPONSE.TIMEOUT&&ha(!0)}function H(a){var b=E(a.attr("id"));a={};var c={},d;for(d in ba)c[d]=P[d].val();
    c.countryCode=v;a.addressObject=c;a.addressField=b;d=v&&qa.includes(v)?500:10;a.numSuggestions=d;return a}function n(a){if(a){for(var b=[],c=0;c<a.length;c++){var d=a[c].displayData,e;e=d.matchedMap;for(var d=d.displayString,f=0;f<e.length;f++)for(var v=e[f][0],k=e[f][1],d=d.substring(0,v)+"\x3cb\x3e"+d.substring(v,k)+"\x3c/b\x3e"+d.substring(k,d.length),v=f+1;v<e.length;v++)e[v][0]+=7,e[v][1]+=7;(e=d)&&b.push(e)}return b}}function L(a){a.attr("autocomplete","off");a.blur(function(){var b=a.val();
    b!=ra.zip&&(I(a),wa(),J(a,N));ra.zip=b})}function F(a,b){a.attr("autocomplete","off");b.click(function(b){b.preventDefault();M(!1);ha(!1);I(a);wa();J(a,N)})}function I(a){if("BR"===v){var b=a.val().replace("-","");a.val(b)}}function N(a){var b=P.zip;if(a.responseCode==m.RESPONSE.SUCCESS){wa();(a=a.autofillObject)||(a={});p(b,"onAcceptSuggestion");var b=a,c;for(c in b){a=P[c];var d=b[c];if(""!==d)if(1<d.length)if(T("AISS_Autofill_"+c+"_",0),a.is("input"))z(a,E(a.attr("id")),"");else{xa(a);for(var e=
    0;e<d.length;e++)O(d[e],a)}else T("AISS_Autofill_"+c+"_",100),a.is("input")?z(a,E(a.attr("id")),d[0]):(xa(a),O(d[0],a),fa(d[0],a))}}else a.responseCode==m.RESPONSE.INVALID_POSTAL_CODE||a.responseCode==m.RESPONSE.EMPTY_POSTAL_CODE?(U.zip(!0,"zip"),A(b)):(U.ajax&&U.ajax(!0,"ajax"),A(b),ha(!0));Q.bindPostalSubmitButton&&M(!0)}function M(a){var c=P.zip,d=P.zipSubmit,e=d.find("input");a?(w(c),c.unbind("keypress"),d.removeClass("a-button-disabled"),e.removeAttr("disabled")):(b(c),r(c),d.addClass("a-button-disabled"),
    e.attr("disabled","disabled"))}function ha(a){var b=Q.autoDisableMap.onPluginLoad;if("undefined"!=typeof b)for(var c in b){var d=P[b[c]];a?w(d):r(d)}}function wa(){U.zip(!1,"zip");U.ajax&&U.ajax(!1,"ajax");P.zip.closest(".adddress-ui-widgets-form-2-field-container").find(".a-alert-inline-error").not(".aok-hidden").addClass("aok-hidden")}function Y(a,b){a=E(a);T("AISS_Suggestion_Accepted_"+a+"_",100);T("AISS_Accepted_Keystrokes_"+a+"_",V);T("AISS_Suggestion_Index_"+a+"_",b);V=0;ca(a,"ACCEPTED",b)}
    function ca(a,b,c){var d={};d.addressField=a;d.userAction=b;a={};for(var e in P)P.hasOwnProperty(e)&&(a[e]=P[e].val());d.currentAddressView=a;e="";for(var f in R)e=e+R[f]+";";d.currentSuggestions=e;d.index=c;t.ue&&t.ue.log&&t.ue.log(d,"ate-inlinesuggest")}function xa(a){"non-aui"===sa?(a.find("option[value!\x3d]").remove(),a.val("")):h.when("A","address-ui-widgets-service-old-aui-missing-functions","a-dropdown","ready").execute("clearDropdown-value-executor",function(b,c,d){h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!==
    C||(d.getSelect=c.dropdownGetSelectFunction,b.state.parse=c.stateParsingFunction);b.state.parse();try{var e=d.getSelect(a.attr("id"));e||(e=d.getSelect($("#"+a.attr("id")+"-dropdown-nativeId")));if(e){var f=e.getOptions().size();for(b=1;b<f;b++)e.getOption(1).remove();e.setValue("")}else X()}catch(v){X()}})}function fa(a,b){"non-aui"===sa?b.val(a).change():h.when("A","address-ui-widgets-service-old-aui-missing-functions","a-dropdown","ready").execute("setDropdown-value-executor",function(c,d,e){h.AUI_BUILD_DATE&&
    h.AUI_BUILD_DATE!==C||(e.getSelect=d.dropdownGetSelectFunction,c.state.parse=d.stateParsingFunction);c.state.parse();try{var f=e.getSelect(b.attr("id"));f||(f=e.getSelect($("#"+b.attr("id")+"-dropdown-nativeId")));f?f.setValue(a):X()}catch(v){X()}})}function O(a,b){"non-aui"===sa?b.append(new Option(a,a)):h.when("A","address-ui-widgets-service-old-aui-missing-functions","a-dropdown","ready").execute("addDropdown-value-executor",function(c,d,e){h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!==C||(e.getSelect=
    d.dropdownGetSelectFunction,c.state.parse=d.stateParsingFunction);c.state.parse();try{var f=e.getSelect(b.attr("id"));f||(f=e.getSelect($("#"+b.attr("id")+"-dropdown-nativeId")));f?f.addOption({text:a,value:a},1):X()}catch(v){X()}})}function W(a){if("non-aui"===sa)for(var b=0;b<oa.length;b++)""!==oa[b]&&a.append(new Option(oa[b],oa[b]));else h.when("A","address-ui-widgets-service-old-aui-missing-functions","a-dropdown","ready").execute("resetToDefaultStateDropdown-value-executor",function(b,c,d){h.AUI_BUILD_DATE&&
    h.AUI_BUILD_DATE!==C||(d.getSelect=c.dropdownGetSelectFunction,b.state.parse=c.stateParsingFunction);b.state.parse();try{var e=d.getSelect(a.attr("id"));e||(e=d.getSelect($("#"+a.attr("id")+"-dropdown-nativeId")));if(e)for(var f=oa.length-1;0<f;f--)""!=oa[f]&&e.addOption({text:oa[f],value:oa[f]},1);else X()}catch(v){X()}})}function X(){T("AISS_State_Dropdown_Error",1)}function T(a,b){t.ue&&t.ue.count&&t.ue.count(a,b)}var ba,Z,v,S=[],ea,qa="AE SA EG CL CO NG ZA".split(" "),la=[],ma=0,Ia=["AE","EG",
    "SA"],R=[],na=!1,aa=-1,ra={},oa=[],sa,U=[],V=0,ua={IN:{bindPlugin:!0,bindPostalPlugin:!1,bindPostalSubmitButton:!1,clearInvalidFormFieldsOnEdit:!1,shouldCheckPreviousAddressFieldValue:!0,canAcceptEmptyField:!1,autoFillSuggestionsAndEnableMap:{onAcceptSuggestion:{addressline1:["addressline1","addressline2"],addressline2:["addressline2"]},onPluginLoad:["addressline1","addressline2"]}},GB:{bindPlugin:!0,bindPostalPlugin:!0,bindPostalSubmitButton:!1,clearInvalidFormFieldsOnEdit:!1,shouldCheckPreviousAddressFieldValue:!0,
    canAcceptEmptyField:!1,autoClearMap:{onInvalidContent:{zip:["state","city"]}}},TR:{bindPlugin:!0,bindPostalPlugin:!1,bindPostalSubmitButton:!1,clearInvalidFormFieldsOnEdit:!1,shouldCheckPreviousAddressFieldValue:!0,canAcceptEmptyField:!1,autoClearMap:{onAcceptSuggestion:{city:["state","district","zip"],state:["district","zip"]}},autoDisableMap:{onAcceptSuggestion:{city:["district"]},onInvalidContent:{city:["state","district","zip"],state:["district","zip"],district:["zip"]},onPluginLoad:["state",
    "district","zip"]},autoFillSuggestionsAndEnableMap:{onAcceptSuggestion:{city:["state"],state:["district"]},onPluginLoad:["city"]}},BR:{bindPlugin:!1,clearInvalidFormFieldsOnEdit:!1,shouldCheckPreviousAddressFieldValue:!0,canAcceptEmptyField:!1,autoClearMap:{onInvalidContent:{zip:"state city neighborhood streetName complement buildingNumber".split(" ")},onAcceptSuggestion:{zip:"state city neighborhood streetName complement buildingNumber".split(" ")}},autoDisableMap:{onPluginLoad:["state","city"]}},
    AE:{bindPlugin:!0,bindPostalPlugin:!1,bindPostalSubmitButton:!1,clearInvalidFormFieldsOnEdit:!0,shouldCheckPreviousAddressFieldValue:!1,canAcceptEmptyField:!0,autoClearMap:{onAcceptSuggestion:{city:["district"]},onInvalidContent:{city:["city","district"],district:["district"]}},autoDisableMap:{onAcceptSuggestion:{city:["district"]},onInvalidContent:{city:["district"]},onPluginLoad:["district"]},autoFillSuggestionsAndEnableMap:{onAcceptSuggestion:{city:["district"]},onPluginLoad:["city"]}},EG:{bindPlugin:!0,
    bindPostalPlugin:!1,bindPostalSubmitButton:!1,clearInvalidFormFieldsOnEdit:!0,shouldCheckPreviousAddressFieldValue:!1,canAcceptEmptyField:!0,autoClearMap:{onAcceptSuggestion:{city:["district"]},onInvalidContent:{city:["city","state","district"],district:["district"]}},autoDisableMap:{onAcceptSuggestion:{city:["state","district"]},onInvalidContent:{city:["state","district"]},onPluginLoad:["state","district"]},autoFillSuggestionsAndEnableMap:{onAcceptSuggestion:{city:["district"]},onPluginLoad:["city"]}},
    SA:{bindPlugin:!0,bindPostalPlugin:!1,bindPostalSubmitButton:!1,clearInvalidFormFieldsOnEdit:!0,shouldCheckPreviousAddressFieldValue:!1,canAcceptEmptyField:!0,autoClearMap:{onAcceptSuggestion:{city:["district"]},onInvalidContent:{city:["city","state","district"],district:["district"]}},autoDisableMap:{onAcceptSuggestion:{city:["state","district"]},onInvalidContent:{city:["state","district"]},onPluginLoad:["state","district"]},autoFillSuggestionsAndEnableMap:{onAcceptSuggestion:{city:["district"]},
    onPluginLoad:["city"]}},SE:{bindPlugin:!0,bindPostalPlugin:!1,bindPostalSubmitButton:!1,clearInvalidFormFieldsOnEdit:!1,shouldCheckPreviousAddressFieldValue:!1,canAcceptEmptyField:!1,autoFillSuggestionsAndEnableMap:{onPluginLoad:["city"]}},CL:{bindPlugin:!0,bindPostalElement:!0,bindPostalPlugin:!1,bindPostalSubmitButton:!1,clearInvalidFormFieldsOnEdit:!0,shouldCheckPreviousAddressFieldValue:!1,canAcceptEmptyField:!0,autoSelectDependentFields:!0,autoClearMap:{onAcceptSuggestion:{state:["city","zip"]},
    onInvalidContent:{state:["state","city","zip"],city:["city","zip"]}},autoDisableMap:{onAcceptSuggestion:{state:["city"],city:["zip"]},onInvalidContent:{state:["city"],city:["zip"]},onPluginLoad:["city","zip"]},autoFillSuggestionsAndEnableMap:{onAcceptSuggestion:{state:["city"]}},enableDependentFieldsUsingSuggestions:{onPluginLoad:["state","city","zip"]}},CO:{bindPlugin:!0,bindPostalElement:!0,bindPostalPlugin:!1,bindPostalSubmitButton:!1,clearInvalidFormFieldsOnEdit:!0,shouldCheckPreviousAddressFieldValue:!1,
    canAcceptEmptyField:!0,autoSelectDependentFields:!0,autoClearMap:{onAcceptSuggestion:{state:["city","district","zip"],city:["district","zip"]},onInvalidContent:{state:["state","city","district","zip"],city:["city","district","zip"],district:["district","zip"]}},autoDisableMap:{onAcceptSuggestion:{state:["city","district","zip"],city:["district","zip"],district:["zip"]},onInvalidContent:{state:["city","district","zip"],city:["district","zip"],district:["zip"]},onPluginLoad:["city","district","zip"]},
    autoFillSuggestionsAndEnableMap:{onAcceptSuggestion:{state:["city"],city:["district"]}},enableDependentFieldsUsingSuggestions:{onPluginLoad:["state","city","district","zip"]}},NG:{bindPlugin:!0,bindPostalElement:!0,bindPostalPlugin:!1,bindPostalSubmitButton:!1,clearInvalidFormFieldsOnEdit:!0,shouldCheckPreviousAddressFieldValue:!1,canAcceptEmptyField:!0,autoSelectDependentFields:!0,autoClearMap:{onAcceptSuggestion:{state:["city","district","zip"],city:["district","zip"]},onInvalidContent:{state:["state",
    "city","district","zip"],city:["city","district","zip"],district:["district","zip"]}},autoDisableMap:{onAcceptSuggestion:{state:["city","district","zip"],city:["district","zip"],district:["zip"]},onInvalidContent:{state:["city","district","zip"],city:["district","zip"],district:["zip"]},onPluginLoad:["city","district","zip"]},autoFillSuggestionsAndEnableMap:{onAcceptSuggestion:{state:["city"],city:["district"]}},enableDependentFieldsUsingSuggestions:{onPluginLoad:["state","city","district","zip"]}},
    ZA:{bindPlugin:!0,bindPostalElement:!0,bindPostalPlugin:!1,bindPostalSubmitButton:!1,clearInvalidFormFieldsOnEdit:!0,shouldCheckPreviousAddressFieldValue:!1,canAcceptEmptyField:!0,autoSelectDependentFields:!0,allowInvalidInput:["district"],autoClearMap:{onAcceptSuggestion:{district:["city","state","zip"],city:["state","zip"],state:["zip"]},onInvalidContent:{district:["district","city","state","zip"],city:["city","state","zip"],state:["state","zip"]}},autoDisableMap:{onAcceptSuggestion:{district:["city",
    "state","zip"],city:["state","zip"],state:["zip"]},onInvalidContent:{district:["city","state","zip"],city:["state","zip"],state:["zip"]},onPluginLoad:["city","state","zip"]},autoFillSuggestionsAndEnableMap:{onAcceptSuggestion:{district:["city"],city:["state"],state:["zip"]}},enableDependentFieldsUsingSuggestions:{onPluginLoad:["district","city","state","zip"]}}},Q,P={};return{public:function(a,d,e,k,g,h,n){function l(a,b){var c=$(Z[b].id),d=Z[b].cssclass;b=$("#"+ba[b]);a?(c.show(),b.addClass(d)):
    (c.hide(),b.removeClass(d))}function D(){for(var a=$("#address-ui-widgets-inline-district-error").parent().find(".a-alert-inline-error"),b=0;b<a.length;b++)if(-1==a[b].className.indexOf("aok-hidden"))return!0;return!1}function G(a,b){if(0!==a.length){var c=a[0],d=P[c],e=d.val();w(d);d=H(d);m.getSuggestions(d,function(d){if(d.responseCode===m.RESPONSE.SUCCESS&&(b||e)){var f=!1;if(e){(d=d.addressSuggestions)||(d=[]);for(var v=0;v<d.length;v++){var g=d[v].suggestedPlace;if(e===g[c]){f=!0;if(2===a.length&&
    "zip"===a[1]&&g.zip){P.zip.val(g.zip);return}break}}}d=a.slice(1);if(f)G(d,c);else{f=!0;if(e){var f=!1,k;for(k in d)if(!P[d[k]].val()){f=!0;break}}U[c](!1,c);if(f)U[c](!0,c);else U[c](!0,c,!0)}}})}}function ma(a){function b(d){if(d.responseCode==m.RESPONSE.SUCCESS&&(d=d.addressSuggestions)){u(d);a:{d=la;var e=f;if("SA"===v||"EG"===v||"AE"===v)for(var g=0;g<d.length;++g){if(m.replaceNoise(m.normalize(d[g][a],v))===e){var k;b:if(k=d[g]){var h=void 0;for(h in P)if(h in k){var n=P[h].val(),l=k[h];if(""!==
    n&&n!==l){k=!1;break b}}k=!0}else k=!1;if(k){d=g;break a}}}else for(g=0;g<d.length;++g)if(m.replaceNoise(m.normalize(d[g][a],v))===e){d=g;break a}d=0}q(c,d);y("autoFillSuggestionsAndEnableMap","onAcceptSuggestion",c,w);d=Q.autoFillSuggestionsAndEnableMap.onAcceptSuggestion[a];if("undefined"!=typeof d)for(e=0;e<d.length;e++)ma(d[e])}}var c=P[a],d=c.val(),e=H(c);m.getSuggestions(e,function(e){if(e.responseCode==m.RESPONSE.SUCCESS){if(T("AISS_Succeed_Call",1),e=e.autofillObject){e=e[a];for(var g in e)if(e[g]!==
    C&&m.replaceNoise(m.normalize(e[g],v))===f){J(c,b);return}U[a]!==C&&d&&(Q.clearInvalidFormFieldsOnEdit&&A(c),U[a](!0,a))}}else T("AISS_Failed_Call",1)});var f=m.replaceNoise(m.normalize(d,v))}d&&(t.$=d,ea=Oa());sa=k;ba=a;Z=e;a="zip city state district neighborhood ajax".split(" ");if("undefined"!=typeof h)for(var z in a){var E=a[z];"undefined"!=typeof h[E]?U[E]=h[E]:Z[E]&&(U[E]=l)}else for(E in a)h=a[E],Z[h]&&(U[h]=l);$("#address-ui-address-form").attr("autocomplete","off");for(var R in ba)h=$("#"+
    ba[R]),P[R]=h,ra[R]=h.val();if("AE"!==g&&"SE"!==g){R=ba.state;if("undefined"===typeof R||""===R)return;R=P.state;R.is("input")||R.find("option").each(function(){oa.push($(this).val())})}if("AE"!==g&&"SA"!==g&&"EG"!==g&&(R=ba.zip,"undefined"===typeof R||""===R))return;v="undefined"===typeof g||""===g?P.countryCode.val():g;R="true"===$("input[name\x3d'address-ui-widgets-enableLatestAddressWizardForm']").val();Q=ua[v];"BR"===v&&(Q.bindPostalPlugin=R,Q.bindPostalSubmitButton=!R);!R||"SA"!==v&&"EG"!==
    v&&"AE"!==v||(Q.autoDisableMap=[]);if(!0===Q.bindPlugin)for(var p in P)R=P[p],R.is("input")&&("zip"!==p||"zip"===p&&Q.bindPostalElement)&&c(R);!0===Q.bindPostalPlugin&&L(P.zip);if(!0===Q.bindPostalSubmitButton){for(var S in P)p=P[S],"zip"!=S&&"ajax"!=S&&p.is("input")&&b(p);F(P.zip,P.zipSubmit)}if(Q.autoDisableMap&&(S=Q.autoDisableMap.onPluginLoad,"SA"!=g&&"AE"!=g&&"EG"!=g||!D()||S.splice(S.indexOf("district")),"undefined"!=typeof S))for(var B in S)r(P[S[B]]);if(Q.autoFillSuggestionsAndEnableMap&&
    (g=Q.autoFillSuggestionsAndEnableMap.onPluginLoad,"undefined"!=typeof g))for(B=0;B<g.length;B++)ma(g[B]);Q.enableDependentFieldsUsingSuggestions&&(g=Q.enableDependentFieldsUsingSuggestions.onPluginLoad,"undefined"!=typeof g&&G(g));f();$.fn.navigate=function(a,b,c){var d=a.find("li");switch(b){case 40:-1<aa?(d.eq(aa).removeClass("autoCompleteSelected"),c=d.eq(aa).next(),0<c.length?(c.addClass("autoCompleteSelected"),c.position().top+c.outerHeight()>a.height()&&a.scrollTop(a.scrollTop()+c.outerHeight()),
    aa++):aa=x(a,d)):aa=x(a,d);break;case 38:-1<aa?(d.eq(aa).removeClass("autoCompleteSelected"),c=d.eq(aa).prev(),0<c.length?(c.addClass("autoCompleteSelected"),0>c.position().top&&a.scrollTop(a.scrollTop()-c.outerHeight()),aa--):aa=K(a,d)):aa=K(a,d);break;case 13:!0===na&&(d=$(c.target).attr("id"),Y(d,aa),c.preventDefault(),q($(c.target),aa),a.remove(),aa=-1,na=!1,$(c.target).parent().css("z-index",1))}}}}},pa={ACTIVE_API_CALLS:{}},da={},jb={IN:!0,GB:!0,TR:!0,BR:!0,AE:!0,EG:!0,SA:!0,SE:!0,CL:!0,CO:!0,
    NG:!0,ZA:!0},m={RESPONSE:{SUCCESS:"success",UNSUPPORTED_COUNTRY:"Unsupported Country",UNKNOWN_FIELD:"unknown addressField",NO_OPERATION:"no-operation",INCOMPLETE_CALL:"Lookup not called yet",INVALID_POSTAL_CODE:"InvalidPostalCode",EMPTY_POSTAL_CODE:"EmptyPostalCode",INVALID_DOMAIN:"Invalid Domain Name",CLIENT_ERROR:"Bad Request",SERVER_ERROR:"Service not available",TIMEOUT:"Service not responding",UNKNOWN_ERROR:"Unknown Error"},countryConfig:{IN:{lookupUri:"/v1/address/getSuggestion",autofillMap:["addressline1",
    "addressline2"],operationMap:{addressline1:3,addressline2:3,zip:0},cacheKeyMap:{zip:"\x3czip\x3e",addressline1:"al1-\x3czip\x3e-\x3caddressline1\x3e",addressline2:"al2-\x3czip\x3e-\x3caddressline1\x3e-\x3caddressline2\x3e"},partialAddressRequestMap:{addressline1:["addressline1","zip"],addressline2:["addressline1","addressline2","zip"]},lookupMap:{addressline1:"addressline1",addressline2:"addressline2"},autocompleteMap:{addressline1:["addressline1","addressline2"],addressline2:["addressline2"]},thresholdConfig:{completeTokenThreshold:0,
    partialTokenThreshold:0},displayConfig:{addressline1:["addressline1","addressline2"],addressline2:["addressline2"]}},GB:{operationMap:{addressline1:1,addressline2:0,addressline3:0,city:1,state:0,zip:2,countryCode:0},autofillMap:["city","state"],lookupMap:{addressline1:"zip",addressline2:"zip",city:"zip",state:"zip"},cacheKeyMap:{zip:"\x3czip\x3e"},partialAddressRequestMap:{zip:["zip"]},autocompleteMap:{addressline1:["addressline1","addressline2","city","state"],addressline2:["addressline2","city",
    "state"],city:["city","state"],state:["state"]},displayConfig:{addressline1:["addressline1","addressline2","city","state"],addressline2:["addressline2","city","state"],city:["city","state"],state:["state"]},isSubsequenceMatchingEnabled:!1},TR:{operationMap:{addressline1:0,addressline2:0,addressline3:0,city:1,state:1,district:1,zip:0,countryCode:1},autofillMap:["countryCode","city","state","district","zip"],lookupMap:{city:"countryCode",state:"city",district:"state"},cacheKeyMap:{countryCode:"\x3ccountryCode\x3e",
    city:"\x3ccity\x3e",state:"\x3ccity\x3e-\x3cstate\x3e"},partialAddressRequestMap:{countryCode:[],city:["city"],state:["city","state"]},autocompleteMap:{city:["city"],state:["city","state"],district:["city","state","district","zip"]},displayConfig:{city:["city"],state:["state"],district:["district"]},normalizeConfig:{"İ":"I","ı":"i","Ö":"O","ö":"o","Ü":"U","ü":"u","Ç":"C","ç":"c","Ğ":"G","ğ":"g","Ş":"S","ş":"s"},isSubsequenceMatchingEnabled:!1},BR:{operationMap:{zip:2},autofillMap:["streetName","neighborhood",
    "city","state"],cacheKeyMap:{zip:"\x3czip\x3e"},partialAddressRequestMap:{zip:["zip"]},suggestionMaxLength:{streetName:60,neighborhood:45},isSubsequenceMatchingEnabled:!1},AE:{operationMap:{city:1,district:1,countryCode:1},autofillMap:["countryCode","city","district"],lookupMap:{city:"countryCode",district:"city"},cacheKeyMap:{countryCode:"\x3ccountryCode\x3e",city:"\x3ccity\x3e",district:"\x3ccity\x3e-\x3cdistrict\x3e"},partialAddressRequestMap:{countryCode:[],city:["city"]},autocompleteMap:{city:["city"],
    district:["city","district"]},displayConfig:{city:["city"],district:["district"]},normalizeConfig:{"أ":"ا","إ":"ا","آ":"ا","ة":"ه"},isSubsequenceMatchingEnabled:!0,loadAllLocales:!0,thresholdConfig:{completeTokenThreshold:.8,partialTokenThreshold:.03}},EG:{operationMap:{state:0,city:1,district:1,countryCode:1},autofillMap:["countryCode","state","city","district"],lookupMap:{city:"countryCode",district:"city"},cacheKeyMap:{countryCode:"\x3ccountryCode\x3e",city:"\x3cstate\x3e-\x3ccity\x3e",district:"\x3cstate\x3e-\x3ccity\x3e-\x3cdistrict\x3e"},
    partialAddressRequestMap:{countryCode:[],city:["state","city"]},autocompleteMap:{city:["city","state"],district:["state","city","district"]},displayConfig:{city:["city","state"],district:["district"]},displayConfigStyling:{state:{position:2}},dataLevelRequested:"city",normalizeConfig:{"أ":"ا","إ":"ا","آ":"ا","ة":"ه","ؤ":"ء","ئ":"ء",i:"e",y:"e",u:"o",w:"o",I:"E",Y:"E",U:"O",W:"O"},topAddresses:{isTopAddressesEnabled:!0,topInAddressFields:{city:"Cairo;Giza;Alexandria;Zagazig;Mansoura;New Cairo City;القاهرة;الجيزة;الإسكندرية;الزقازيق;المنصورة;القاهرة الجديدة".split(";")}},
    soundexConfig:{isSoundexEnabled:!0,soundexGroups:[["C","K","Q"],["J","G"],["A","E"]],suffixSoundexGroups:[["ا","ى","ي"],["ة","ه"]]},boostFactors:{lcsAtStart:function(a){return 1.04*a},topAddress:function(a){return.9<=a?1.03*a:a},firstToken:function(a){return 1.02*a}},disableAcronyms:!1,tokenizeArabicDefiniteArticles:!0,isSubsequenceMatchingEnabled:!0,loadAllLocales:!0,thresholdConfig:{completeTokenThreshold:.8,partialTokenThreshold:.03}},SA:{operationMap:{state:0,city:1,district:1,countryCode:1},
    autofillMap:["countryCode","state","city","district"],lookupMap:{city:"countryCode",district:"city"},cacheKeyMap:{countryCode:"\x3ccountryCode\x3e",city:"\x3cstate\x3e-\x3ccity\x3e",district:"\x3cstate\x3e-\x3ccity\x3e-\x3cdistrict\x3e"},partialAddressRequestMap:{countryCode:[],city:["state","city"]},autocompleteMap:{city:["city","state"],district:["state","city","district"]},displayConfig:{city:["city","state"],district:["district"]},displayConfigStyling:{state:{position:2}},dataLevelRequested:"city",
    normalizeConfig:{"أ":"ا","إ":"ا","آ":"ا","ة":"ه","ؤ":"ء","ئ":"ء",i:"e",y:"e",u:"o",w:"o",I:"E",Y:"E",U:"O",W:"O"},topAddresses:{isTopAddressesEnabled:!0,topInAddressFields:{city:"Riyadh;Jeddah;Makkah Al Mukarramah;Al Madinah Al Munawwarah;Dammam;Al Khobar;الرياض;جدة;مكة المكرمة;المدينة المنورة;الدمام;الخبر".split(";")}},soundexConfig:{isSoundexEnabled:!0,soundexGroups:[["C","K","Q"],["J","G"],["A","E"]],suffixSoundexGroups:[["ا","ى","ي"],["ة","ه"]]},boostFactors:{lcsAtStart:function(a){return 1.04*
    a},topAddress:function(a){return.9<=a?1.03*a:a},firstToken:function(a){return 1.02*a}},disableAcronyms:!1,tokenizeArabicDefiniteArticles:!0,isSubsequenceMatchingEnabled:!0,loadAllLocales:!0,thresholdConfig:{completeTokenThreshold:.8,partialTokenThreshold:.03}},SE:{operationMap:{addressline1:0,addressline2:0,zip:0,city:1,countryCode:1},lookupMap:{city:"countryCode"},cacheKeyMap:{countryCode:"\x3ccountryCode\x3e",city:"\x3ccity\x3e"},partialAddressRequestMap:{countryCode:[],city:["city"]},autocompleteMap:{city:["city"]},
    displayConfig:{city:["city"]},normalizeConfig:{"Ä":"A","ä":"a","Å":"A","å":"a","Ö":"O","ö":"o"},isSubsequenceMatchingEnabled:!1},CL:{operationMap:{state:3,city:3,zip:0,countryCode:1},autofillMap:["countryCode","state","city","zip"],lookupMap:{state:"state",city:"city"},cacheKeyMap:{countryCode:"\x3ccountryCode\x3e",state:"\x3ccountryCode\x3e",city:"\x3cstate\x3e"},partialAddressRequestMap:{countryCode:[],state:[],city:["state"]},autocompleteMap:{state:["state"],city:["state","city","zip"]},displayConfig:{state:["state"],
    city:["city"]},normalizeConfig:{"á":"a","Á":"A","é":"e","É":"E","í":"i","Í":"I","ó":"o","Ó":"O","ú":"u","Ú":"U","ñ":"n","Ñ":"N","ü":"u","Ü":"U","ý":"y","¡":"!","¿":"?"},isSubsequenceMatchingEnabled:!0,thresholdConfig:{completeTokenThreshold:.8,partialTokenThreshold:.03}},CO:{operationMap:{state:3,city:3,district:3,countryCode:1,zip:0},autofillMap:["countryCode","state","city","district","zip"],lookupMap:{state:"state",city:"city",district:"district"},cacheKeyMap:{countryCode:"\x3ccountryCode\x3e",
    state:"\x3ccountryCode\x3e",city:"\x3cstate\x3e",district:"\x3cstate\x3e-\x3ccity\x3e"},partialAddressRequestMap:{countryCode:[],state:[],city:["state"],district:["state","city"]},autocompleteMap:{state:["state"],city:["state","city"],district:["state","city","district","zip"]},displayConfig:{state:["state"],city:["city"],district:["district"]},normalizeConfig:{"á":"a","Á":"A","é":"e","É":"E","í":"i","Í":"I","ó":"o","Ó":"O","ú":"u","Ú":"U","ñ":"n","Ñ":"N","ü":"u","Ü":"U","ý":"y","¡":"!","¿":"?"},
    isSubsequenceMatchingEnabled:!0,thresholdConfig:{completeTokenThreshold:.8,partialTokenThreshold:.03}},NG:{operationMap:{state:3,city:3,district:3,countryCode:1,zip:0},autofillMap:["countryCode","state","city","district","zip"],lookupMap:{state:"state",city:"city",district:"district"},cacheKeyMap:{countryCode:"\x3ccountryCode\x3e",state:"\x3ccountryCode\x3e",city:"\x3cstate\x3e",district:"\x3cstate\x3e-\x3ccity\x3e"},partialAddressRequestMap:{countryCode:[],state:[],city:["state"],district:["state",
    "city"]},autocompleteMap:{state:["state"],city:["state","city"],district:["state","city","district","zip"]},displayConfig:{state:["state"],city:["city"],district:["district"]},isSubsequenceMatchingEnabled:!0,thresholdConfig:{completeTokenThreshold:.8,partialTokenThreshold:.03}},ZA:{operationMap:{zip:3,state:3,city:3,district:3,countryCode:1},autofillMap:["countryCode","district","city","state","zip"],lookupMap:{district:"district",city:"city",state:"state",zip:"zip"},cacheKeyMap:{countryCode:"\x3ccountryCode\x3e",
    district:"\x3ccountryCode\x3e",city:"\x3cdistrict\x3e",state:"\x3cdistrict\x3e-\x3ccity\x3e",zip:"\x3cdistrict\x3e-\x3ccity\x3e-\x3cstate\x3e"},partialAddressRequestMap:{countryCode:[],district:[],city:["district"],state:["district","city"],zip:["district","city","state"]},autocompleteMap:{district:["district"],city:["district","city"],state:["district","city","state"],zip:["district","city","state","zip"]},displayConfig:{district:["district"],city:["city"],state:["state"],zip:["zip"]},normalizeConfig:{"Á":"A",
    "Â":"A","È":"E","É":"E","Ê":"E","Ë":"E","Í":"I","Î":"I","Ï":"I","Ó":"O","Ô":"O","Ú":"U","Û":"U","Ý":"Y","á":"a","â":"a","è":"e","é":"e","ê":"e","ë":"e","í":"i","î":"i","ï":"i","ó":"o","ô":"o","ú":"u","û":"u","ý":"y"},isSubsequenceMatchingEnabled:!0,thresholdConfig:{completeTokenThreshold:.8,partialTokenThreshold:.03}}},isAutoSuggestionEnabled:function(a){return jb[a]},getLookupUri:function(a){return m.countryConfig[a].lookupUri},replaceNoise:function(a){return a?/[\u0600-\u06FF\u0750-\u077F]/.test(a)?
    a.replace(/[^\W0-9\u0600-\u06FF\u0750-\u077F]+/g,""):a.replace(/\W+/g,""):a},normalize:function(a,b){b=m.countryConfig[b];if("undefined"===typeof b.normalizeConfig)return a?a.toUpperCase():a;for(var c="",d=0;d<a.length;d++)var f=a.charAt(d),e=b.normalizeConfig[f],c="undefined"!==typeof e?c+e:c+f;return c.toUpperCase()},getSuggestions:function(a,b){function c(a,b){return function(c){a(b(c))}}function d(a){if("TR"==a||"AE"==a||"SA"==a||"EG"==a)jb[a]=!1}function f(a,b,c){if(b=m.countryConfig[c].cacheKeyMap[b])for(var d in m.countryConfig[c].operationMap)b=
    b.replace(new RegExp("\x3c"+d+"\x3e","gi"),a[d]);return b}function e(a,b,c,d){function e(){var a=[],c;for(c in ba)null!=F(ba[c],b)&&a.push(ba[c]);return a.filter(function(a){return v?-1!=m.replaceNoise(m.normalize(F(a,b),d)).search(v):!1})}function k(){for(var a=[],c=v,e=c.toUpperCase().split(/[-/\\, ]/),f=[],g=0;g<e.length;++g)""!=e[g]&&f.push(e[g]);" "!=c[c.length-1]&&(S=!0);c=ba;null==da[b]&&(da[b]={});for(e=0;e<f.length;++e)if(null==da[b][f[e]]){for(var g=da[b],h=f[e],n=f[e],l=c,x=[],r=0;r<l.length;++r){var ea=
    F(l[r],b),D=0;null!=ea&&(X?D="undefined"!==typeof O.topAddresses.topInAddressFields[b]?O.topAddresses.topInAddressFields[b].includes(ea)?O.boostFactors.topAddress(q(ea,n)):q(ea,n):q(ea,n):(D="undefined"!==typeof La&&La.isTopCity(d,ea),D=q(ea,n,D)));x.push(D)}g[h]=x}c=0===f.length?0:((f.length-1)*m.countryConfig[d].thresholdConfig.completeTokenThreshold+f[f.length-1].length*m.countryConfig[d].thresholdConfig.partialTokenThreshold)/f.length;for(var G in ba){e={};e.place=ba[G];g=e;if(0===f.length)h=
    1;else{for(n=h=0;n<f.length;++n)h+=da[b][f[n]][G];h/=f.length}g.score=h;("IN"===m.countryConfig[d]||e.score>c)&&a.push(e)}G=[];!0===S&&G.push(f[f.length-1]);for(var H in da[b])da[b].hasOwnProperty(H)&&-1==f.indexOf(H)&&G.push(H);for(f=0;f<G.length;++f)delete da[b][G[f]];return a}function h(){O.isSubsequenceMatchingEnabled?Z.sort(function(a,b){return b.score-a.score}):Z.sort(function(a,c){a=m.replaceNoise(m.normalize(F(a,b),d)).search(v);c=m.replaceNoise(m.normalize(F(c,b),d)).search(v);return a-c})}
    function l(){if(0!==Z.length)switch($("input[name\x3daddress-ui-widgets-locale]").val().trim().toLowerCase()){case "en_ae":Z.sort(function(a,c){a=F(a.place,b);c=F(c.place,b);return a.localeCompare(c)});break;case "ar_ae":Z.sort(function(a,c){a=F(a.place,b);c=F(c.place,b);if(0===a.length&&0===c.length)return-1;if(0===a.length)return 1;if(0===c.length)return-1;var d=/[a-zA-Z0-9]/,e=d.test(a.charAt(0)),d=d.test(c.charAt(0));return e===d?a.localeCompare(c):d?-1:1})}}function n(){for(var a="",c=O.displayConfig[b],
    e=0;e<c.length;e++)qa[A[c[e]]]&&(a=O.displayConfigStyling?O.displayConfigStyling[c[e]]&&O.displayConfigStyling[c[e]].position==e+1?a+('\x3cfont color\x3d"#a9a9a9"\x3e\x3ci\x3e'+qa[A[c[e]]]+"\x3c/i\x3e\x3c/font\x3e"):a+qa[A[c[e]]]:a+qa[A[c[e]]],a+=", ");a=a.substr(0,a.length-2);c=[];if(!O.isSubsequenceMatchingEnabled){for(var e=v.length,f=m.normalize(qa[b],d),g=m.replaceNoise(f),k=[],h=0;-1!==I(f);){for(var n=I(f),f=f.substr(n+1),l=0;l<n;l++)k.push(h);h+=1}for(l=0;l<=f.length;l++)k.push(h);for(f=0;-1!=
    g.search(v);)h=g.search(v),c.push([f+h+k[f+h],f+h+e+k[f+h+e]]),g=g.substr(h+e),f+=h+e}e={};e.displayString=a;e.matchedMap=c;return e}function r(a,b){a=a.suggestedPlace;for(var c,d=0;d<b.length;d++){var e=b[d].suggestedPlace;c=!0;for(var f in a)if(a[f]!=e[f]&&"placeId"!=f){c=!1;break}if(c)return!0}return!1}function q(a,b,c){"undefined"==typeof c&&(c=!1);var e=/[-/\\, ]/;if(O.tokenizeArabicDefiniteArticles){var f=a.toUpperCase().split(e),v=a;if("AL"===a.substr(0,2)||"EL"===a.substr(0,2)||"ال"===a.substr(0,
    2))v=a.substr(0,2)+" "+a.substr(2);for(var v=v.replace(" al"," al ").replace(" el"," el ").replace(" ال"," ال "),e=v.toUpperCase().split(e),v=[],g=0;g<e.length;g++)""===e[g]||v.includes(e[g])||v.push(e[g]);1<v.length&&v.push(a.replace(" ","").toUpperCase());for(g=0;g<f.length;g++)v.includes(f[g])||v.push(f[g]);a=v}else a=a.toUpperCase().split(e);e=0;v="";for(g=0;g<a.length;++g)""!==a[g]&&(f=X?0===g?O.boostFactors.firstToken(p(a[g],b)):p(a[g],b):p(a[g],b,c),"undefined"!==typeof Ra&&"undefined"!==typeof Ra[d]&&
    Ra[d].includes(a[g].toUpperCase())&&(f*=.5),e=Math.max(f,e),v+=a[g][0]);return e=Math.max(e,w(v,b,c))}function w(a,b,c){"undefined"==typeof c&&(c=!1);if("undefined"!==typeof O.disableAcronyms&&O.disableAcronyms)return 0;var d=0;""!==a&&(d=p(a,b,c));return d}function p(a,b,c){"undefined"==typeof c&&(c=!1);if(X){c=t(a,b);var d;if(d=0<c)a:if(c===a.length){for(d=0;d<c-1;d++)if(!K(a.charAt(d),b.charAt(d))){d=!1;break a}d=B(a.charAt(c-1),b.charAt(c-1))}else{for(d=0;d<c;d++)if(!K(a.charAt(d),b.charAt(d))){d=
    !1;break a}d=!0}return d?O.boostFactors.lcsAtStart(c/b.length):c/b.length}d=t(a,b);return d.lcsLength/b.length*(d.lcsLength/a.length)*(c&&d.isFirstCharMatched?1.2:1)}function t(a,b){for(var c=!1,d=a.length,e=b.length,f=Array(d+1),v=0;v<=d;v++)f[v]=Array(e+1);for(v=0;v<=d;++v)for(var g=0;g<=e;++g)0==v||0==g?f[v][g]=0:K(a[v-1],b[g-1])?(f[v][g]=f[v-1][g-1]+1,1==g&&(c=!0)):f[v][g]=Math.max(f[v-1][g],f[v][g-1]);return X?(B(a[d-1],b[e-1])&&(f[d][e]=f[d-1][e-1]+1),f[d][e]):{lcsLength:f[a.length][b.length],
    isFirstCharMatched:c}}function K(a,b){if(X){var c;a:{if("undefined"!==typeof O.soundexConfig&&O.soundexConfig.isSoundexEnabled&&(c=O.soundexConfig.soundexGroups,null!==c))for(var d=0;d<c.length;d++)if(c[d].includes(a)){c=c[d];break a}c=null}return null!==c&&c.includes(b)||C(a)===C(b)}return C(a)===C(b)}function B(a,b){var c;a:{if("undefined"!==typeof O.soundexConfig&&O.soundexConfig.isSoundexEnabled&&(c=O.soundexConfig.suffixSoundexGroups,null!==c))for(var d=0;d<c.length;d++)if(c[d].includes(a)){c=
    c[d];break a}c=null}return null!==c&&c.includes(b)||C(a)===C(b)}function C(a){return O.normalizeConfig&&O.normalizeConfig.hasOwnProperty(a)?O.normalizeConfig[a]:a}function F(a,b){return a.address[b]?a.address[b]:a.address[A[b]]}function I(a){return/[\u0600-\u06FF\u0750-\u077F]/.test(a)?a.search(/[^\W\u0600-\u06FF\u0750-\u077F]/g):a.search(/\W/g)}var fa=pa[d],O=m.countryConfig[d],W=O.lookupMap[b],X="undefined"!==typeof O.soundexConfig;if("undefined"===typeof fa)return g(a,W,d),{responseCode:m.RESPONSE.INCOMPLETE_CALL};
    var T=f(a,W,d);if("undefined"===typeof T)return{responseCode:m.RESPONSE.UNKNOWN_FIELD};fa=fa[T];if("undefined"===typeof fa)return g(a,W,d),{responseCode:m.RESPONSE.INCOMPLETE_CALL};W=fa.code;if("undefined"!=typeof W)return x(W);var ba=[];try{ba=JSON.parse(fa).places}catch(ma){return{responseCode:m.RESPONSE.SERVER_ERROR}}var Z=[],v;if(O.isSubsequenceMatchingEnabled){var S=!1;v=a[b];Z=k()}else v=m.replaceNoise(m.normalize(a[b],d)),Z=e();"undefined"!==typeof O.isSubsequenceMatchingEnabled&&O.isSubsequenceMatchingEnabled&&
    ("undefined"===typeof La||X||La.boostScoresOfTopCities(d,b,Z));"undefined"!==typeof O.loadAllLocales&&0===v.length?l():h();a=[];for(var ea in Z){T=O.isSubsequenceMatchingEnabled?Z[ea].place:Z[ea];if(a.length===c)break;W={};fa={};"undefined"!=typeof T.placeId&&(fa.placeId=T.placeId);var qa=T.address,T=O.autocompleteMap[b],la;for(la in T)fa[T[la]]=qa[A[T[la]]];W.suggestedPlace=fa;W.displayData=n();r(W,a)||a.push(W)}return{responseCode:m.RESPONSE.SUCCESS,addressSuggestions:a}}function g(a,c,e){function g(){d(e);
    V[Y]=!1;b({responseCode:m.RESPONSE.TIMEOUT})}function r(a,c){V[Y]=!1;var e=[];try{e=JSON.parse(a.responseText)}catch(f){d(c);b({responseCode:m.RESPONSE.SERVER_ERROR});return}500<=a.status?(d(c),b({responseCode:m.RESPONSE.SERVER_ERROR})):"undefined"===typeof e.code||"InvalidPostalCode"!==e.code&&"EmptyPostalCode"!==e.code?400<=a.status?b({responseCode:m.RESPONSE.CLIENT_ERROR}):(pa[c][Y]=a.responseText,b(G(pa[c][Y]))):b(x(e.code))}function w(a){return a.toLowerCase().replace(/,/g,"")}function G(a){a=
    JSON.parse(M[Y]);var b=I.autofillMap,c={},d;for(d in b){var e=[],f=a.places,g;for(g in f){var v=b[d],h=f[g].address[A[v]];n(v,h)&&e.push(h)}c[b[d]]=e.filter(function(a,b,c){return c.indexOf(a)===b})}return{responseCode:m.RESPONSE.SUCCESS,autofillObject:c}}function H(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return JSON.stringify(a)===JSON.stringify({})}function n(a,b){var c=!0,d=I.suggestionMaxLength;b&&d&&a in d&&b.length>d[a]&&(c=!1);return c}function K(a,b,c,d,e,f){for(var g={},v=0;v<c.length;v++)g[A[c[v]]]=
    b[c[v]];g[A.countryCode]=d;var k={};k.partialAddress=g;if("AE"===d||"SA"===d||"EG"===d)b=$("input[name\x3daddress-ui-widgets-locale]").val(),"undefined"!==typeof I.loadAllLocales&&I.loadAllLocales&&(b=""),k.locale=b;(b=m.countryConfig[d].dataLevelRequested)&&(k.dataLevelRequested=b);"undefined"!==typeof Sa&&"undefined"!==typeof Sa[d]&&Sa[d]&&(k.compressResponse=!0);h.when("A").execute("autocomplete-js-library-executor",function(b){if(C(b)&&(b.capabilities.mobile||b.capabilities.tablet)&&b.capabilities.isAmazonApp&&
    b.capabilities.ios)b.$.ajax({url:a,type:"POST",headers:{"Access-Control-Allow-Origin":origin},data:JSON.stringify(k),dataType:"json",contentType:"application/json",xhrFields:{withCredentials:!0,tryCount:0,retryLimit:2},complete:function(a,c,v){"success"===c?e(a,d):(p("placesCallFailure_"+c),this.xhrFields.tryCount++,this.xhrFields.tryCount<=this.xhrFields.retryLimit?b.$.ajax(this):f(a,d,{reason:v}))}});else{var c=new XMLHttpRequest;c.open("POST",a);c.setRequestHeader("Content-Type","application/json");
    c.withCredentials=!0;c.onreadystatechange=function(){4==c.readyState&&e(c,d)};c.onerror=function(a){f(c,d,{reason:a})};c.send(JSON.stringify(k));return c}})}function C(a){return(a=a.state("address-ui-widgets-from-view-state"))&&a["marketplace-code"]?["AE","SA","EG","TR"].includes(a["marketplace-code"])?!0:!1:!1}function F(a){var b="/v1/lookup/places";m.getLookupUri(e)&&(b=m.getLookupUri(e));var c=t.location.hostname,d=l[a],c=-1!=d.GammaDomains.indexOf(c)?"Gamma":-1!=d.BetaDomains.indexOf(c)?"Beta":
    "Prod";return B[a][c]+b}function N(a,b){var c=[],c=[],d="";b.addressline1&&c.push(w(b.addressline1));b.addressline2&&"addressline2"===q&&c.push(w(b.addressline2));var d=c.join(" "),e;for(e in a)if(c=e.split("-"),!("addressline1"===q&&"al1"!==c[0]||"addressline2"===q&&"al2"!==c[0])&&c[1]===b.zip){if(!JSON.parse(a[e]).isPincodeSupported)return[];if(c=JSON.parse(a[e]).places)if(c=c.filter(function(a){a.displayString.toLowerCase();var c=[];a.address.addressline1&&c.push(w(a.address.addressline1));a.address.addressline2&&
    c.push(w(a.address.addressline2));c=c.join(" ");if(("addressline2"!==q||w(b.addressline1)===a.address.addressline1.toLowerCase().replace(/,/g,""))&&c.startsWith(d)){c="";a.address.addressline1&&(c=a.address.addressline1.toLowerCase());var e="";a.address.addressline2&&(e=a.address.addressline2.toLowerCase());if(b.addressline1.toLowerCase()!==c||b.addressline2.toLowerCase()!==e)return a}}),0<c.length)return c}}var I=m.countryConfig[e];"undefined"===typeof pa[e]&&(pa[e]={},pa.ACTIVE_API_CALLS[e]={});
    var M=pa[e],V=pa.ACTIVE_API_CALLS[e],Y=f(a,c,e);if("undefined"!==typeof Y){var ca=M[Y];if("undefined"===typeof ca&&"IN"===e&&!H(M)){var ga=N(M,a);"undefined"!==typeof ga&&(M[Y]=JSON.stringify({responseCode:"success",isPincodeSupported:!0,places:ga}),ca=M[Y])}"undefined"===typeof ca?V[Y]||((ca=F(k[e]))||b({responseCode:m.RESPONSE.INVALID_DOMAIN}),V[Y]=!0,K(ca,a,I.partialAddressRequestMap[c],e,r,g)):b(G(ca))}}function x(a){return"InvalidPostalCode"===a?{responseCode:m.RESPONSE.INVALID_POSTAL_CODE}:
    "EmptyPostalCode"===a?{responseCode:m.RESPONSE.EMPTY_POSTAL_CODE}:{responseCode:m.RESPONSE.UNKNOWN_ERROR}}var K=a.addressObject,q=a.addressField,r=a.numSuggestions,w=K.countryCode.toUpperCase();if(m.isAutoSuggestionEnabled(w)){var k={IN:"EU",GB:"EU",TR:"EU",AE:"EU",EG:"EU",SA:"EU",BR:"NA",SE:"EU",CL:"NA",CO:"NA",NG:"EU",ZA:"EU"},A={addressline1:"addressline1",addressline2:"addressline2",addressline3:"addressline3",city:"city",state:"state",district:"district",zip:"postalCode",countryCode:"countryCode",
    streetName:"addressline1",complement:"addressline2",neighborhood:"district"},B={EU:{Beta:"https://addresssuggest-eu.integ.amazon.com",Gamma:"https://addresssuggest-eu-preprod-dub.dub.proxy.amazon.com",Prod:"https://addresssuggest-eu.amazon.com"},NA:{Beta:"https://addresssuggest-na.integ.amazon.com",Gamma:"https://addresssuggest-na-preprod-iad.iad.proxy.amazon.com",Prod:"https://addresssuggest-na.amazon.com"}},l={EU:{BetaDomains:"in-development.amazon.com uk-development.amazon.com tr-development.amazon.com ae-development.amazon.com eg-development.integ.amazon.com sa-development.amazon.com se-development.corp.amazon.com development.amazon.com de-development.amazon.com ca-development.amazon.com nl-development.amazon.com au-development.amazon.com jp-development.amazon.com sg-development.amazon.com ng-development.corp.amazon.com za-development.corp.amazon.com".split(" "),
    GammaDomains:"in-pre-prod.amazon.com uk-pre-prod.amazon.com tr-pre-prod.amazon.com ae-pre-prod.amazon.com eg-pre-prod.aka.amazon.com sa-pre-prod.amazon.com se-pre-prod.corp.amazon.com pre-prod.amazon.com de-pre-prod.amazon.com ca-pre-prod.amazon.com nl-pre-prod.amazon.com au-pre-prod.amazon.com jp-pre-prod.amazon.com sg-pre-prod.amazon.com ng-pre-prod.corp.amazon.com za-pre-prod.corp.amazon.com".split(" "),ProdDomains:"www.amazon.in www.amazon.co.uk www.amazon.com.tr www.amazon.ae www.amazon.eg www.amazon.sa www.amazon.se www.amazon.com store.amazon.in www.amazon.de www.amazon.ca www.amazon.nl www.amazon.com.au wwww.amazon.co.jp wwww.amazon.sg www.amazon.com.ng www.amazon.co.za".split(" ")},
    NA:{BetaDomains:"ae-development.amazon.com au-development.amazon.com br-development.amazon.com ca-development.amazon.com cl-development.amazon.com cn-development.amazon.com co-development.amazon.com de-development.amazon.com eg-development.integ.amazon.com es-development.amazon.com fr-development.amazon.com uk-development.amazon.com in-development.amazon.com it-development.amazon.com jp-development.amazon.com mx-development.amazon.com nl-development.amazon.com pl.integ.amazon.com sa-development.amazon.com se.integ.amazon.com sg-development.amazon.com tr-development.amazon.com development.amazon.com".split(" "),
    GammaDomains:"ae-pre-prod.amazon.com au-pre-prod.amazon.com br-pre-prod.amazon.com ca-pre-prod.amazon.com cl-pre-prod.amazon.com cn-pre-prod.amazon.com co-pre-prod.amazon.com de-pre-prod.amazon.com eg-pre-prod.aka.amazon.com es-pre-prod.amazon.com fr-pre-prod.amazon.com uk-pre-prod.amazon.com in-pre-prod.amazon.com it-pre-prod.amazon.com jp-pre-prod.amazon.com mx-pre-prod.amazon.com nl-pre-prod.amazon.com pl-preprod.dub.xcorp.amazon.com sa-pre-prod.amazon.com se-preprod.dub.xcorp.amazon.com sg-gamma.aka.amazon.com tr-pre-prod.amazon.com pre-prod.amazon.com".split(" "),
    ProdDomains:"www.amazon.ae www.amazon.com.au www.amazon.com.br www.amazon.ca www.amazon.cl www.amazon.cn www.amazon.com.co www.amazon.de www.amazon.eg www.amazon.es www.amazon.fr www.amazon.co.uk www.amazon.in www.amazon.it www.amazon.co.jp www.amazon.com.mx www.amazon.nl www.amazon.pl www.amazon.sa www.amazon.se www.amazon.sg www.amazon.com.tr www.amazon.com".split(" ")}};w in k||b({responseCode:m.RESPONSE.UNSUPPORTED_COUNTRY});a=m.countryConfig[w].operationMap[q];"undefined"===typeof a&&b({responseCode:m.RESPONSE.UNKNOWN_FIELD});
    0===a&&b({responseCode:m.RESPONSE.NO_OPERATION});1===a&&b(e(K,q,r,w));2===a&&g(K,q,w);3===a&&(b=c(b,function(a){return a.responseCode!==m.RESPONSE.SUCCESS?a:e(K,q,r,w)}),g(K,q,w))}else b({responseCode:m.RESPONSE.TIMEOUT})}};h.when("A","address-ui-widgets-service-old-aui-missing-functions","a-dropdown","ready").execute("autocomplete-js-integration-executor",function(a,b,c){function d(b){function d(a){return"true"!==r("input[name\x3d'address-ui-widgets-enableLatestAddressWizardForm']").val()||"SA"!==
    a&&"EG"!==a?"address-ui-widgets-enterAddressStateOrRegion":"address-ui-widgets-enterAddressStateOrRegion-dropdown-nativeId"}if(a.state("address-ui-widgets-from-view-state")){var f=a.state("address-ui-widgets-from-view-state")["marketplace-code"],g="GB SA US AE EG DE IN CA NL SE AU JP SG NG ZA".split(" ");if(!(!b||-1=="GB TR BR AE EG SA IN SE CL CO NG ZA".split(" ").indexOf(b)||"CL"===b&&"T1"!=F(a,"CJP_ARX_CL_FRESA_ADDRESS_FORM_573474","C")||"CO"===b&&"T1"!=F(a,"CJP_ARX_CO_FRESA_ADDRESS_FORM_573475",
    "C")||"NG"===b&&"T1"!=F(a,"CJP_ARX_NG_FRESA_ADDRESS_FORM_573476","C")||"TR"==b&&"TR"!=f||"BR"==b&&"BR"!=f&&"T1"!=F(a,"ARX_BR_FLEXIBLE_ADDRESS_FORM_WW_441095","C")||"IN"==b&&"IN"!=f||"SA"==b&&-1==g.indexOf(f)||"AE"==b&&-1==g.indexOf(f)||"EG"==b&&-1==g.indexOf(f)||"ZA"==b&&"T1"===F(a,"AEE_ARX_ZA_ENABLE_PSS_FOR_INLINE_SUGGESTIONS_989826","C"))){w="address-ui-widgets-countryCode-dropdown-nativeId";c.getSelect(r("#"+w));k=b;switch(k){case "GB":p={addressline1:"address-ui-widgets-enterAddressLine1",addressline2:"address-ui-widgets-enterAddressLine2",
    city:"address-ui-widgets-enterAddressCity",state:"address-ui-widgets-enterAddressStateOrRegion",zip:"address-ui-widgets-enterAddressPostalCode",countryCode:w};y={zip:{id:"address-ui-widgets-enterAddressPostalCode",cssclass:"address-ui-widgets-auto-complete-failure"}};t={zip:"#address-ui-widgets-uk-inline-postal-code-error"};l={zip:m()};break;case "TR":p={addressline1:"address-ui-widgets-enterAddressLine1",addressline2:"address-ui-widgets-enterAddressLine2",city:"address-ui-widgets-enterAddressCity",
    state:"address-ui-widgets-enterAddressStateOrRegion",district:"address-ui-widgets-enterAddressDistrictOrCounty",zip:"address-ui-widgets-enterAddressPostalCode",countryCode:w};t={city:"#address-ui-widgets-inline-city-error",state:"#address-ui-widgets-inline-state-or-region-error",district:"#address-ui-widgets-inline-district-error"};l={city:q("city"),state:q("state"),district:q("district")};y={city:{id:"address-ui-widgets-enterAddressCity",cssclass:"address-ui-widgets-auto-complete-failure"},state:{id:"address-ui-widgets-enterAddressStateOrRegion",
    cssclass:"address-ui-widgets-auto-complete-failure"},district:{id:"address-ui-widgets-enterAddressDistrictOrCounty",cssclass:"address-ui-widgets-auto-complete-failure"}};break;case "BR":p={fullName:"address-ui-widgets-enterAddressFullName",phoneNumber:"address-ui-widgets-enterAddressPhoneNumber",streetName:"address-ui-widgets-streetName",buildingNumber:"address-ui-widgets-buildingNumber",complement:"address-ui-widgets-complement",neighborhood:"address-ui-widgets-neighborhood",city:"address-ui-widgets-enterAddressCity",
    state:"address-ui-widgets-enterAddressStateOrRegion",zip:"address-ui-widgets-enterAddressPostalCode",zipSubmit:"address-ui-widgets-enterAddressPostalCode-submit",ajax:"address-ui-widgets-enterAddressPostalCode"};y={zip:{id:"address-ui-widgets-enterAddressPostalCode",cssclass:"address-ui-widgets-auto-complete-failure"},ajax:{id:"address-ui-widgets-enterAddressPostalCode",cssclass:"address-ui-widgets-auto-complete-failure"}};t={zip:"#address-ui-widgets-postal-code-prepop-error",ajax:"#address-ui-widgets-postal-code-prepop-ajax-error"};
    l={zip:q("zip"),ajax:q("ajax")};break;case "AE":p={addressline1:"address-ui-widgets-enterAddressLine1",addressline2:"address-ui-widgets-enterAddressLine2",city:"address-ui-widgets-enterAddressCity",district:"address-ui-widgets-enterAddressDistrictOrCounty",countryCode:w};t={city:"#address-ui-widgets-inline-city-error",district:"#address-ui-widgets-inline-district-error"};l={city:q("city"),district:q("district")};y={city:{id:"address-ui-widgets-enterAddressCity",cssclass:"address-ui-widgets-auto-complete-failure"},
    district:{id:"address-ui-widgets-enterAddressDistrictOrCounty",cssclass:"address-ui-widgets-auto-complete-failure"}};break;case "EG":p={addressline1:"address-ui-widgets-enterAddressLine1",addressline2:"address-ui-widgets-enterAddressLine2",state:d("EG"),city:"address-ui-widgets-enterAddressCity",district:"address-ui-widgets-enterAddressDistrictOrCounty",countryCode:w};t={state:"#address-ui-widgets-inline-state-or-region-error",city:"#address-ui-widgets-inline-city-error",district:"#address-ui-widgets-inline-district-error"};
    l={state:q("state"),city:q("city"),district:q("district")};y={state:{id:d("EG"),cssclass:"address-ui-widgets-auto-complete-failure"},city:{id:"address-ui-widgets-enterAddressCity",cssclass:"address-ui-widgets-auto-complete-failure"},district:{id:"address-ui-widgets-enterAddressDistrictOrCounty",cssclass:"address-ui-widgets-auto-complete-failure"}};break;case "SA":p={addressline1:"address-ui-widgets-enterAddressLine1",addressline2:"address-ui-widgets-enterAddressLine2",state:d("SA"),city:"address-ui-widgets-enterAddressCity",
    district:"address-ui-widgets-enterAddressDistrictOrCounty",countryCode:w};t={state:"#address-ui-widgets-inline-state-or-region-error",city:"#address-ui-widgets-inline-city-error",district:"#address-ui-widgets-inline-district-error"};l={state:q("state"),city:q("city"),district:q("district")};y={state:{id:d("SA"),cssclass:"address-ui-widgets-auto-complete-failure"},city:{id:"address-ui-widgets-enterAddressCity",cssclass:"address-ui-widgets-auto-complete-failure"},district:{id:"address-ui-widgets-enterAddressDistrictOrCounty",
    cssclass:"address-ui-widgets-auto-complete-failure"}};break;case "IN":p={addressline1:"address-ui-widgets-enterAddressLine1",addressline2:"address-ui-widgets-enterAddressLine2",state:"address-ui-widgets-enterAddressStateOrRegion",city:"address-ui-widgets-enterAddressCity",zip:"address-ui-widgets-enterAddressPostalCode",countryCode:w};y={addressline1:{id:"address-ui-widgets-enterAddressLine1",cssclass:"address-ui-widgets-auto-complete-failure"},addressline2:{id:"address-ui-widgets-enterAddressLine2",
    cssclass:"address-ui-widgets-auto-complete-failure"},zip:{id:"address-ui-widgets-enterAddressPostalCode",cssclass:"address-ui-widgets-auto-complete-failure"}};t={};l={};break;case "SE":p={fullName:"address-ui-widgets-enterAddressFullName",phoneNumber:"address-ui-widgets-enterAddressPhoneNumber",addressline1:"address-ui-widgets-enterAddressLine1",addressline2:"address-ui-widgets-enterAddressLine2",zip:"address-ui-widgets-enterAddressPostalCode",city:"address-ui-widgets-enterAddressCity",countryCode:w};
    t={city:"#address-ui-widgets-inline-city-error"};l={};y={city:{id:"address-ui-widgets-enterAddressCity",cssclass:"address-ui-widgets-auto-complete-failure"}};break;case "CL":p={state:"address-ui-widgets-enterAddressStateOrRegion",city:"address-ui-widgets-enterAddressCity",zip:"address-ui-widgets-enterAddressPostalCode",countryCode:w};t={state:"#address-ui-widgets-inline-state-or-region-error",city:"#address-ui-widgets-inline-city-error",zip:"#address-ui-widgets-inline-city-error"};l={state:q("state"),
    city:q("city"),zip:q("city")};y={state:{id:"address-ui-widgets-enterAddressStateOrRegion",cssclass:"address-ui-widgets-auto-complete-failure"},city:{id:"address-ui-widgets-enterAddressCity",cssclass:"address-ui-widgets-auto-complete-failure"},zip:{id:"address-ui-widgets-enterAddressCity",cssclass:"address-ui-widgets-auto-complete-failure"}};break;case "CO":p={state:"address-ui-widgets-enterAddressStateOrRegion",city:"address-ui-widgets-enterAddressCity",district:"address-ui-widgets-enterAddressDistrictOrCounty",
    zip:"address-ui-widgets-enterAddressPostalCode",countryCode:w};t={state:"#address-ui-widgets-inline-state-or-region-error",city:"#address-ui-widgets-inline-city-error",district:"#address-ui-widgets-inline-district-error",zip:"#address-ui-widgets-inline-district-error"};l={state:q("state"),city:q("city"),district:q("district"),zip:q("district")};y={state:{id:"address-ui-widgets-enterAddressStateOrRegion",cssclass:"address-ui-widgets-auto-complete-failure"},city:{id:"address-ui-widgets-enterAddressCity",
    cssclass:"address-ui-widgets-auto-complete-failure"},district:{id:"address-ui-widgets-enterAddressDistrictOrCounty",cssclass:"address-ui-widgets-auto-complete-failure"},zip:{id:"address-ui-widgets-enterAddressDistrictOrCounty",cssclass:"address-ui-widgets-auto-complete-failure"}};break;case "NG":p={state:"address-ui-widgets-enterAddressStateOrRegion",city:"address-ui-widgets-enterAddressCity",district:"address-ui-widgets-enterAddressDistrictOrCounty",zip:"address-ui-widgets-enterAddressPostalCode",
    countryCode:w};t={state:"#address-ui-widgets-inline-state-or-region-error",city:"#address-ui-widgets-inline-city-error",district:"#address-ui-widgets-inline-district-error",zip:"#address-ui-widgets-inline-district-error"};l={state:q("state"),city:q("city"),district:q("district"),zip:q("district")};y={state:{id:"address-ui-widgets-enterAddressStateOrRegion",cssclass:"address-ui-widgets-auto-complete-failure"},city:{id:"address-ui-widgets-enterAddressCity",cssclass:"address-ui-widgets-auto-complete-failure"},
    district:{id:"address-ui-widgets-enterAddressDistrictOrCounty",cssclass:"address-ui-widgets-auto-complete-failure"},zip:{id:"address-ui-widgets-enterAddressDistrictOrCounty",cssclass:"address-ui-widgets-auto-complete-failure"}};break;case "ZA":p={zip:"address-ui-widgets-enterAddressPostalCode",state:"address-ui-widgets-enterAddressStateOrRegion",city:"address-ui-widgets-enterAddressCity",district:"address-ui-widgets-enterAddressDistrictOrCounty",countryCode:w};t={zip:"#address-ui-widgets-postalcode-error",
    state:"#address-ui-widgets-inline-state-or-region-error",city:"#address-ui-widgets-inline-city-error",district:"#address-ui-widgets-inline-district-error"};l={zip:q("zip"),state:q("state"),city:q("city"),district:q("district")};y={zip:{id:"address-ui-widgets-enterAddressPostalCode",cssclass:"address-ui-widgets-auto-complete-failure"},state:{id:"address-ui-widgets-enterAddressStateOrRegion",cssclass:"address-ui-widgets-auto-complete-failure"},city:{id:"address-ui-widgets-enterAddressCity",cssclass:"address-ui-widgets-auto-complete-failure"},
    district:{id:"address-ui-widgets-enterAddressDistrictOrCounty",cssclass:"address-ui-widgets-auto-complete-failure"}};break;default:p={}}for(var h in p)b=r("#"+p[h]),b.is("input")&&(f=b.closest(".adddress-ui-widgets-form-field-container"),x(f)&&f.addClass("address-ui-widgets-field-container-fixed-height"),b.bind("InlineSuggestionsShow",function(a){e(r(a.target),".adddress-ui-widgets-form-field-container","address-ui-widgets-field-container-fixed-height")}));z||(z=new mb);z.public(p,r,y,"aui",k,l,a)}}}
    function f(a){var b=a.parent(".a-input-text-wrapper");0===b.length&&(b=a);return b}function e(a,b,c){a.is("input")&&(f(a).removeClass("a-form-error"),f(a).removeClass("address-ui-widgets-input-text-box-warning-state"),a=a.closest(b),a.find(".a-alert-inline").addClass("aok-hidden"),0==a.find(".a-section").not("aok-hidden").length&&a.addClass(c))}function g(){for(var a in p){var b=r("#"+p[a]);e(b,".adddress-ui-widgets-form-field-container","address-ui-widgets-field-container-fixed-height")}}function x(a){var b=
    ["a-alert-inline","a-section"],c;for(c in b)if(0!=a.find("."+b[c]).not("aok-hidden").length)return!1;return!0}function m(){var b=a.state("address-ui-widgets-from-view-state");return b&&b.isEnabled?function(a){var b=r(t.zip);a?(b.removeClass("aok-hidden"),b.siblings().find(".a-input-text-wrapper").removeClass("address-ui-widgets-mobile-2-field-border-bottom"),b=b.closest(".adddress-ui-widgets-form-2-field-container"),b.removeClass("address-ui-widgets-desktopaine-2-field-contr-fixed-height"),b=b.find("#"+
    p.zip),f(b).addClass("a-form-error")):(g(),a=r("#address-ui-widgets-enterAddressPostalCode"),e(a,".adddress-ui-widgets-form-2-field-container","address-ui-widgets-desktop-2-field-container-fixed-height"),b.siblings().find(".a-input-text-wrapper").addClass("address-ui-widgets-mobile-2-field-border-bottom"))}:function(a){r(t.zip).toggleClass("aok-hidden",!a);r("#address-ui-widgets-uk-postal-code-column").toggleClass("address-ui-widgets-auto-complete-failure",a)}}function q(a){return function(b,c,d){c=
    r(t[a]);b?(d?(c.addClass("a-alert-inline-warning"),c.removeClass("a-alert-inline-error")):(c.addClass("a-alert-inline-error"),c.removeClass("a-alert-inline-warning")),c.removeClass("aok-hidden"),b=c.closest(".adddress-ui-widgets-form-field-container"),0===b.length&&(b=c.closest(".adddress-ui-widgets-form-2-field-container")),b.removeClass("address-ui-widgets-field-container-fixed-height"),b=b.find("#"+p[a]),d=d?"address-ui-widgets-input-text-box-warning-state":"a-form-error",f(b).addClass(d)):(c.hasClass("aok-hidden")||
    c.addClass("aok-hidden"),g())}}h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!=C||(c.getSelect=b.dropdownGetSelectFunction,a.state.parse=b.stateParsingFunction);var r=a.$,w,k,p,t,l,y,z;a.on("ajax_reload",function(b){r=a.$;d(b)});a.on("popover-interacted",function(a){r=I(r,a);M(d,a)});a.on("address-form-load",function(b){r=a.$;d(b)})});h.when("A","a-checkbox","ready").execute("address-type-and-business-hours-radio-and-checkbox-executor",function(a,b){function c(){var a=0<f("#address-ui-widgets-addr-details-fri").length,
    c=0<f("#address-ui-widgets-addr-details-sat").length,d=0<f("#address-ui-widgets-addr-details-sun").length,a=a&&b("#address-ui-widgets-addr-details-fri").isChecked(),c=c&&b("#address-ui-widgets-addr-details-sat").isChecked(),h=d&&b("#address-ui-widgets-addr-details-sun").isChecked();return c&&a?"BOTH_FRI_SAT":c&&h?"BOTH_SAT_SUN":a?"FRI":c?d?"SAT":"SAT_NO_FRI":h?"SUN":d?"NONE":"NO_FRI_NO_SAT"}function d(b){function d(){var a;a=f("#address-ui-widgets-addr-details-res-radio-input").is(":checked");f("#address-ui-widgets-addr-details-com-radio-input").is(":checked")?
    (f("#address-ui-widgets-addr-details-business-hours-checkbox-section").show(),a=c()):(f("#address-ui-widgets-addr-details-business-hours-checkbox-section").hide(),a=a?"RES":"OTH");f("input[name\x3d'address-ui-widgets-addr-details-address-type-and-business-hours']").val(a)}var h=a.state("address-ui-widgets-from-view-state")["marketplace-code"];!b||"AE"==b&&"AE"!=h||"SA"==b&&-1==["SA","AE"].indexOf(h)||"EG"==b&&"EG"!=h||(a.declarative("address-ui-widgets-addr-details-business-hrs-checkbox-change","change",
    function(a){a=c();f("input[name\x3d'address-ui-widgets-addr-details-address-type-and-business-hours']").val(a)}),a.declarative("address-ui-widgets-addr-details-address-type-radio-change","change",function(a){d()}),d())}var f=a.$;a.on("ajax_reload",function(a){d(a)});a.on("checkout:popoverContentLoaded:edit-address",function(a){d(a)});a.on("address-form-load",function(a){d(a)})});h.register("js-loaded",function(){var a={"form-loaded":"true"};return{get:function(b){return a[b]}}});h.when("A","address-ui-widgets-service-old-aui-missing-functions",
    "ready","a-dropdown","js-loaded","js-parsed").execute("load-address-form-executor",function(a,b){h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!=C||(a.state.parse=b.stateParsingFunction);b=a.$;b("#address-ui-widgets-enterAddressFormContainer").ready(function(){a.state.parse();if(a.state("address-ui-widgets-from-view-state")){var b=a.state("address-ui-widgets-from-view-state")["country-code"];a.trigger("address-form-load",b)}});b("#id-addr-ux-search-box-container").ready(function(){a.state.parse();a.trigger("address-book-load")})});
    h.when("A","address-ui-widgets-service-old-aui-missing-functions","ready").execute("prevent-page-reload-executor",function(a,b){var c=a.$;h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!=C||(a.state.parse=b.stateParsingFunction);a.state.parse();a.state("address-ui-widgets-from-view-state")&&c("#address-ui-widgets-enterAddressFormContainer").append('\x3cdiv id\x3d"stop-mash-reappear" /\x3e')});h.when("A","a-checkbox","address-ui-widgets-service-old-aui-missing-functions","ready").execute("unattended-delivery-checkbox-executor",
    function(a,b,c){function d(d){h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!==C||(a.state.parse=c.stateParsingFunction);a.state.parse();if(a.state("address-ui-widgets-from-view-state")&&d&&"SG"==d&&(d=a.state("address-ui-widgets-from-view-state")["marketplace-code"])&&"SG"==d){var g=f("input[name\x3d'address-ui-widgets-addr-details-unattended-delivery']"),x=b("#address-ui-widgets-addr-details-unattended-delivery-checkbox");g&&x&&(Wa(g,x),a.declarative("address-ui-widgets-addr-details-unattended-delivery-checkbox-change",
    "change",function(a){Wa(g,x)}))}}var f=a.$;a.on("ajax_reload",function(b){f=a.$;d(b)});a.on("popover-interacted",function(a){f=I(f,a);M(d,a)});a.on("address-form-load",function(b){f=a.$;d(b)})});h.when("A","address-ui-widgets-service-old-aui-missing-functions","address-book-location-service","a-spinner","a-modal","a-alert","a-dropdown","a-button","a-tooltip","ajax-call-module","ready").execute("location-based-address-form-autofill-executor",function(a,b,c,d,f,e,g,x,m,q){function r(){h.AUI_BUILD_DATE&&
    h.AUI_BUILD_DATE!=C||(g.getSelect=b.dropdownGetSelectFunction,a.state.parse=b.stateParsingFunction);a.state.parse();if(a.state("identity-address-ux-ajax-data")&&a.state("address-ui-widgets-from-view-state")){I=Date.now();M=d("#address-ui-widgets-Spinner");N=x("#address-ui-widgets-DetectLocationButton");da=a.state("address-ui-widgets-location-button-view");ha=da["address-ui-widgets-mshop-location-permission-alert-description"];ja=da["address-ui-widgets-mshop-location-permission-alert-feature-name"];
    Y=da["address-ui-widgets-device-location-error-alert-description"];ca=da["address-ui-widgets-device-location-permission-fetching"];ka=da["address-ui-widgets-device-location-error-ok-button"];if(V(a)){fa=da["address-ui-widgets-address-form-location-autofill-feedback-message-header"];O=da["address-ui-widgets-address-form-location-autofill-feedback-message-content"];var c=L("#address-ui-widgets-address-form-location-autofill-feedback-message .a-changeover-inner strong");c.length&&c.replaceWith("\x3cspan class\x3d'a-text-bold'\x3e"+
    fa+"\x3c/span\x3e\x3cbr\x3e\x3cspan\x3e"+O+"\x3c/span\x3e")}w();a.state("address-ui-widgets-autofill-address-location-permission-bottom-sheet-state")&&T===C&&(T=!0,q.auiwsPerformAjaxCall({operation:"CustomerFirstAddressCreationStatus",data:{}}).then(B).catch(l))}}function w(){var b=L("#address-ui-widgets-enterAddressFormContainer");b&&(b=b.find("#address-ui-widgets-DetectLocationButton"))&&b.click(function(b){b.preventDefault();if(V(a)){var c=m.get(L("#address-ui-widgets-detect-location-button-tooltip"));
    c&&c.hide()}k(b)})}function k(a){N.disable();M.show();Z.getInstance(a,Y);try{I=Date.now();var b=location.host.split(".")[0];(b.includes("development")||b.includes("pre-prod")||b.includes("sg-beta")||b.includes("sg-gamma"))&&z("isLocationDebug")?(a={},a.longitude=z("longitude"),a.latitude=z("latitude"),u(a)&&J(a)):c.getCurrentPosition({description:ha,featureName:ja},D,E)}catch(d){p("AddressFormAutoPopulation:ByLocation:Failure"),M.hide(),N.enable()}}function t(){h.when("detect-location-auto-bottomsheet",
    "a-sheet").execute("detectLocationBottomSheet",function(b,d){var e,f;W=d;if(a.capabilities.mobile&&(p("AddressFormAutoPopulation:LocationPermissionBottomSheetFeature:Eligible"),b.initDomElementIdMap(),d=L("#address-ui-widgets-enterAddressFormContainer"))&&(d=d.find("#address-ui-widgets-DetectLocationButton"))){var g={target:d};a.capabilities.isAmazonApp?k(g):c.getPermissionStatus().then(function(a){p("AddressFormAutoPopulation:mWeb:PermissionStatus:"+a);"prompt"===a?W!==C&&W.get("locationPermissionMobileWebBottomSheet")===
    C&&(e=b.getLocationPermissionBottomSheetAllowButtonId(),f=b.getLocationPermissionBottomSheetNotNowButtonId(),X=b.createLocationPermissionBottomSheet(),W.showSheet(X),y(g,e,f),b.setupBottomSheetRemoval(X),p("AddressFormAutoPopulation:mWeb:locationPermissionMobileWebBottomSheet:Shown")):"granted"!==a&&"denied"!==a||k(g)})}})}function B(a){a&&a.data?(a=a.data,"true"===a.isAjaxError?p("AddressFormAutoPopulation:AjaxOperationSuccess:CustomerFirstAddressCreationStatus:AjaxError"):(p("AddressFormAutoPopulation:AjaxOperationSuccess:CustomerFirstAddressCreationStatus"),
    "false"===a.isFirstAddressCreation?p("AddressFormAutoPopulation:AjaxOperationSuccess:CustomerFirstAddressCreationStatus:"+a.isFirstAddressCreation):(p("AddressFormAutoPopulation:AjaxOperationSuccess:Eligible"),a=Date.now()-I,ga("AddressFormAutoPopulation:LocationPermissionBottomSheetFeature:Latency",a),t()))):p("AddressFormAutoPopulation:AjaxOperationFailure:CustomerFirstAddressCreationStatus:NullResult")}function l(){p("AddressFormAutoPopulation:AjaxOperationFailure:CustomerFirstAddressCreationStatus")}
    function y(a,b,c){L("#"+c).unbind().click(function(){W&&X&&W.hideSheet(X);p("AddressFormAutoPopulation:mWeb:locationPermissionMobileWebBottomSheet:NotNowClicked")});L("#"+b).unbind().click(function(){p("AddressFormAutoPopulation:mWeb:locationPermissionMobileWebBottomSheet:AllowAccessClicked");W&&X&&W.hideSheet(X);k(a)})}function z(a){for(var b=null,c,d=location.search.substr(1).split("\x26"),e=0;e<d.length;e++)c=d[e].split("\x3d"),c[0]===a&&(b=decodeURIComponent(c[1]));return b}function D(b){var c=
    Date.now()-I;ga("AddressFormAutoPopulation:ByLocation:PermissionLatency",c);a.capabilities.isAmazonApp||ya()?a.capabilities.ios?ga("AddressFormAutoPopulation:ByLocation:IOSSuccessLatency",c):ga("AddressFormAutoPopulation:ByLocation:AndroidSuccessLatency",c):ga("AddressFormAutoPopulation:ByLocation:WebSuccessLatency",c);b&&(b=b.coords,u(b)&&J(b))}function u(a){return a&&null!=a.latitude&&a.latitude!=C&&null!=a.longitude&&a.longitude!=C?!0:!1}function E(b){p("AddressFormAutoPopulation:ByLocation:PermissionDenied");
    b=Date.now()-I;a.capabilities.isAmazonApp||ya()?a.capabilities.ios?ga("AddressFormAutoPopulation:ByLocation:IOSFailureLatency",b):ga("AddressFormAutoPopulation:ByLocation:AndroidFailureLatency",b):ga("AddressFormAutoPopulation:ByLocation:WebFailureLatency",b);M.hide();N.enable();Z.updateInstance(ca).show()}function J(b){q.auiwsPerformAjaxCall({operation:"LocationBasedAddress",data:{latitude:b.latitude,longitude:b.longitude}}).then(function(b){if((b=b.data)&&"true"!==b.isAjaxError){var c=Date.now();
    ga("AddressFormAutoPopulation:ByLocation:Latency",c-I);c=b.addressFormCountryCode;L("#address-ui-widgets-countryCode-dropdown-nativeId").val()!==c?a.trigger("current-location-detection-country-switch",c,G,b):G(b,c);p("AddressFormAutoPopulation:ByLocation:Success");p("AddressFormAutoPopulation:ByLocation:Success:Mobile:"+c)}else p("AddressFormAutoPopulation:ByLocation:InvalidCurrentLocationWithSuccessfulResponse"),M.hide(),N.enable(),Z.updateInstance(Y).show()}).catch(function(){p("AddressFormAutoPopulation:ByLocation:InvalidCurrentLocation");
    M.hide();N.enable();Z.updateInstance(Y).show()})}function G(b,c){if(b){var d=L("[id\x3daddress-ui-widgets-enterAddressFormContainer]:visible"),e=L("[name\x3daddress-ui-widgets-locationData]");e&&e[0]&&(e[0].value=JSON.stringify(b));switch(c){case "US":n("address-ui-widgets-enterAddressLine1",b.addressLineOne,d);n("address-ui-widgets-enterAddressCity",b.city,d);n("address-ui-widgets-enterAddressPostalCode",b.postalCode,d);n("address-ui-widgets-enterAddressStateOrRegion",b.stateOrRegion,d);break;case "GB":n("address-ui-widgets-enterAddressLine1",
    b.addressLineOne,d);n("address-ui-widgets-enterAddressLine2",b.addressLineTwo,d);n("address-ui-widgets-enterAddressCity",b.city,d);n("address-ui-widgets-enterAddressPostalCode",b.postalCode,d);n("address-ui-widgets-enterAddressDistrictOrCounty",b.districtOrCounty,d);break;case "IT":c="";b.buildingNumber&&b.streetName?c=b.streetName.trim()+", "+b.buildingNumber.trim():b.streetName?c=b.streetName.trim():b.buildingNumber&&(c=b.buildingNumber.trim());n("address-ui-widgets-enterAddressLine1",c,d);n("address-ui-widgets-enterAddressCity",
    b.city,d);n("address-ui-widgets-enterAddressPostalCode",b.postalCode,d);n("address-ui-widgets-enterAddressStateOrRegion",b.districtOrCounty,d);break;case "FR":n("address-ui-widgets-enterAddressLine1",b.addressLineOne,d);n("address-ui-widgets-enterAddressCity",b.city,d);n("address-ui-widgets-enterAddressPostalCode",b.postalCode,d);n("address-ui-widgets-enterAddressStateOrRegion",b.districtOrCounty,d);break;case "PL":n("address-ui-widgets-enterAddressLine1",b.addressLineOne,d);n("address-ui-widgets-enterAddressPostalCode",
    b.postalCode,d);b=b.city;d=g.getSelect("#address-ui-widgets-enterAddressCity-dropdown-nativeId");d.getOptions().remove();d.addOption({text:b,value:b});d.setValue(b);d.update({status:"normal"});break;case "IN":n("address-ui-widgets-enterAddressLine1",b.addressLineOne,d);n("address-ui-widgets-enterAddressLine2",b.addressLineTwo,d);n("address-ui-widgets-enterAddressCity",b.city,d);n("address-ui-widgets-enterAddressPostalCode",b.postalCode,d);n("address-ui-widgets-enterAddressDistrictOrCounty",b.districtOrCounty,
    d);n("address-ui-widgets-landmark",b.landmark,d);n("address-ui-widgets-enterAddressStateOrRegion",b.stateOrRegion,d);break;case "BR":ba="T1"==F(a,"ARX_REMOVE_AUTOFILL_DETECT_LOCATION_BR_489857","C");c=b.postalCode.replace("-","");e=b.addressLineOne;ba&&(e=b.addressLineOne.replace(b.buildingNumber,"").trim());n("address-ui-widgets-enterAddressLine1",e,d);n("address-ui-widgets-streetName",b.streetName,d);ba||n("address-ui-widgets-buildingNumber",b.buildingNumber,d);n("address-ui-widgets-enterAddressPostalCode",
    c,d);n("address-ui-widgets-neighborhood",b.addressLineTwo,d);n("address-ui-widgets-enterAddressCity",b.city,d);n("address-ui-widgets-enterAddressStateOrRegion",b.stateOrRegion,d);break;case "DE":e=c="";b.buildingNumber&&(c=b.buildingNumber.trim());b.streetName&&(e=b.streetName.trim());n("address-ui-widgets-enterAddressLine2",e+" "+c,d);n("address-ui-widgets-enterAddressCity",b.city,d);n("address-ui-widgets-enterAddressPostalCode",b.postalCode,d);n("address-ui-widgets-enterAddressDistrictOrCounty",
    b.districtOrCounty,d);break;case "CA":n("address-ui-widgets-enterAddressLine1",b.addressLineOne,d);n("address-ui-widgets-enterAddressCity",b.city,d);n("address-ui-widgets-enterAddressPostalCode",b.postalCode,d);n("address-ui-widgets-enterAddressStateOrRegion",b.stateOrRegion,d);break;case "SG":n("address-ui-widgets-enterAddressLine1",b.addressLineOne,d);n("address-ui-widgets-enterAddressCity",b.city,d);n("address-ui-widgets-enterAddressPostalCode",b.postalCode,d);n("address-ui-widgets-enterAddressDistrictOrCounty",
    b.districtOrCounty,d);break;case "BE":n("address-ui-widgets-streetName",b.streetName,d);n("address-ui-widgets-buildingNumber",b.buildingNumber,d);n("address-ui-widgets-enterAddressLine2",b.addressLineTwo,d);n("address-ui-widgets-enterAddressPostalCode",b.postalCode,d);n("address-ui-widgets-enterAddressCity",b.city,d);break;case "CL":if("T1"==F(a,"CJP_ARX_CL_FRESA_ADDRESS_FORM_573474","C")){c=b.stateOrRegion;var e=b.city,f=b.postalCode;n("address-ui-widgets-enterAddressLine1",b.addressLineOne,d);n("address-ui-widgets-enterAddressLine2",
    b.addressLineTwo,d);c&&e&&f&&(n("address-ui-widgets-enterAddressStateOrRegion",c,d),n("address-ui-widgets-enterAddressCity",e,d),n("address-ui-widgets-enterAddressPostalCode",f,d))}else H(b,d);break;case "CO":if("T1"==F(a,"CJP_ARX_CO_FRESA_ADDRESS_FORM_573475","C")){c=b.districtOrCounty;var e=b.city,f=b.addressLineTwo,h=b.postalCode;n("address-ui-widgets-enterAddressLine1",b.addressLineOne,d);c&&e&&f&&h&&(n("address-ui-widgets-enterAddressStateOrRegion",c,d),n("address-ui-widgets-enterAddressCity",
    e,d),n("address-ui-widgets-enterAddressDistrictOrCounty",f,d),n("address-ui-widgets-enterAddressPostalCode",h,d))}else H(b,d);break;case "NG":"T1"==F(a,"CJP_ARX_NG_FRESA_ADDRESS_FORM_573476","C")?(c=b.stateOrRegion,e=b.city,f=b.districtOrCounty,h=b.postalCode,n("address-ui-widgets-enterAddressLine1",b.addressLineOne,d),n("address-ui-widgets-enterAddressLine2",b.addressLineTwo,d),c&&e&&f&&h&&(n("address-ui-widgets-enterAddressStateOrRegion",c,d),n("address-ui-widgets-enterAddressCity",e,d),n("address-ui-widgets-enterAddressDistrictOrCounty",
    f,d),n("address-ui-widgets-enterAddressPostalCode",h,d))):H(b,d);break;case "ZA":c=b.postalCode;e=b.stateOrRegion;f=b.districtOrCounty;h=b.city;n("address-ui-widgets-enterAddressLine1",b.addressLineOne,d);n("address-ui-widgets-enterAddressLine2",b.addressLineTwo,d);c&&e&&f&&h&&(n("address-ui-widgets-enterAddressPostalCode",c,d),n("address-ui-widgets-enterAddressStateOrRegion",e,d),n("address-ui-widgets-enterAddressCity",f,d),n("address-ui-widgets-enterAddressDistrictOrCounty",h,d));break;default:H(b,
    d)}b=V(a)?L("#address-ui-widgets-prefill-fields-container"):L("#address-ui-widgets-countryCode-dropdown-nativeId");L("html, body").animate({scrollTop:parseInt(.96*L(b).offset().top)});V(a)&&L("#address-ui-widgets-address-form-location-autofill-feedback-message").stop(!0,!0).fadeIn(200).delay(3E3).fadeOut(200)}M.hide();N.enable()}function H(a,b){n("address-ui-widgets-enterAddressLine1",a.addressLineOne,b);n("address-ui-widgets-enterAddressLine2",a.addressLineTwo,b);n("address-ui-widgets-enterAddressCity",
    a.city,b);n("address-ui-widgets-enterAddressPostalCode",a.postalCode,b);n("address-ui-widgets-enterAddressDistrictOrCounty",a.districtOrCounty,b);n("address-ui-widgets-enterAddressStateOrRegion",a.stateOrRegion,b)}function n(a,b,c){var d=c.find("#"+a+"-dropdown-nativeId")[0];if(d)for(var e=0;e<d.options.length;e++){if(d.options[e].innerText.toUpperCase()===b.toUpperCase()){d.options.selectedIndex=e;c.find("#"+a).find(".a-dropdown-prompt")[0].textContent=d.options[e].text;break}}else a=L("#"+a),b&&
    a&&a.val(b)}var L=a.$,I,M,N,da,ha,ja,Y,ca,ka,fa,O,W,X,T,ba;a.on("ajax_reload",function(b){L=a.$;r()});a.on("address-form-load",function(b){L=a.$;r()});r();var Z=function(){function a(b){return{inlineContent:"\x3cp\x3e"+b+"\x3c/p\x3e"+('\x3ca id\x3d"address-ui-widgets-location-detection-error-touch-link" href\x3d"#" class\x3d"a-touch-link a-box a-spacing-small cloned-touch-link-unique-id-class aok-offscreen"\x3e\x3cdiv class\x3d"a-box-inner"\x3e\x3ci class\x3d"a-icon a-icon-touch-link"\x3e\x3c/i\x3e\x3cspan id\x3d"address-ui-widgets-location-detection-error-touch-link-text"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/a\x3e\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close" data-a-popover-close\x3d"{}"\x3e\x3cspan id\x3d"address-ui-widgets-location-detection-error-ok-button" class\x3d"a-button a-button-base"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput name\x3d"address-ui-widgets-location-detection-error-ok-button" class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"address-ui-widgets-location-detection-error-ok-button-announce"\x3e\x3cspan id\x3d"address-ui-widgets-location-detection-error-ok-button-announce" class\x3d"a-button-text" aria-hidden\x3d"true"\x3e'+
    ka+"\x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\x3c/span\x3e")}}var b;return{getInstance:function(c,d){b||(d=a(d),c&&(b=f.create(c.target,d)));return b},updateInstance:function(c){c=a(c);b.update(c);return b}}}()});h.when("A","pin-on-maps-utils","ready").execute("pin-on-maps-location-service-executor",function(a,b){function c(){b.isPinOnMapsEnabled(a)&&!f&&(f=!0,a.capabilities.isAmazonApp||ya()?h.when("address-book-mshop-location-service").execute("pin-on-maps-address-book-mshop-location-service-executor",
    function(a){h.register("pin-on-maps-location-service",function(){return a})}):h.when("address-book-web-location-service").execute("pin-on-maps-address-book-web-location-service-executor",function(a){h.register("pin-on-maps-location-service",function(){return a})}))}var d=a.$,f=!1;a.on("ajax_reload",function(b){d=a.$;c(b)});a.on("popover-interacted",function(a){d=I(d,a);M(c,a)});a.on("address-form-load",function(b){d=a.$;c(b)})});h.when("A","ready").execute("address-book-location-service-executor",
    function(a){a.capabilities.isAmazonApp||ya()?h.when("address-book-mshop-location-service").execute("address-book-geolocation-service-executor",function(a){h.register("address-book-location-service",function(){return a})}):h.when("address-book-web-location-service").execute("address-book-geolocation-service-executor",function(a){h.register("address-book-location-service",function(){return a})})});h.when("A","ready").register("address-book-web-location-service",function(a){return{getCurrentPosition:function(a,
    c,d){if(navigator.geolocation)navigator.permissions&&navigator.permissions.query?navigator.permissions.query({name:"geolocation"}).then(function(a){a&&a.state&&"denied"===a.state?d():navigator.geolocation.getCurrentPosition(c,d)}):navigator.geolocation.getCurrentPosition(c,d,{enableHighAccuracy:!1,maximumAge:6E4});else throw"navigator.geolocation module is failed to be initialized.";},isPermissionGranted:function(){return new Promise(function(a,c){navigator.permissions?navigator.permissions.query({name:"geolocation"}).then(function(c){c&&
    "granted"===c.state?a(!0):a(!1)}):a(!1)})},getPermissionStatus:function(){return new Promise(function(a,c){navigator.permissions?navigator.permissions.query({name:"geolocation"}).then(function(c){c?a(c.state):a(!1)}):a(!1)})}}});h.when("A","LocationService","mash","pin-on-maps-utils","ready").register("address-book-mshop-location-service",function(a,b,c,d){function f(b,d,f){var g=function(){h.getCurrentPosition({successCallback:d,failCallback:f,options:{maximumAge:6E4}})},k=function(){c.permissions.requireForFeature({featureID:"addressform",
    requestID:"location_permission",uiResources:{featureName:b.featureName,description:b.description}}).onPermissionGranted(g).onPermissionDenied(f)};a.capabilities.android?e(k,f):k()}function e(b,c){h&&"function"===typeof h.checkLocationSettings?h.checkLocationSettings({successCallback:function(e){e=e&&e.settingsStates?e.settingsStates.isLocationUsable:!0;e?(p("AddressFormAutoPopulation:Android:DeviceLocationEnabled"),b()):d.isPinOnMapsEnabled(a)&&"T1"===F(a,"CJP_ARX_PIN_ON_MAPS_BUGS_BATCH_1_566923",
    "C")?(p("AddressFormAutoPopulation:Android:DeviceLocationDisabled"),b()):(p("AddressFormAutoPopulation:Android:DeviceLocationDisabled"),c())},failCallback:function(a){p("AddressFormAutoPopulation:Android:DeviceLocationDisabled");c()}}):(p("AddressFormAutoPopulation:Android:DeviceLocationDisabled"),c())}function g(){return new Promise(function(a,b){c.permissions&&c.permissions.available?c.permissions.isGranted({featureID:"addressform",requestID:"location_permission"}).then(function(b){b?a(!0):a(!1)}):
    a(!1)})}var h=b&&b.createLocationManager("addressform");if(h&&c.permissions&&c.permissions.available)return{getCurrentPosition:f,isPermissionGranted:g}});var Sa={SA:!0,EG:!0,ZA:!0};h.when("A","ready").execute("address-form-modal-scrollability-helper-executor",function(a){function b(a){return-1<["edit-address","add-address","add-billing-address","addAddressModal","editAddressModal"].indexOf(a)}a.capabilities&&a.capabilities.touch&&!a.capabilities.mobile&&!a.capabilities.tablet&&(a.on("a:popover:beforeShow",
    function(a){if(b(a.popover.name)){var d=a.popover.$popover.closest(".a-modal-scroller");d.scrollTop(0).css("visibility","visible");d.bind("scroll",function(){a.popover.updateChildrenPosition()})}}),a.on("a:popover:beforeHide",function(a){b(a.popover.name)&&(a=a.popover.$popover.closest(".a-modal-scroller"),a.css("visibility","hidden"),a.unbind("scroll"))}))});var Ba={SA:"Riyadh;Makkah Al Mukarramah;Al Madinah Al Munawwarah;Dammam;Jeddah;Al Khobar;الرياض;مكة المكرمة;المدينة المنورة;الدمام;جدة;الخبر".split(";"),
    EG:"Cairo;Giza;Alexandria;Zagazig;Mansoura;New Cairo City;القاهرة;الجيزة;الإسكندرية;الزقازيق;المنصورة;القاهرة الجديدة".split(";")},Ra={SA:["AL","EL"],EG:["AL","EL"]},La={isTopCity:function(a,b){return"undefined"!==typeof Ba&&"undefined"!==typeof Ba[a]&&Ba[a].includes(b)},boostScoresOfTopCities:function(a,b,c){if("undefined"!==typeof Ba&&"undefined"!==typeof Ba[a])for(var d=0;d<c.length;++d)Ba[a].includes(c[d].place.address[b])&&(c[d].score=Math.pow(1.6,10*c[d].score)/10)}};h.when("A","ready").execute("address-search-executor",
    function(a){function b(a,b){t.ue&&t.ue.count&&t.ue.count(a,b)}function c(a,b){var c=r("\x3cspan\x3e\x3c/span\x3e");b&&c.css("background-color","yellow");c.text(a);return c}function d(a,b){for(var d=[],e=a.toLowerCase(),f=0,g=e.indexOf(b);-1!=g;)f<g&&(d.push(c(a.substring(f,g),!1)),f=g),d.push(c(a.substring(f,f+b.length),!0)),f+=b.length,g=e.indexOf(b,f);d.push(c(a.substring(f,a.length,!1)));return d}function f(b,c){0!==c.length&&a.each(b.originalTextByLine,function(e,f){a.contains(e.toLowerCase(),
    c)&&(b.displayedTextElementsArray[f].empty(),a.each(d(e,c),function(a,c){b.displayedTextElementsArray[f].append(a)}))})}function e(b){a.each(b.originalTextByLine,function(a,c){b.displayedTextElementsArray[c].text(a)})}function g(){var c=B.val().toLowerCase();y||z||!c||(b("identityAddrUXSearchUsed",1),b("identityAddrUXSearchUsedAddrCount",u),a.trigger("identity-assets-address-search-use"),y=!0);A!==c&&(l=C,a.each(k,function(b,d){b.addressObject.addClass("aok-offscreen");a.each(b.originalTextByLine,
    function(d,g){if(a.contains(d.toLowerCase(),c))return e(b),f(b,c),b.addressObject.removeClass("aok-offscreen"),!1})}),A=c,E&&(t.clearTimeout(E),E=C),E=t.setTimeout(function(){B.blur()},3E3))}function h(b){u=0;k={};a.each(b,function(b,c){u+=1;k[c]={};k[c].addressObject=r(b);k[c].displayedTextElementsArray=k[c].addressObject.find(".id-addr-ux-search-text");a.each(k[c].displayedTextElementsArray,function(a,b){k[c].displayedTextElementsArray[b]=r(a)});k[c].originalTextByLine=[];a.each(k[c].displayedTextElementsArray,
    function(a,b){a=r(a);k[c].originalTextByLine.push(a.text())})})}function m(){a.each(k,function(c,d){var e=function(){if(!c.addressObject.hasClass("aok-offscreen")&&!z){var e=Date.now();if(B.val())b("identityAddrUXSearchResultUsed",1),b("identityAddrUXSearchResultUsedTime",e-D),b("identityAddrUXSearchResultUsedAddrCount",Object.keys(k).length),a.equals(l,c)&&b("identityAddrUXSearchAutoselectResultUsed",1);else{var f=y?"Search":"NonSearch";b("identityAddrUX"+f+"NonResultUsed",1);b("identityAddrUX"+
    f+"NonResultUsedTime",e-D);d<p.threshold&&b("identityAddrUX"+f+"NonResultTopAddrUsed",1)}z=!0}};c.addressObject.find("a").click(e);c.addressObject.find("input:submit").click(e)})}function q(){var c=r("#id-addr-ux-search-box-container");if(c&&p&&0!==c.length&&(B=c.find("#id-addr-ux-text-input-search"),0!==B.length)){var d=r(p.addressCSSSelector);if("number"===typeof p.threshold&&!(d.length<p.threshold)){b("identityAddrUXSearchWidgetLoad",1);c.removeClass("aok-offscreen");var e=a.debounce(g,150,!1),
    f=c.offset().top-5;B.bind("input cut paste",function(a){r("html,body").scrollTop(f);""===B.val()&&r("html,body").scrollTop(0);0!==k.length&&e()});h(d);m(d)}}}var r=a.$;a.state.parse();var p=a.state("searchBarOptions"),k,A="",B,l,y=!1,z=!1,D=Date.now(),u,E;a.on("address-book-load",function(){r=a.$;q()})});var bb={languageCodes:{pl_PL:"pl_PL"},addressFormLanguageCharactersNotSupported:{pl_PL:["SG","JP","AU"]},isLanguageSupportedByMarketplace:function(a,b){return a in this.addressFormLanguageCharactersNotSupported?
    !this.addressFormLanguageCharactersNotSupported[a].includes(b):!1}};h.when("A","ready").execute("postalcode-autopopulation-handler-executor",function(a){function b(b){var c=a.state("address-ui-widgets-from-view-state");if(c&&c["country-code"]&&c["marketplace-code"]){var e=c["country-code"],c=c["marketplace-code"],g=Na(b),h="AU IN JP MX PL SE SG".split(" ");"AU DE ES FR IN IT JP MX SG US".split(" ").includes(c)&&!g&&h.includes(e)&&a.trigger("handle-pre-populated-postal-code",e,b)}}var c=a.$;a.on("address-form-load",
    function(){c=a.$;p("handlePrefilledPostalCodeTotal");b(c)});a.on("popover-interacted",function(a){c=I(c,a);p("handlePrefilledPostalCodeTspcTotal");b(c)})});h.when("A","ready").execute("reset-tab-index-executor",function(a){a=a.$;for(var b=["#address-ui-widgets-enterAddressStateOrRegion-dropdown-nativeId","#address-ui-widgets-countryCode-dropdown-nativeId"],c=0;c<b.length;c++){var d=a(b[c]);d&&-1==d.attr("tabindex")&&d.attr("tabindex",0)}});h.when("A","address-ui-widgets-service-old-aui-missing-functions",
    "a-alert","a-dropdown","geographic-info-service","ajax-call-module","ready").execute("zip-code-validation-executor",function(a,b,c,d,f,e){function g(e){D=F(a,"ARX_ADDRESS_ZIP_DYNAMIC_VALIDATION_461972","C");u=Ca(D);E=Ga(D);e=Ma(e);u&&e&&G.includes(e)&&(h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!=C||(c=b.alertFunction,d.getSelect=b.dropdownGetSelectFunction,a.state.parse=b.stateParsingFunction,r=!0),a.state.parse(),y=e,w="AddressDynamicValidation",B=null,k=q("#address-ui-widgets-enterAddressFormContainer"),
    0!==k.length&&(A=k.find("#address-ui-widgets-enterAddressPostalCode"),0!==A.length&&(z=c(q("#address-ui-widgets-postalcode-error")),J=q("#address-ui-widgets-enterAddressPostalCode-full-validation-alerts"),e=r?ja(m,E):a.debounce(m,E),A.bind("input",e))))}function m(a){B=a.target.value;null===B||""===B?z.hide():B!==l&&(l=B,e.auiwsPerformAjaxCall({operation:w,data:{"address-ui-widgets-countryCode":y,"address-ui-widgets-enterAddressPostalCode":B}}).then(t).catch(function(){p("AddressUIWidgets_AddressDynamicValidation_ADDRESS_DYNAMIC_ZIP_VALIDATION:AJAX:Failure")}))}
    function t(a){var b;if(b=!!a)b=a.data?void 0:!0,b=!b;b?(a=a.data,p("AddressUIWidgets_AddressDynamicValidation_ADDRESS_DYNAMIC_ZIP_VALIDATION:AJAX:Success"),"false"===a.isAjaxError?(ka(J,A),"false"===a.isZipValid?z.show():z.hide()):p("AddressUIWidgets_AddressDynamicValidation_ADDRESS_DYNAMIC_ZIP_VALIDATION:Error")):p("AddressUIWidgets_AddressDynamicValidation_ADDRESS_DYNAMIC_ZIP_VALIDATION:AJAX:Failure")}var q=a.$,r=!1,w,k,A,B,l,y,z,D,u,E,J,G=["US","DE"];a.on("ajax_reload",function(b){q=a.$;g(b)});
    a.on("popover-interacted",function(a){q=I(q,a);M(g,a)});a.on("address-form-load",function(b){q=a.$;g(b)})});h.when("A","ready").register("pin-on-maps-utils",function(){return{isPinOnMapsEnabled:function(a){return 0<a.$("#address-ui-widgets-pin-on-maps-hidden-input-state-id").length}}});"use strict";h.when("A","pin-on-maps-utils","ajax-call-module","ready").execute("pin-on-maps-ajax-helper-executor",function(a,b,c){function d(){b.isPinOnMapsEnabled(a)&&!e&&(e=!0,h.when("A","ready").register("pin-on-maps-ajax-helper",
    function(a){function b(a){return function(b){t.ue&&t.ue.count&&t.ue.count("PinOnMaps:AjaxError",(t.ue.count("PinOnMaps:AjaxError")||0)+1);a({isAjaxError:"true",errorCode:"NetworkFailure",errorMessage:"A network error or timeout occurred"})}}function d(b){var c=a.state("identity-address-ux-ajax-data")["identity-address-ux-ajax-auth-token"];return{operation:"AddressDiscoveryService",data:b,ajaxToken:c}}function e(a){a=a.data;if("true"===a.isAjaxError)throw a;return a}return{ajax:function(a){return(new Promise(function(e,
    f){c.auiwsPerformAjaxCall(d(a)).then(e).catch(b(f))})).then(e)}}}))}var f=a.$,e=!1;a.on("ajax_reload",function(b){f=a.$;d(b)});a.on("popover-interacted",function(a){f=I(f,a);M(d,a)});a.on("address-form-load",function(b){f=a.$;d(b)})});var Ha=1E3,Xa=1500,Ya=2E3,za="a-form-error",Aa="address-ui-widgets-input-text-box-warning-state";h.when("A","address-ui-widgets-service-old-aui-missing-functions","a-alert","ready").execute("dynamic-zip-validation-autofill-executor",function(a,b,c){function d(){m=F(a,
    "ARX_ADDRESS_ZIP_DYNAMIC_VALIDATION_461972","C");if(g=Ca(m))h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!=C||(c=b.alertFunction,a.state.parse=b.stateParsingFunction),a.state.parse(),p=e("#address-ui-widgets-enterAddressFormContainer"),0!==p.length&&(q=p.find("#address-ui-widgets-DetectLocationButton"),r=p.find("#address-ui-widgets-enterAddressLine1"),t=c(e("#address-ui-widgets-postalcode-error")),q.bind("click",f),r.bind("input",function(a){k=e(".awz-address-suggestions-list");k.is("!:hidden")&&k.bind("click",
    f)}))}function f(){t.hide()}var e=a.$,g,m,p,q,r,t,k;a.on("ajax_reload",function(b){e=a.$;d()});a.on("popover-interacted",function(a){e=I(e,a);M(d,a)});a.on("address-form-load",function(b){e=a.$;d()})});h.when("A","address-ui-widgets-service-old-aui-missing-functions","a-alert","a-dropdown","ajax-call-module","ready").execute("name-field-dynamic-validation-executor",function(a,b,c,d,f){function e(e){D=F(a,"CJ_ARX_ADDRESS_NAME_DYNAMIC_VALIDATION_696009","C");u="T1"===D||"T2"===D||"T3"===D;E=Za(D);u&&
    e&&(e=Ma(e),h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!=C||(c=b.alertFunction,d.getSelect=b.dropdownGetSelectFunction,a.state.parse=b.stateParsingFunction,r=!0),a.state.parse(),A=e,w=q("#address-ui-widgets-enterAddressFormContainer"),0!==w.length&&(l="",k=w.find("#address-ui-widgets-enterAddressFullName"),J=q("#address-ui-widgets-enterAddressFullName-full-validation-alerts"),0!==k.length&&(z={address_ui_widgets_avs_invalid_name_titles:c(q("#address-ui-widgets-full-name-titles-warning")),address_ui_widgets_avs_invalid_name_special_characters:c(q("#address-ui-widgets-full-name-special-characters-error")),
    address_ui_widgets_avs_name_has_offensive_words:c(q("#address-ui-widgets-full-name-offensive-words-error"))},y=r?ja(g,E):a.debounce(g,E),k.bind("input",y))))}function g(a){B=k.val();if(B!==l)if(l=B,""===B){k.removeClass(za);k.removeClass(Aa);for(var b in z)z[b].hide()}else a=m,b=t,f.auiwsPerformAjaxCall({operation:"NameDynamicValidation",data:{"address-ui-widgets-countryCode":A,"address-ui-widgets-enterAddressFullName":B}}).then(a).catch(b)}function m(a){var b;(b=a?void 0:!0)||(b=a.data?void 0:!0);
    if(b)p("AddressUIWidgets_ADDRESS_NAME_DYNAMIC_VALIDATION:NAME_AJAX:FAILURE");else if(p("AddressUIWidgets_ADDRESS_NAME_DYNAMIC_VALIDATION:NAME_AJAX:SUCCESS"),a=a.data,"true"===a.isAjaxError)p("AddressUIWidgets_ADDRESS_NAME_DYNAMIC_VALIDATION:NAME_AJAX:ERROR");else{ka(J,k);k.removeClass(za);k.removeClass(Aa);for(var c in z)z[c].hide();"true"===a.isNameValid?p("AddressUIWidgets_ADDRESS_NAME_DYNAMIC_VALIDATION:NAME:VALID"):(c=JSON.parse(a.nameErrorMessages).find(function(a){return"name"===a.addressFieldId}),
    "undefined"===c?p("AddressUIWidgets_ADDRESS_NAME_DYNAMIC_VALIDATION:NAME_AJAX:INVALID_ERROR_ID"):ab(k,z[c.errorStringId],c.isFieldHardblocked))}}function t(){p("AddressUIWidgets_ADDRESS_NAME_DYNAMIC_VALIDATION:NAME_AJAX:FAILURE")}var q=a.$,r=!1,w,k,A,B,l,y,z,D,u,E,J;a.on("ajax_reload",function(b){q=a.$;e(b)});a.on("au-form-load",function(b){q=a.$;e(b)});a.on("popover-interacted",function(a){q=I(q,a);M(e,a)});a.on("address-form-load",function(b){q=a.$;e(b)})});h.when("A","address-ui-widgets-service-old-aui-missing-functions",
    "a-alert","a-dropdown","ajax-call-module","ready").execute("phone-field-dynamic-validation-executor",function(a,b,c,d,f){function e(e){D=F(a,"CJ_ARX_ADDRESS_PHONE_DYNAMIC_VALIDATION_696011","C");u="T1"===D||"T2"===D||"T3"===D;E=Za(D);u&&e&&(e=Ma(e),h.AUI_BUILD_DATE&&h.AUI_BUILD_DATE!=C||(c=b.alertFunction,d.getSelect=b.dropdownGetSelectFunction,a.state.parse=b.stateParsingFunction,r=!0),a.state.parse(),A=e,w=q("#address-ui-widgets-enterAddressFormContainer"),0!==w.length&&(l="",k=w.find("#address-ui-widgets-enterAddressPhoneNumber"),
    J=q("#address-ui-widgets-enterAddressPhoneNumber-full-validation-alerts"),0!==k.length&&(z={address_ui_widgets_address_voice_invalid:c(q("#address-ui-widgets-address-voice-invalid-error")),address_ui_widgets_invalid_mobile_num:c(q("#address-ui-widgets-phone-number-invalid-error")),address_ui_widgets_avs_voice_non_numeric:c(q("#address-ui-widgets-phone-number-non-numeric-error")),address_ui_widgets_avs_voice_insufficient:c(q("#address-ui-widgets-phone-number-insufficient-chars-warning"))},y=r?ja(g,
    E):a.debounce(g,E),k.bind("input",y))))}function g(a){B=k.val();if(B!==l)if(l=B,""===B){k.removeClass(za);k.removeClass(Aa);for(var b in z)z[b].hide()}else a=m,b=t,f.auiwsPerformAjaxCall({operation:"PhoneDynamicValidation",data:{"address-ui-widgets-countryCode":A,"address-ui-widgets-enterAddressPhoneNumber":B}}).then(a).catch(b)}function m(a){var b;(b=a?void 0:!0)||(b=a.data?void 0:!0);if(b)p("AddressUIWidgets_ADDRESS_PHONE_DYNAMIC_VALIDATION:PHONE_AJAX:FAILURE");else if(p("AddressUIWidgets_ADDRESS_PHONE_DYNAMIC_VALIDATION:PHONE_AJAX:SUCCESS"),
    a=a.data,"true"===a.isAjaxError)p("AddressUIWidgets_ADDRESS_PHONE_DYNAMIC_VALIDATION:PHONE_AJAX:ERROR");else{ka(J,k);k.removeClass(za);k.removeClass(Aa);for(var c in z)z[c].hide();"true"===a.isPhoneValid?p("AddressUIWidgets_ADDRESS_PHONE_DYNAMIC_VALIDATION:PHONE:VALID"):(c=JSON.parse(a.phoneErrorMessages).find(function(a){return"voice"===a.addressFieldId||"phone"===a.addressFieldId||"mobile"===a.addressFieldId}),"undefined"===c?p("AddressUIWidgets_ADDRESS_PHONE_DYNAMIC_VALIDATION:PHONE_AJAX:INVALID_ERROR_ID"):
    ab(k,z[c.errorStringId],c.isFieldHardblocked))}}function t(){p("AddressUIWidgets_ADDRESS_PHONE_DYNAMIC_VALIDATION:PHONE_AJAX:FAILURE")}var q=a.$,r=!1,w,k,A,B,l,y,z,D,u,E,J;a.on("ajax_reload",function(b){q=a.$;e(b)});a.on("au-form-load",function(b){q=a.$;e(b)});a.on("popover-interacted",function(a){q=I(q,a);M(e,a)});a.on("address-form-load",function(b){q=a.$;e(b)})});"use strict";h.when("A","ready").execute("useragent-metadata-handler-executor",function(a){function b(){try{var b=d("input[name\x3daddress-ui-widgets-user-agent-metadata-hidden-input]");
    if(b){var e=a.capabilities.ios?"iOS":a.capabilities.android?"Android":"UnknownOS",g,h=navigator.userAgent;g=a.capabilities.isChrome||h.match(/chrome|chromium|crios/i)?"Chrome":a.capabilities.isFirefox||h.match(/firefox|fxios/i)?"Firefox":a.capabilities.isSafari||h.match(/safari/i)?"Safari":h.match(/opr\//i)?"Opera":h.match(/edg/i)?"Edge":"UnknownBrowser";b.val(JSON.stringify({os:e,browser:g,application:c?"mShop":"mWeb"}))}}catch(m){t.ue&&t.ue.count&&t.ue.count("AddressUIWidgetsServiceAssets:FillUserAgentMetadataFailure",
    (t.ue.count("AddressUIWidgetsServiceAssets:FillUserAgentMetadataFailure")||0)+1)}}var c=a.capabilities.isAmazonApp||ya(),d=a.$;a.on("ajax_reload",function(c){d=a.$;b(c)});a.on("popover-interacted",function(a){d=I(d,a);M(b,a)});a.on("address-form-load",function(c){d=a.$;b(c)})});h.when("A","ready").execute("address-form-csm-time-per-field-executor",function(a){function b(b){var d=a.state("address-ui-widgets-from-view-state");if(d&&d["country-code"]){b=Na(b);for(var d=d["country-code"],e=0;e<f.length;e++)c(f[e],
    d,b)}}function c(a,b,c){d(a).focus(function(){e=Date.now()});d(a).blur(function(){(g=Date.now()-e)&&ga(c?a+":timeTakenOnField:edit:"+b:a+":timeTakenOnField:add:"+b,g)})}var d=a.$,f="#address-ui-widgets-enterAddressFullName #address-ui-widgets-countryCode #address-ui-widgets-enterAddressPhoneNumber #address-ui-widgets-enterAddressLine1 #address-ui-widgets-enterAddressLine2 #address-ui-widgets-enterAddressCity #address-ui-widgets-enterAddressStateOrRegion #address-ui-widgets-enterAddressPostalCode #address-ui-widgets-enterAddressLine3 #address-ui-widgets-enterAddressDistrictOrCounty #address-ui-widgets-enterAddressPostalCodeOne #address-ui-widgets-enterAddressPostalCodeTwo #address-ui-widgets-enterAddressCompanyName #address-ui-widgets-taxId #address-ui-widgets-landmark #address-ui-widgets-buildingNumber #address-ui-widgets-streetName #address-ui-widgets-complement #address-ui-widgets-neighborhood".split(" "),
    e,g;a.on("ajax_reload",function(c){d=a.$;b(d)});a.on("popover-interacted",function(a){d=I(d,a);b(d)});a.on("address-form-load",function(c){d=a.$;b(d)})});h.when("A","ready").execute("address-form-csm-edits-per-field-executor",function(a){function b(b){var d=a.state("address-ui-widgets-from-view-state");if(d&&d["country-code"]){b=Na(b);for(var d=d["country-code"],h=0;h<f.length;h++)c(f[h],d,b)}}function c(a,b,c){d(a).change(function(){var d=":editCountOnField:add:";c&&(d=":editCountOnField:edit:");
    d=a+d+b;p(d)})}var d=a.$,f="#address-ui-widgets-enterAddressFullName #address-ui-widgets-countryCode #address-ui-widgets-enterAddressPhoneNumber #address-ui-widgets-enterAddressLine1 #address-ui-widgets-enterAddressLine2 #address-ui-widgets-enterAddressCity #address-ui-widgets-enterAddressStateOrRegion #address-ui-widgets-enterAddressPostalCode #address-ui-widgets-enterAddressLine3 #address-ui-widgets-enterAddressDistrictOrCounty #address-ui-widgets-enterAddressPostalCodeOne #address-ui-widgets-enterAddressPostalCodeTwo #address-ui-widgets-enterAddressCompanyName #address-ui-widgets-countryCode-dropdown-nativeId #address-ui-widgets-enterAddressStateOrRegion-dropdown-nativeId #address-ui-widgets-taxId #address-ui-widgets-landmark #address-ui-widgets-buildingNumber #address-ui-widgets-streetName #address-ui-widgets-complement #address-ui-widgets-neighborhood".split(" ");
    a.on("ajax_reload",function(c){d=a.$;b(d)});a.on("popover-interacted",function(a){d=I(d,a);b(d)});a.on("address-form-load",function(c){d=a.$;b(d)})});var $a="div.a-input-text-wrapper";h.when("A","a-tooltip","ready").execute("detectLocationButton-popover",function(a,b){var c=a.$;a.on("address-form-load",function(){if(a.capabilities.mobile&&V(a)){var d=b.get(c("#address-ui-widgets-detect-location-button-tooltip"));d&&d.show()}})});h.when("A","a-sheet","ready").register("detect-location-auto-bottomsheet",
    function(a,b){var c,d,f,e,g;return{createLocationPermissionBottomSheet:function(){return b.create({name:"locationPermissionMobileWebBottomSheet",preloadDomId:f,sheetLabel:"Location Permission mWeb BottomSheet",closeType:"icon",historySupportEnabled:!1})},initDomElementIdMap:function(){c=a.state("address-ui-widgets-autofill-address-location-permission-bottom-sheet-state");d=c.locationPermissionBottomSheetAllowButton;f=c.locationPermissionBottomSheetContent;e=c.locationPermissionBottomSheetNotNowButton;
    g=c.locationPermissionBottomSheetSection},getLocationPermissionBottomSheetAllowButtonId:function(){return d},getLocationPermissionBottomSheetNotNowButtonId:function(){return e},getLocationPermissionBottomSheetSection:function(){return g},setupBottomSheetRemoval:function(b){a.on("a:sheet:afterHide:locationPermissionMobileWebBottomSheet",function(){p("DetectLocationBottomSheet:mWeb:locationPermissionMobileWebBottomSheet:Destroyed");b.destroy()})}}});h.when("A","ready").execute("pagelet-billing-address-fix-executor",
    function(a){function b(){function a(b){return"1"==b.searchParams.get("isBilling")||"true"==b.searchParams.get("isBilling")}var b=c("form[name\x3d'checkout-auiws-pagelet-form']");if(b.length&&b.attr("action")!=C){var e=new URL(t.location.href),g=new URL(b.attr("action"),t.location.origin);!a(e)||a(g)||b.find("input[name\x3d'isBilling']").length||(p("AddressFormPagelet:AppliedBillingAddressJSFix"),b.append('\x3cinput type\x3d"hidden" name\x3d"isBilling" value\x3d"true"\x3e'))}}var c=a.$;a.on("address-form-load",
    function(){c=a.$;b()});a.on("ajax_reload",function(d){c=a.$;b()})});"use strict";h.when("A","ajax-call-module","ready").register("pom:ajax-helper",function(a,b){function c(a,b){return function(c){c=c.data;"true"===c.isAjaxError?(f("PinOnMapsIsolation:AjaxError"),b(c)):a({suggestions:JSON.parse(c.suggestions)})}}function d(a){return function(b){f("PinOnMapsIsolation:AjaxError");a({isAjaxError:"true",errorCode:"NetworkFailure",errorMessage:"A network error or timeout occurred"})}}function f(a){t.ue&&
    t.ue.count&&t.ue.count(a,(t.ue.count(a)||0)+1)}return{ajax:function(a,f,h){b.auiwsPerformAjaxCall({operation:"AddressDiscoveryService",data:a}).then(c(f,h)).catch(d(h))}}});h.when("A").execute(function(a){function b(b){(b=b.find('[name\x3d"checkout-auiws-pagelet-form"]').find("#address-ui-widgets-countryCode-dropdown-nativeId").val())&&a.trigger("ajax_reload",b)}a.on("a:popover:ajaxContentLoaded:checkout-view-modal",function(a){b(a.popover.getContent())});a.on("checkout:checkoutViewModal:modalContentUpdated",
    function(c){b(a.$(c))})})});
    /* ******** */
    